///////////////////////////////////////////////////////////////////////////////
/// \file template_arity.hpp
/// Replace all nodes stored by reference by nodes stored by value.
//
//  Copyright 2011 Eric Niebler. Distributed under the Boost
//  Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
//  This file is based on a similar one in MPL from Aleksey Gurtovoy.

#ifndef BOOST_PROTO_DETAIL_TEMPLATE_ARITY_HPP_EAN_2011_05_07
#define BOOST_PROTO_DETAIL_TEMPLATE_ARITY_HPP_EAN_2011_05_07

// Somewhat indirect definition of BOOST_PROTO_TEMPLATE_ARITY_PARAM is
// to overcome a shortcoming of the Wave tool used to generate the
// pre-preprocessed headers.
#define BOOST_PROTO_TEMPLATE_ARITY_PARAM BOOST_PROTO_TEMPLATE_ARITY_PARAM2
#define BOOST_PROTO_TEMPLATE_ARITY_PARAM2(param)

#if defined(BOOST_PROTO_EXTENDED_TEMPLATE_PARAMETERS_MATCHING) ||                                   \
  (defined(__WAVE__) && defined(BOOST_PROTO_CREATE_PREPROCESSED_FILES))

#include <boost/preprocessor/cat.hpp>
#include <boost/preprocessor/inc.hpp>
#include <boost/preprocessor/iteration/iterate.hpp>
#include <boost/preprocessor/repetition/enum_params.hpp>
#include <boost/mpl/int.hpp>
#include <boost/proto/proto_fwd.hpp>

#undef BOOST_PROTO_TEMPLATE_ARITY_PARAM2
#define BOOST_PROTO_TEMPLATE_ARITY_PARAM2(param) , param

namespace boost { namespace proto { namespace detail
{
    sized_type<1>::type template_arity_helper(...);

    // Other overloads generated by the preprocessor
    #include <boost/proto/detail/template_arity_helper.hpp>

    template<typename F, int N, int Size>
    struct template_arity_impl2
      : mpl::int_<Size - 1>
    {};

    template<typename F, int N = BOOST_PROTO_MAX_ARITY>
    struct template_arity
      : template_arity_impl2<
            F
          , N
          , sizeof(detail::template_arity_helper((F **)0, (mpl::int_<N> *)0))
        >
    {};

    template<typename F, int N>
    struct template_arity_impl2<F, N, 1>
      : template_arity<F, N-1>
    {};

    template<typename F>
    struct template_arity_impl2<F, 0, 1>
      : mpl::int_<-1>
    {};

}}}

#endif // BOOST_PROTO_EXTENDED_TEMPLATE_PARAMETERS_MATCHING
#endif // BOOST_PROTO_DETAIL_TEMPLATE_ARITY_HPP_EAN_2011_05_07

/* template_arity.hpp
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
*/