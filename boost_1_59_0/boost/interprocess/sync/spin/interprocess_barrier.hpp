//////////////////////////////////////////////////////////////////////////////
//
// (C) Copyright Ion Gaztanaga 2006. Distributed under the Boost
// Software License, Version 1.0. (See accompanying file
// LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/interprocess for documentation.
//
//////////////////////////////////////////////////////////////////////////////

#include<boost/interprocess/exceptions.hpp>
#include <boost/interprocess/sync/scoped_lock.hpp>

#ifndef BOOST_CONFIG_HPP
#  include <boost/config.hpp>
#endif
#
#if defined(BOOST_HAS_PRAGMA_ONCE)
#  pragma once
#endif

namespace boost {
namespace interprocess {

inline barrier::barrier(unsigned int count)
   : m_threshold(count), m_count(count), m_generation(0)
{
   if (count == 0)
      throw std::invalid_argument("count cannot be zero.");
}

inline barrier::~barrier(){}

inline bool barrier::wait()
{
   scoped_lock<interprocess_mutex> lock(m_mutex);
   unsigned int gen = m_generation;

   if (--m_count == 0){
      m_generation++;
      m_count = m_threshold;
      m_cond.notify_all();
      return true;
   }

   while (gen == m_generation){
      m_cond.wait(lock);
   }
   return false;
}

}  //namespace interprocess {
}  //namespace boost {

/* interprocess_barrier.hpp
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
*/