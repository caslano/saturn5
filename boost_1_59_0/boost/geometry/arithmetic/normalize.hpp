// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2016, Oracle and/or its affiliates.
// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP
#define BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP


#include <boost/geometry/core/coordinate_type.hpp>

#include <boost/geometry/arithmetic/arithmetic.hpp>
#include <boost/geometry/arithmetic/dot_product.hpp>
#include <boost/geometry/util/math.hpp>


namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename Point>
inline typename coordinate_type<Point>::type vec_length_sqr(Point const& pt)
{
    return dot_product(pt, pt);
}

template <typename Point>
inline typename coordinate_type<Point>::type vec_length(Point const& pt)
{
    // NOTE: hypot() could be used instead of sqrt()
    return math::sqrt(dot_product(pt, pt));
}

template <typename Point>
inline bool vec_normalize(Point & pt, typename coordinate_type<Point>::type & len)
{
    typedef typename coordinate_type<Point>::type coord_t;

    coord_t const c0 = 0;
    len = vec_length(pt);
    
    if (math::equals(len, c0))
    {
        return false;
    }

    divide_value(pt, len);
    return true;
}

template <typename Point>
inline bool vec_normalize(Point & pt)
{
    typedef typename coordinate_type<Point>::type coord_t;
    coord_t len;
    return vec_normalize(pt, len);
}

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP

/* normalize.hpp
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
*/