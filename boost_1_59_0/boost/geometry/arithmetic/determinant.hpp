// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2009-2012 Mateusz Loskot, London, UK.
// Copyright (c) 2008-2012 Barend Gehrels, Amsterdam, the Netherlands.
// Copyright (c) 2008-2012 Bruno Lalande, Paris, France.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP
#define BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP


#include <cstddef>

#include <boost/geometry/core/access.hpp>
#include <boost/geometry/geometries/concepts/point_concept.hpp>
#include <boost/geometry/util/select_coordinate_type.hpp>

#include <boost/numeric/conversion/cast.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename ReturnType, typename U, typename V>
class calculate_determinant
{
    template <typename T>
    static inline ReturnType rt(T const& v)
    {
        return boost::numeric_cast<ReturnType>(v);
    }

public :

    static inline ReturnType apply(U const& ux, U const& uy
                                 , V const& vx, V const& vy)
    {
        return rt(ux) * rt(vy) - rt(uy) * rt(vx);
    }
};

template <typename ReturnType, typename U, typename V>
inline ReturnType determinant(U const& ux, U const& uy
                            , V const& vx, V const& vy)
{
    return calculate_determinant
        <
            ReturnType, U, V
        >::apply(ux, uy, vx, vy);
}


template <typename ReturnType, typename U, typename V>
inline ReturnType determinant(U const& u, V const& v)
{
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<U>) );
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<V>) );

    return calculate_determinant
        <
            ReturnType,
            typename geometry::coordinate_type<U>::type,
            typename geometry::coordinate_type<V>::type
        >::apply(get<0>(u), get<1>(u), get<0>(v), get<1>(v));
}

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP

/* determinant.hpp
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
*/