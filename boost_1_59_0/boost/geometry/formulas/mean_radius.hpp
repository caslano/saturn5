// Boost.Geometry

// Copyright (c) 2017 Oracle and/or its affiliates.

// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_FORMULAS_MEAN_RADIUS_HPP
#define BOOST_GEOMETRY_FORMULAS_MEAN_RADIUS_HPP

#include <boost/geometry/core/radius.hpp>
#include <boost/geometry/core/tag.hpp>
#include <boost/geometry/core/tags.hpp>

#include <boost/geometry/algorithms/not_implemented.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DISPATCH
namespace formula_dispatch
{

template <typename ResultType, typename Geometry, typename Tag = typename tag<Geometry>::type>
struct mean_radius
    : not_implemented<Tag>
{};

template <typename ResultType, typename Geometry>
struct mean_radius<ResultType, Geometry, srs_sphere_tag>
{
    static inline ResultType apply(Geometry const& geometry)
    {
        return ResultType(get_radius<0>(geometry));
    }
};

template <typename ResultType, typename Geometry>
struct mean_radius<ResultType, Geometry, srs_spheroid_tag>
{
    static inline ResultType apply(Geometry const& geometry)
    {
        // (2*a + b) / 3
        return (ResultType(2) * ResultType(get_radius<0>(geometry))
                + ResultType(get_radius<2>(geometry)))
             / ResultType(3);
    }
};

} // namespace formula_dispatch
#endif // DOXYGEN_NO_DISPATCH

#ifndef DOXYGEN_NO_DETAIL
namespace formula
{

template <typename ResultType, typename Geometry>
inline ResultType mean_radius(Geometry const& geometry)
{
    return formula_dispatch::mean_radius<ResultType, Geometry>::apply(geometry);
}

} // namespace formula
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_FORMULAS_MEAN_RADIUS_HPP

/* mean_radius.hpp
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
*/