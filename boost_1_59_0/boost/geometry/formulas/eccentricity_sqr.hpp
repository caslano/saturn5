// Boost.Geometry

// Copyright (c) 2016, 2018 Oracle and/or its affiliates.

// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_FORMULAS_ECCENCRICITY_SQR_HPP
#define BOOST_GEOMETRY_FORMULAS_ECCENCRICITY_SQR_HPP

#include <boost/geometry/algorithms/not_implemented.hpp>

#include <boost/geometry/core/radius.hpp>
#include <boost/geometry/core/tag.hpp>
#include <boost/geometry/core/tags.hpp>

#include <boost/geometry/util/math.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DISPATCH
namespace formula_dispatch
{

template <typename ResultType, typename Geometry, typename Tag = typename tag<Geometry>::type>
struct eccentricity_sqr
    : not_implemented<Tag>
{};

template <typename ResultType, typename Geometry>
struct eccentricity_sqr<ResultType, Geometry, srs_sphere_tag>
{
    static inline ResultType apply(Geometry const& /*geometry*/)
    {
        return ResultType(0);
    }
};

template <typename ResultType, typename Geometry>
struct eccentricity_sqr<ResultType, Geometry, srs_spheroid_tag>
{
    static inline ResultType apply(Geometry const& geometry)
    {
        // 1 - (b / a)^2
        return ResultType(1) - math::sqr(ResultType(get_radius<2>(geometry))
                                       / ResultType(get_radius<0>(geometry)));
    }
};

} // namespace formula_dispatch
#endif // DOXYGEN_NO_DISPATCH

#ifndef DOXYGEN_NO_DETAIL
namespace formula
{

template <typename ResultType, typename Geometry>
ResultType eccentricity_sqr(Geometry const& geometry)
{
    return formula_dispatch::eccentricity_sqr<ResultType, Geometry>::apply(geometry);
}

} // namespace formula
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_FORMULAS_ECCENCRICITY_SQR_HPP

/* eccentricity_sqr.hpp
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
*/