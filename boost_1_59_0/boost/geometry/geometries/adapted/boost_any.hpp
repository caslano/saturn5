// Boost.Geometry

// Copyright (c) 2021, Oracle and/or its affiliates.

// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Licensed under the Boost Software License version 1.0.
// http://www.boost.org/users/license.html

#ifndef BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_ANY_HPP
#define BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_ANY_HPP


#include <utility>

#include <boost/any.hpp>

#include <boost/geometry/geometries/adapted/detail/any.hpp>

#include <boost/geometry/core/geometry_types.hpp>
#include <boost/geometry/core/tag.hpp>
#include <boost/geometry/core/tags.hpp>
#include <boost/geometry/core/visit.hpp>


namespace boost { namespace geometry
{

namespace detail
{


struct boost_any_cast_policy
{
    template <typename T, typename Any>
    static inline T * apply(Any * any_ptr)
    {
        return boost::any_cast<T>(any_ptr);
    }
};


} // namespace detail

namespace traits
{

template <>
struct tag<boost::any>
{
    using type = dynamic_geometry_tag;
};

template <>
struct visit<boost::any>
{
    template <typename Function, typename Any>
    static void apply(Function && function, Any && any)
    {
        using types_t = typename geometry_types<util::remove_cref_t<Any>>::type;
        geometry::detail::visit_any
            <
                geometry::detail::boost_any_cast_policy, types_t
            >::template apply<0>(std::forward<Function>(function), std::forward<Any>(any));
    }
};


} // namespace traits


}} // namespace boost::geometry


#endif // BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_ANY_HPP

/* boost_any.hpp
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
*/