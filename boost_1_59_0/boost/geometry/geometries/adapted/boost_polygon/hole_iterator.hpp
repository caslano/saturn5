// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2010-2012 Barend Gehrels, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP
#define BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP

// Adapts Geometries from Boost.Polygon for usage in Boost.Geometry
// boost::polygon::polygon_with_holes_data -> boost::geometry::polygon
//   hole_iterator  -> returning ring_proxy's instead of normal polygon_data

#include <boost/polygon/polygon.hpp>

#include <boost/iterator/iterator_facade.hpp>


namespace boost { namespace geometry
{

namespace adapt { namespace bp
{


template <typename Polygon, typename RingProxy>
class hole_iterator
    : public ::boost::iterator_facade
        <
            hole_iterator<Polygon, RingProxy>,
            RingProxy, // value type
            boost::forward_traversal_tag,
            RingProxy // reference type
        >
{
public :
    typedef typename boost::polygon::polygon_with_holes_traits
        <
            Polygon
        >::iterator_holes_type ith_type;

    explicit inline hole_iterator(Polygon& polygon, ith_type const it)
        : m_polygon(polygon)
        , m_base(it)
    {
    }

    typedef std::ptrdiff_t difference_type;

private:
    friend class boost::iterator_core_access;

    inline RingProxy dereference() const
    {
        return RingProxy(m_polygon, this->m_base);
    }

    inline void increment() { ++m_base; }
    inline void decrement() { --m_base; }
    inline void advance(difference_type n)
    {
        for (int i = 0; i < n; i++)
        {
            ++m_base;
        }
    }

    inline bool equal(hole_iterator<Polygon, RingProxy> const& other) const
    {
        return this->m_base == other.m_base;
    }

    Polygon& m_polygon;
    ith_type m_base;
};


}}}}

#endif // BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP


/* hole_iterator.hpp
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
*/