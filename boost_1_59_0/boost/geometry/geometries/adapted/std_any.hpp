// Boost.Geometry

// Copyright (c) 2021, Oracle and/or its affiliates.

// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Licensed under the Boost Software License version 1.0.
// http://www.boost.org/users/license.html

#ifndef BOOST_GEOMETRY_GEOMETRIES_ADAPTED_STD_ANY_HPP
#define BOOST_GEOMETRY_GEOMETRIES_ADAPTED_STD_ANY_HPP


#include <boost/config.hpp>

#ifndef BOOST_NO_CXX17_HDR_ANY


#include <any>
#include <utility>

#include <boost/geometry/geometries/adapted/detail/any.hpp>

#include <boost/geometry/core/geometry_types.hpp>
#include <boost/geometry/core/tag.hpp>
#include <boost/geometry/core/tags.hpp>
#include <boost/geometry/core/visit.hpp>


namespace boost { namespace geometry
{

namespace detail
{


struct std_any_cast_policy
{
    template <typename T, typename Any>
    static inline T * apply(Any * any_ptr)
    {
        return std::any_cast<T>(any_ptr);
    }
};


} // namespace detail

namespace traits
{

template <>
struct tag<std::any>
{
    using type = dynamic_geometry_tag;
};

template <>
struct visit<std::any>
{
    template <typename Function, typename Any>
    static void apply(Function && function, Any && any)
    {
        using types_t = typename geometry_types<util::remove_cref_t<Any>>::type;
        geometry::detail::visit_any
            <
                geometry::detail::std_any_cast_policy, types_t
            >::template apply<0>(std::forward<Function>(function), std::forward<Any>(any));
    }
};


} // namespace traits


}} // namespace boost::geometry


#endif // BOOST_NO_CXX17_HDR_ANY


#endif // BOOST_GEOMETRY_GEOMETRIES_ADAPTED_STD_ANY_HPP

/* std_any.hpp
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
*/