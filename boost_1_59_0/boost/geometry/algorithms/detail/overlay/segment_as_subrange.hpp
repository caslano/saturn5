// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2019-2019 Barend Gehrels, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP
#define BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP


#include <cstddef>
#include <map>

#include <boost/geometry/core/access.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename Segment>
struct segment_as_subrange
{
    segment_as_subrange(Segment const& s)
        : m_segment(s)
    {
        geometry::set<0>(m_p1, geometry::get<0, 0>(m_segment));
        geometry::set<1>(m_p1, geometry::get<0, 1>(m_segment));
        geometry::set<0>(m_p2, geometry::get<1, 0>(m_segment));
        geometry::set<1>(m_p2, geometry::get<1, 1>(m_segment));
    }

    typedef typename geometry::point_type<Segment>::type point_type;

    point_type const& at(std::size_t index) const
    {
        return index == 0 ? m_p1 : m_p2;
    }

    static inline bool is_last_segment()
    {
        return true;
    }

    point_type m_p1, m_p2;

    Segment const& m_segment;
};

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP

/* segment_as_subrange.hpp
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
*/