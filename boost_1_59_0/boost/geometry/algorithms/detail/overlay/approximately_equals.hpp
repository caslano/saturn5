// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2021 Barend Gehrels, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_APPROXIMATELY_EQUALS_HPP
#define BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_APPROXIMATELY_EQUALS_HPP

#include <boost/geometry/core/access.hpp>
#include <boost/geometry/util/math.hpp>
#include <boost/geometry/util/select_coordinate_type.hpp>
#include <boost/geometry/util/select_most_precise.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail { namespace overlay
{

template <typename Point1, typename Point2, typename E>
inline bool approximately_equals(Point1 const& a, Point2 const& b,
                                 E const& epsilon_multiplier)
{
    using coor_t = typename select_coordinate_type<Point1, Point2>::type;
    using calc_t = typename geometry::select_most_precise<coor_t, E>::type;

    calc_t const& a0 = geometry::get<0>(a);
    calc_t const& b0 = geometry::get<0>(b);
    calc_t const& a1 = geometry::get<1>(a);
    calc_t const& b1 = geometry::get<1>(b);

    math::detail::equals_factor_policy<calc_t> policy(a0, b0, a1, b1);
    policy.multiply_epsilon(epsilon_multiplier);

    return math::detail::equals_by_policy(a0, b0, policy)
        && math::detail::equals_by_policy(a1, b1, policy);
}

}} // namespace detail::overlay
#endif //DOXYGEN_NO_DETAIL


}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_APPROXIMATELY_EQUALS_HPP

/* approximately_equals.hpp
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
*/