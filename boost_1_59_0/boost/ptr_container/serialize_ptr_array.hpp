// Copyright Sebastian Ramacher, 2007.
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PTR_CONTAINER_SERIALIZE_PTR_ARRAY_HPP
#define BOOST_PTR_CONTAINER_SERIALIZE_PTR_ARRAY_HPP

#include <boost/ptr_container/detail/serialize_reversible_cont.hpp>
#include <boost/ptr_container/ptr_array.hpp>

namespace boost 
{

namespace serialization 
{

template<class Archive, class T, std::size_t N, class CloneAllocator>
void save(Archive& ar, const ptr_array<T, N, CloneAllocator>& c, unsigned int /*version*/)
{
    ptr_container_detail::save_helper(ar, c);
}

template<class Archive, class T, std::size_t N, class CloneAllocator>
void load(Archive& ar, ptr_array<T, N, CloneAllocator>& c, unsigned int /*version*/)
{
    typedef ptr_array<T, N, CloneAllocator> container_type;
    typedef BOOST_DEDUCED_TYPENAME container_type::size_type size_type;
    
    for(size_type i = 0u; i != N; ++i)
    {
        T* p;
        ar >> boost::serialization::make_nvp( ptr_container_detail::item(), p );
        c.replace(i, p);
    }
}

template<class Archive, class T, std::size_t N, class CloneAllocator>
void serialize(Archive& ar, ptr_array<T, N, CloneAllocator>& c, const unsigned int version)
{
   split_free(ar, c, version);
}

} // namespace serialization
} // namespace boost

#endif

/* serialize_ptr_array.hpp
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
*/