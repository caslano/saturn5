//
// Copyright 2012 Christian Henning, Andreas Pokorny, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_PIXEL_TYPE_HPP
#define BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_PIXEL_TYPE_HPP

#include <boost/gil/extension/toolbox/dynamic_images.hpp>
#include <boost/gil/extension/toolbox/metafunctions/is_bit_aligned.hpp>

#include <boost/gil/detail/mp11.hpp>

namespace boost{ namespace gil {

/// get_pixel_type metafunction
/// \brief Depending on Image this function generates either
///        the pixel type or the reference type in case
///        the image is bit_aligned.
template<typename View>
struct get_pixel_type
{
    using type = mp11::mp_if
        <
            is_bit_aligned<typename View::value_type>,
            typename View::reference,
            typename View::value_type
        >;
};

template<typename ...Views>
struct get_pixel_type<any_image_view<Views...>>
{
    using type = any_image_pixel_t;
};

}} // namespace boost::gil

#endif

/* get_pixel_type.hpp
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
*/