//
// Copyright 2012 Christian Henning, Andreas Pokorny, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_PIXEL_BIT_SIZE_HPP
#define BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_PIXEL_BIT_SIZE_HPP

#include <boost/gil/bit_aligned_pixel_reference.hpp>
#include <boost/gil/packed_pixel.hpp>

namespace boost{ namespace gil {

/// pixel_bit_size metafunctions
/// \brief Accumulates the all channel size.
///
/// \code
/// using image_t = bit_aligned_image5_type<16, 16, 16, 8, 8, devicen_layout_t<5>>::type;
/// const int size = pixel_bit_size<image_t::view_t::reference>::value;
/// \endcode
template< typename PixelRef>
struct pixel_bit_size : std::integral_constant<int, 0> {};

template <typename B, typename C, typename L, bool M>
struct pixel_bit_size<bit_aligned_pixel_reference<B, C, L, M>>
    : mp11::mp_fold
    <
        C,
        std::integral_constant<int, 0>,
        mp11::mp_plus
    >
{};

template <typename B, typename C, typename L, bool M>
struct pixel_bit_size<bit_aligned_pixel_reference<B, C, L, M> const>
    : mp11::mp_fold
    <
        C,
        std::integral_constant<int, 0>,
        mp11::mp_plus
    >
{};

template <typename B, typename C, typename L>
struct pixel_bit_size<packed_pixel<B, C, L>>
    : mp11::mp_fold
    <
        C,
        std::integral_constant<int, 0>,
        mp11::mp_plus
    >

{};

template <typename B, typename C, typename L>
struct pixel_bit_size<const packed_pixel<B,C,L> >
    : mp11::mp_fold
    <
        C,
        std::integral_constant<int, 0>,
        mp11::mp_plus
    >
{};

}} // namespace boost::gil

#endif

/* pixel_bit_size.hpp
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
*/