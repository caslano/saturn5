//
// Copyright 2012 Christian Henning, Andreas Pokorny, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_NUM_BITS_HPP
#define BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_NUM_BITS_HPP

#include <boost/gil/channel.hpp>
#include <boost/gil/detail/is_channel_integral.hpp>
#include <boost/gil/detail/mp11.hpp>

#include <type_traits>

namespace boost{ namespace gil {

/// get_num_bits metafunctions
/// \brief Determines the numbers of bits for the given channel type.

template <typename T, class = void>
struct get_num_bits;

template<typename B, int I, int S, bool M>
struct get_num_bits<packed_channel_reference<B, I, S, M>>
    : std::integral_constant<int, S>
{};

template<typename B, int I, int S, bool M>
struct get_num_bits<packed_channel_reference<B, I, S, M> const>
    : std::integral_constant<int, S>
{};

template<typename B, int I, bool M>
struct get_num_bits<packed_dynamic_channel_reference<B, I, M>>
    : std::integral_constant<int, I>
{};

template<typename B, int I, bool M>
struct get_num_bits<packed_dynamic_channel_reference<B, I, M> const>
    : std::integral_constant<int, I>
{};

template<int N>
struct get_num_bits<packed_channel_value<N>> : std::integral_constant<int, N>
{};

template<int N>
struct get_num_bits<packed_channel_value<N> const> : std::integral_constant<int, N>
{};

template <typename T>
struct get_num_bits
    <
        T,
        typename std::enable_if
        <
            mp11::mp_and
            <
                detail::is_channel_integral<T>,
                mp11::mp_not<std::is_class<T>>
           >::value
       >::type
    >
    : std::integral_constant<std::size_t, sizeof(T) * 8>
{};

}} // namespace boost::gil

#endif

/* get_num_bits.hpp
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
*/