//
// Copyright 2009 Christian Henning
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_JPEG_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_JPEG_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/jpeg/tags.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< jpeg_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    if( info._color_space == JCS_YCbCr )
    {
        // We read JCS_YCbCr files as rgb.
        return ( is_read_supported< typename View::value_type
                                  , jpeg_tag
                                  >::_color_space == JCS_RGB );
    }

    return ( is_read_supported< typename View::value_type
                              , jpeg_tag
                              >::_color_space == info._color_space );
}

template< typename View >
bool is_allowed( const image_read_info< jpeg_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/