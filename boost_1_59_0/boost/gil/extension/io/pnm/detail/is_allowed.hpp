//
// Copyright 2009 Christian Henning
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_PNM_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_PNM_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/pnm/tags.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< pnm_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    pnm_image_type::type asc_type = is_read_supported< typename get_pixel_type< View >::type
                                                     , pnm_tag
                                                     >::_asc_type;

    pnm_image_type::type bin_type = is_read_supported< typename get_pixel_type< View >::type
                                                     , pnm_tag
                                                     >::_bin_type;
    if( info._type == pnm_image_type::mono_asc_t::value )
    {
        // ascii mono images are read gray8_image_t
        return (  asc_type == pnm_image_type::gray_asc_t::value );
    }


    return (  asc_type == info._type
           || bin_type == info._type
           );
}

template< typename View >
bool is_allowed( const image_read_info< pnm_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/