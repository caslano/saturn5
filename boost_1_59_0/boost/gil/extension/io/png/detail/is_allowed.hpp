//
// Copyright 2008 Christian Henning, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_PNG_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_PNG_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/png/tags.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< png_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    using pixel_t = typename get_pixel_type<View>::type;

    using channel_t = typename channel_traits<typename element_type<pixel_t>::type>::value_type;

    const png_num_channels::type dst_num_channels = num_channels< pixel_t >::value;
    const png_bitdepth::type     dst_bit_depth    = detail::unsigned_integral_num_bits< channel_t >::value;

    return   dst_num_channels == info._num_channels
          && dst_bit_depth    == info._bit_depth;
}

template< typename View >
bool is_allowed( const image_read_info< png_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/