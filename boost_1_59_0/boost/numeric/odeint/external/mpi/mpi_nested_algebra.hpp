/*
 [auto_generated]
 boost/numeric/odeint/external/mpi/mpi_nested_algebra.hpp

 [begin_description]
 Nested parallelized algebra for MPI.
 [end_description]

 Copyright 2013 Karsten Ahnert
 Copyright 2013 Mario Mulansky
 Copyright 2013 Pascal Germroth

 Distributed under the Boost Software License, Version 1.0.
 (See accompanying file LICENSE_1_0.txt or
 copy at http://www.boost.org/LICENSE_1_0.txt)
 */


#ifndef BOOST_NUMERIC_ODEINT_EXTERNAL_MPI_MPI_NESTED_ALGEBRA_HPP_INCLUDED
#define BOOST_NUMERIC_ODEINT_EXTERNAL_MPI_MPI_NESTED_ALGEBRA_HPP_INCLUDED

#include <boost/numeric/odeint/algebra/norm_result_type.hpp>
#include <boost/numeric/odeint/util/n_ary_helper.hpp>

namespace boost {
namespace numeric {
namespace odeint {

/** \brief MPI-parallelized algebra, wrapping another algebra.
 */
template< class InnerAlgebra >
struct mpi_nested_algebra
{

// execute the InnerAlgebra on each node's local data.
#define BOOST_ODEINT_GEN_BODY(n) \
    InnerAlgebra::for_each##n( \
        BOOST_PP_ENUM_BINARY_PARAMS(n, s, () BOOST_PP_INTERCEPT) , \
        op \
    );
BOOST_ODEINT_GEN_FOR_EACH(BOOST_ODEINT_GEN_BODY)
#undef BOOST_ODEINT_GEN_BODY


    template< class NestedState >
    static typename norm_result_type< typename NestedState::value_type >::type norm_inf( const NestedState &s )
    {
        typedef typename norm_result_type< typename NestedState::value_type >::type result_type;
        // local maximum
        result_type value = InnerAlgebra::norm_inf( s() );
        // global maximum
        return boost::mpi::all_reduce(s.world, value, boost::mpi::maximum<result_type>());
    }

};


}
}
}

#endif

/* mpi_nested_algebra.hpp
+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
*/