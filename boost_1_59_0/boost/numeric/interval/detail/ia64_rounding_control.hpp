/* Boost interval/detail/ia64_rounding_control.hpp file
 *
 * Copyright 2006-2007 Boris Gubenko
 *
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or
 * copy at http://www.boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_NUMERIC_INTERVAL_DETAIL_IA64_ROUNDING_CONTROL_HPP
#define BOOST_NUMERIC_INTERVAL_DETAIL_IA64_ROUNDING_CONTROL_HPP

#if !defined(ia64) && !defined(__ia64) && !defined(__ia64__)
#error This header only works on ia64 CPUs.
#endif

#if defined(__hpux)

#   include <fenv.h>

namespace boost {
namespace numeric {
namespace interval_lib {
namespace detail {


    struct ia64_rounding_control
    {
    typedef unsigned int rounding_mode;

    static void set_rounding_mode(const rounding_mode& mode)  { 
fesetround(mode); }
    static void get_rounding_mode(rounding_mode& mode)  { mode = fegetround(); }

    static void downward()    { set_rounding_mode(FE_DOWNWARD); }
    static void upward()      { set_rounding_mode(FE_UPWARD); }
    static void to_nearest()  { set_rounding_mode(FE_TONEAREST); }
    static void toward_zero() { set_rounding_mode(FE_TOWARDZERO); }
    };

} // namespace detail

extern "C" {
  float rintf(float);
  double rint(double);
  long double rintl(long double);
}

template<>
struct rounding_control<float>:
  detail::ia64_rounding_control
{
  static float force_rounding(const float r)
  { volatile float _r = r; return _r; }
  static float to_int(const float& x) { return rintf(x); }
};

template<>
struct rounding_control<double>:
  detail::ia64_rounding_control
{
  static const double & force_rounding(const double& r) { return r; }
  static double to_int(const double& r) { return rint(r); }
};

template<>
struct rounding_control<long double>:
  detail::ia64_rounding_control
{
  static const long double & force_rounding(const long double& r) { return r; }
  static long double to_int(const long double& r) { return rintl(r); }
};

} // namespace interval_lib
} // namespace numeric
} // namespace boost

#undef BOOST_NUMERIC_INTERVAL_NO_HARDWARE

#endif /* __hpux */

#endif /* BOOST_NUMERIC_INTERVAL_DETAIL_IA64_ROUNDING_CONTROL_HPP */


/* ia64_rounding_control.hpp
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
*/