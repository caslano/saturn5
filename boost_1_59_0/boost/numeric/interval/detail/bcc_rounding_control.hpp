/* Boost interval/detail/bcc_rounding_control.hpp file
 *
 * Copyright 2000 Jens Maurer
 * Copyright 2002 Hervé Brönnimann, Guillaume Melquiond, Sylvain Pion
 *
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or
 * copy at http://www.boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP
#define BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP

#if !defined(__BORLANDC__) || defined(__clang__)
#  error This header is only intended for Borland C++.
#endif

#ifndef _M_IX86
#  error This header only works on x86 CPUs.
#endif

#include <float.h>      // Borland C++ rounding control

namespace boost {
namespace numeric {
namespace interval_lib {
namespace detail {

#ifndef BOOST_NUMERIC_INTERVAL_KEEP_EXCEPTIONS_FOR_BCC
extern "C" { unsigned int _RTLENTRY _fm_init(void); }

struct borland_workaround {
  borland_workaround() { _fm_init(); }
};

static borland_workaround borland_workaround_exec;
#endif // BOOST_NUMERIC_INTERVAL_KEEP_EXCEPTIONS_FOR_BCC

__inline double rint(double)
{ __emit__(0xD9); __emit__(0xFC); /* asm FRNDINT */ }

struct x86_rounding
{
  typedef unsigned int rounding_mode;
  static void get_rounding_mode(rounding_mode& mode)
  { mode = _control87(0, 0); }
  static void set_rounding_mode(const rounding_mode mode)
  { _control87(mode, 0xffff); } 
  static double to_int(const double& x) { return rint(x); }
};

} // namespace detail
} // namespace interval_lib
} // namespace numeric
} // namespace boost

#endif /* BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP */

/* bcc_rounding_control.hpp
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
*/