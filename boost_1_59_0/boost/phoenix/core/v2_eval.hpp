/*=============================================================================
    Copyright (c) 2011 Thomas Heller

    Distributed under the Boost Software License, Version 1.0. (See accompanying 
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/
#ifndef BOOST_PHOENIX_CORE_V2_EVAL_HPP
#define BOOST_PHOENIX_CORE_V2_EVAL_HPP

#include <boost/phoenix/core/limits.hpp>
#include <boost/phoenix/core/environment.hpp>
#include <boost/phoenix/core/is_actor.hpp>
#include <boost/phoenix/core/meta_grammar.hpp>
#include <boost/phoenix/core/terminal_fwd.hpp>
#include <boost/phoenix/support/vector.hpp>
#include <boost/proto/transform/fold.hpp>
#include <boost/proto/transform/lazy.hpp>

namespace boost { namespace phoenix
{
    struct v2_eval
        : proto::callable
    {
        template <typename Sig>
        struct result;

        template <typename This, typename Eval, typename Env>
        struct result<This(Eval, Env)>
            : Eval::template result<typename proto::detail::uncvref<Env>::type>
        {};

        template <typename This, typename Eval, typename Env>
        struct result<This(Eval &, Env)>
            : Eval::template result<typename proto::detail::uncvref<Env>::type>
        {};

        template <typename This, typename Eval, typename Env>
        struct result<This(Eval const &, Env)>
            : Eval::template result<typename proto::detail::uncvref<Env>::type>
        {};

        template <typename Eval, typename Env>
        typename result<v2_eval(Eval const&, Env)>::type
        operator()(Eval const & e, Env const & env) const
        {
            return e.eval(env);
        }
    };
}}

#endif

/* v2_eval.hpp
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
*/