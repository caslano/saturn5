
#ifndef BOOST_CONTRACT_DETAIL_CHECKING_HPP_
#define BOOST_CONTRACT_DETAIL_CHECKING_HPP_

// Copyright (C) 2008-2018 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0 (see accompanying
// file LICENSE_1_0.txt or a copy at http://www.boost.org/LICENSE_1_0.txt).
// See: http://www.boost.org/doc/libs/release/libs/contract/doc/html/index.html

#include <boost/contract/core/config.hpp>
#include <boost/contract/detail/static_local_var.hpp>
#include <boost/contract/detail/declspec.hpp>
#include <boost/thread/mutex.hpp>
#include <boost/noncopyable.hpp>
#include <boost/config.hpp>

namespace boost { namespace contract { namespace detail {

#ifdef BOOST_MSVC
    #pragma warning(push)
    #pragma warning(disable: 4275) // Base w/o DLL spec (noncopyable).
    #pragma warning(disable: 4251) // Member w/o DLL spec (mutex_ type).
#endif

// RAII facility to disable assertions while checking other assertions.
class BOOST_CONTRACT_DETAIL_DECLSPEC checking :
    private boost::noncopyable // Non-copyable resource (might use mutex, etc.).
{
public:
    explicit checking() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            init_locked();
        #else
            init_unlocked();
        #endif
    }

    ~checking() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            done_locked();
        #else
            done_unlocked();
        #endif
    }
    
    static bool already() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            return already_locked();
        #else
            return already_unlocked();
        #endif
    }

private:
    void init_unlocked();
    void init_locked();

    void done_unlocked();
    void done_locked();

    static bool already_unlocked();
    static bool already_locked();

    struct mutex_tag;
    typedef static_local_var<mutex_tag, boost::mutex> mutex;

    struct checking_tag;
    typedef static_local_var_init<checking_tag, bool, bool, false> flag;
};

#ifdef BOOST_MSVC
    #pragma warning(pop)
#endif

} } } // namespace

#ifdef BOOST_CONTRACT_HEADER_ONLY
    #include <boost/contract/detail/inlined/detail/checking.hpp>
#endif

#endif // #include guard


/* checking.hpp
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
*/