// (C) Copyright 2005 Matthias Troyer 

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

//  Authors: Matthias Troyer

#ifndef BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP
#define BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP

#include <boost/archive/detail/auto_link_archive.hpp>
#include <boost/archive/text_oarchive.hpp>
#include <boost/mpi/detail/forward_skeleton_oarchive.hpp>
#include <boost/mpi/detail/ignore_oprimitive.hpp>
#include <boost/archive/detail/register_archive.hpp>

namespace boost { namespace mpi {

// an archive that writes a text skeleton into a stream

class text_skeleton_oarchive 
  : public detail::ignore_oprimitive,
    public detail::forward_skeleton_oarchive<text_skeleton_oarchive,boost::archive::text_oarchive>
{
public:
    text_skeleton_oarchive(std::ostream & s, unsigned int flags = 0) 
     : detail::forward_skeleton_oarchive<text_skeleton_oarchive,boost::archive::text_oarchive>(skeleton_archive_)
     , skeleton_archive_(s,flags)
    {}

private:
    boost::archive::text_oarchive skeleton_archive_;
};

namespace detail {

typedef boost::mpi::detail::forward_skeleton_oarchive<boost::mpi::text_skeleton_oarchive,boost::archive::text_oarchive> type3;

}


} } // end namespace boost::mpi

// required by export
BOOST_SERIALIZATION_REGISTER_ARCHIVE(boost::mpi::text_skeleton_oarchive)
BOOST_SERIALIZATION_REGISTER_ARCHIVE(boost::mpi::detail::type3)


#endif // BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP

/* text_skeleton_oarchive.hpp
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
*/