// Copyright 2005 Douglas Gregor.

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

// Message Passing Interface 1.1 -- Section 3. MPI Point-to-point
#ifndef BOOST_MPI_DETAIL_POINT_TO_POINT_HPP
#define BOOST_MPI_DETAIL_POINT_TO_POINT_HPP

// For (de-)serializing sends and receives
#include <boost/mpi/config.hpp>
#include <boost/mpi/packed_oarchive.hpp>
#include <boost/mpi/packed_iarchive.hpp>

namespace boost { namespace mpi {

class request;
class communicator;

namespace detail {

/** Sends a packed archive using MPI_Send. */
BOOST_MPI_DECL void
packed_archive_send(communicator const& comm, int dest, int tag,
                    const packed_oarchive& ar);

/** Sends a packed archive using MPI_Isend.
 *
 * This routine may split sends into multiple packets. The MPI_Request
 * for each packet will be placed into the out_requests array, up to
 * num_out_requests packets. The number of packets sent will be
 * returned from the function.
 */
BOOST_MPI_DECL request
packed_archive_isend(communicator const& comm, int dest, int tag,
                     const packed_oarchive& ar);

/**
 * \overload
 */
BOOST_MPI_DECL request
packed_archive_isend(communicator const& comm, int dest, int tag,
                     const packed_iarchive& ar);

/** Receives a packed archive using MPI_Recv. */
BOOST_MPI_DECL void
packed_archive_recv(communicator const& comm, int source, int tag, packed_iarchive& ar,
                    MPI_Status& status);

} } } // end namespace boost::mpi::detail

#endif // BOOST_MPI_DETAIL_POINT_TO_POINT_HPP

/* point_to_point.hpp
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
*/