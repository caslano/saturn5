//          Copyright Alain Miniussi 2014.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

// Authors: Alain Miniussi

#ifndef BOOST_MPI_ANTIQUES_HPP
#define BOOST_MPI_ANTIQUES_HPP

#include <vector>

// Support for some obsolette compilers

namespace boost { namespace mpi {
namespace detail {
  // Some old gnu compiler have no support for vector<>::data
  // Use this in the mean time, the cumbersome syntax should 
  // serve as an incentive to get rid of this when those compilers 
  // are dropped.
  template <typename T, typename A>
  T* c_data(std::vector<T,A>& v) { return v.empty() ? static_cast<T*>(0) : &(v[0]); }

  template <typename T, typename A>
  T const* c_data(std::vector<T,A> const& v) { return v.empty() ? static_cast<T const*>(0) : &(v[0]); }

  // Some old MPI implementation (OpenMPI 1.6 for example) have non 
  // conforming API w.r.t. constness.
  // We choose to fix this trhough this converter in order to 
  // explain/remember why we're doing this and remove it easilly 
  // when support for those MPI is dropped.
  // The fix is as specific (un templatized, for one) as possible 
  // in order to encourage it usage for the probleme at hand.
  // Problematic API include MPI_Send
  inline
  void *unconst(void const* addr) { return const_cast<void*>(addr); }

} } }

#endif

/* antiques.hpp
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
*/