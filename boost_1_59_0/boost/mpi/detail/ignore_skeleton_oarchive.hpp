// (C) Copyright 2005 Matthias Troyer 

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

//  Authors: Matthias Troyer

#ifndef BOOST_MPI_DETAIL_IGNORE_SKELETON_OARCHIVE_HPP
#define BOOST_MPI_DETAIL_IGNORE_SKELETON_OARCHIVE_HPP

#include <boost/archive/detail/auto_link_archive.hpp>
#include <boost/archive/detail/common_oarchive.hpp>
#include <boost/archive/basic_archive.hpp>
#include <boost/archive/detail/oserializer.hpp>
#include <boost/serialization/collection_size_type.hpp>
#include <boost/serialization/array.hpp>
#include <boost/serialization/item_version_type.hpp>

namespace boost { namespace mpi { namespace detail {

template<class Archive>
class ignore_skeleton_oarchive 
  : public archive::detail::common_oarchive<Archive>
{
public:
    ignore_skeleton_oarchive()
      : archive::detail::common_oarchive<Archive>(archive::no_header)
    {
    }

#ifdef BOOST_NO_MEMBER_TEMPLATE_FRIENDS
public:
#else
    friend class archive::detail::interface_oarchive<Archive>;
    friend class archive::save_access;
protected:
#endif
  template<class T>
  void save_override(T const& t)
  {
    archive::save(* this->This(), t);
  }

#define BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(T) \
    void save_override(T const &)              \
    {}

BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::class_id_optional_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::version_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::library_version_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::class_id_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::class_id_reference_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::object_id_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::object_reference_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::tracking_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(archive::class_name_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(serialization::collection_size_type)
BOOST_ARCHIVE_IGNORE_IMPLEMENTATION(serialization::item_version_type)

    void save_override(std::string const & s)       
    {
      if (s.size())
        save_override(serialization::make_array(s.data(),s.size()));
    }

#undef BOOST_ARCHIVE_IGNORE_IMPLEMENTATION
};


} } } // end namespace boost::mpi::detail

#endif // BOOST_MPI_DETAIL_IGNORE_SKELETON_OARCHIVE_HPP

/* ignore_skeleton_oarchive.hpp
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
*/