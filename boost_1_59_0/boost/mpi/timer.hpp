// Copyright (C) 2006 Douglas Gregor <doug.gregor -at- gmail.com>

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

/** @file timer.hpp
 *
 *  This header provides the @c timer class, which provides access to
 *  the MPI timers.
 */
#ifndef BOOST_MPI_TIMER_HPP
#define BOOST_MPI_TIMER_HPP

#include <boost/mpi/config.hpp>
#include <boost/limits.hpp>

namespace boost { namespace mpi {

/** @brief A simple timer that provides access to the MPI timing
 * facilities.
 *
 *  The @c timer class is a simple wrapper around the MPI timing
 *  facilities that mimics the interface of the Boost Timer library.
 */
class BOOST_MPI_DECL timer {
public:
  /** Initializes the timer
   *
   * @post @c elapsed() == 0
   */
  timer();

  /** Restart the timer.
   *
   * @post @c elapsed() == 0
   */
  void restart();

  /** Return the amount of time that has elapsed since the last
   *  construction or reset, in seconds.
   */
  double elapsed() const;

  /** Return an estimate of the maximum possible value of
   *  elapsed(). Note that this routine may return too high a value on
   *  some systems. 
   */
  double elapsed_max() const;  

  /** Returns the minimum non-zero value that @c elapsed() may
   *  return. This is the resolution of the timer.
   */
  double elapsed_min() const;

  /** Determines whether the elapsed time values are global times or
      local processor times. */
  static bool time_is_global();

private:
  double start_time;
}; // timer

inline timer::timer() 
{ 
  restart(); 
}

inline void timer::restart()
{
  start_time = MPI_Wtime();
}

inline double timer::elapsed() const
{
  return MPI_Wtime() - start_time;
}

inline double timer::elapsed_max() const
{
  return (std::numeric_limits<double>::max)();
}

inline double timer::elapsed_min() const
{
  return MPI_Wtick();
}

} } // end namespace boost::mpi

#endif // BOOST_MPI_TIMER_HPP

/* timer.hpp
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
*/