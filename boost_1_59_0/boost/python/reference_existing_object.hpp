// Copyright David Abrahams 2002.
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
#ifndef REFERENCE_EXISTING_OBJECT_DWA200222_HPP
# define REFERENCE_EXISTING_OBJECT_DWA200222_HPP

# include <boost/python/detail/prefix.hpp>
# include <boost/python/detail/indirect_traits.hpp>
# include <boost/mpl/if.hpp>
# include <boost/python/to_python_indirect.hpp>
# include <boost/python/detail/type_traits.hpp>

namespace boost { namespace python { 

namespace detail
{
  template <class R>
  struct reference_existing_object_requires_a_pointer_or_reference_return_type
# if defined(__GNUC__) || defined(__EDG__)
  {}
# endif
  ;
}

template <class T> struct to_python_value;

struct reference_existing_object
{
    template <class T>
    struct apply
    {
        BOOST_STATIC_CONSTANT(
            bool, ok = detail::is_pointer<T>::value || detail::is_reference<T>::value);
        
        typedef typename mpl::if_c<
            ok
            , to_python_indirect<T, detail::make_reference_holder>
            , detail::reference_existing_object_requires_a_pointer_or_reference_return_type<T>
        >::type type;
    };
};

}} // namespace boost::python

#endif // REFERENCE_EXISTING_OBJECT_DWA200222_HPP

/* reference_existing_object.hpp
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
*/