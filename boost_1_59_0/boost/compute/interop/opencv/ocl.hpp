//---------------------------------------------------------------------------//
// Copyright (c) 2013-2014 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_INTEROP_OPENCV_OCL_HPP
#define BOOST_COMPUTE_INTEROP_OPENCV_OCL_HPP

#include <opencv2/ocl/ocl.hpp>

#include <boost/compute/buffer.hpp>
#include <boost/compute/context.hpp>
#include <boost/compute/command_queue.hpp>

namespace boost {
namespace compute {

context opencv_ocl_get_context()
{
    void *ocl_context = cv::ocl::getoclContext();
    if(!ocl_context){
        return context();
    }

    return context(*(static_cast<cl_context *>(ocl_context)));
}

command_queue opencv_ocl_get_command_queue()
{
    void *ocl_queue = cv::ocl::getoclCommandQueue();
    if(!ocl_queue){
        return command_queue();
    }

    return command_queue(*(static_cast<cl_command_queue *>(ocl_queue)));
}

buffer opencv_ocl_get_buffer(const cv::ocl::oclMat &mat)
{
    return buffer(reinterpret_cast<cl_mem>(mat.data));
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_INTEROP_OPENCV_OCL_HPP

/* ocl.hpp
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
*/