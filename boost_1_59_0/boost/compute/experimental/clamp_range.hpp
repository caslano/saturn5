//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP
#define BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP

#include <iterator>

#include <boost/compute/lambda.hpp>
#include <boost/compute/algorithm/transform.hpp>

namespace boost {
namespace compute {
namespace experimental {

template<class InputIterator, class OutputIterator>
inline OutputIterator
clamp_range(InputIterator first,
            InputIterator last,
            OutputIterator result,
            typename std::iterator_traits<InputIterator>::value_type lo,
            typename std::iterator_traits<InputIterator>::value_type hi,
            command_queue &queue)
{
    using ::boost::compute::lambda::_1;
    using ::boost::compute::lambda::_2;
    using ::boost::compute::lambda::clamp;

    return ::boost::compute::transform(
        first,
        last,
        result,
        clamp(_1, lo, hi),
        queue
    );
}

} // end experimental namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP

/* clamp_range.hpp
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
*/