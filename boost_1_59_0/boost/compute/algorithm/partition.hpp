//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_PARTITION_HPP
#define BOOST_COMPUTE_ALGORITHM_PARTITION_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/stable_partition.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

///
/// Partitions the elements in the range [\p first, \p last) according to
/// \p predicate. Order of the elements need not be preserved.
///
/// Space complexity: \Omega(3n)
///
/// \see is_partitioned() and stable_partition()
///
template<class Iterator, class UnaryPredicate>
inline Iterator partition(Iterator first,
                          Iterator last,
                          UnaryPredicate predicate,
                          command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<Iterator>::value);
    return stable_partition(first, last, predicate, queue);
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_PARTITION_HPP

/* partition.hpp
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
*/