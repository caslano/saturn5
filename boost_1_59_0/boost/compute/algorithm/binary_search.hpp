//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP
#define BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/lower_bound.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Returns \c true if \p value is in the sorted range [\p first,
/// \p last).
///
/// Space complexity: \Omega(1)
template<class InputIterator, class T>
inline bool binary_search(InputIterator first,
                          InputIterator last,
                          const T &value,
                          command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    InputIterator position = lower_bound(first, last, value, queue);

    return position != last && position.read(queue) == value;
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP

/* binary_search.hpp
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
*/