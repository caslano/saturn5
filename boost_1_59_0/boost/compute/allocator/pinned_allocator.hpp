//---------------------------------------------------------------------------//
// Copyright (c) 2013-2014 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP
#define BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP

#include <boost/compute/allocator/buffer_allocator.hpp>

namespace boost {
namespace compute {

template<class T>
class pinned_allocator : public buffer_allocator<T>
{
public:
    explicit pinned_allocator(const context &context)
        : buffer_allocator<T>(context)
    {
        buffer_allocator<T>::set_mem_flags(
            buffer::read_write | buffer::alloc_host_ptr
        );
    }

    pinned_allocator(const pinned_allocator<T> &other)
        : buffer_allocator<T>(other)
    {
    }

    pinned_allocator<T>& operator=(const pinned_allocator<T> &other)
    {
        if(this != &other){
            buffer_allocator<T>::operator=(other);
        }

        return *this;
    }

    ~pinned_allocator()
    {
    }
};

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP

/* pinned_allocator.hpp
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
*/