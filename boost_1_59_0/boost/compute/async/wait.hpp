//---------------------------------------------------------------------------//
// Copyright (c) 2013-2014 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ASYNC_WAIT_HPP
#define BOOST_COMPUTE_ASYNC_WAIT_HPP

#include <boost/compute/config.hpp>
#include <boost/compute/utility/wait_list.hpp>

namespace boost {
namespace compute {
namespace detail {

#ifndef BOOST_COMPUTE_NO_VARIADIC_TEMPLATES
template<class Event>
inline void insert_events_variadic(wait_list &l, Event&& event)
{
    l.insert(std::forward<Event>(event));
}

template<class Event, class... Rest>
inline void insert_events_variadic(wait_list &l, Event&& event, Rest&&... rest)
{
    l.insert(std::forward<Event>(event));

    insert_events_variadic(l, std::forward<Rest>(rest)...);
}
#endif // BOOST_COMPUTE_NO_VARIADIC_TEMPLATES

} // end detail namespace

#ifndef BOOST_COMPUTE_NO_VARIADIC_TEMPLATES
/// Blocks until all events have completed. Events can either be \ref event
/// objects or \ref future "future<T>" objects.
///
/// \see event, wait_list
template<class... Events>
inline void wait_for_all(Events&&... events)
{
    wait_list l;
    detail::insert_events_variadic(l, std::forward<Events>(events)...);
    l.wait();
}
#endif // BOOST_COMPUTE_NO_VARIADIC_TEMPLATES

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ASYNC_WAIT_HPP

/* wait.hpp
RfO/2ySdnqyYMHvkJmlWoH9bOjUz3NUbw9NlWJDnxq855ZBXaRzaooe+MA6jvCMuO22Bkinj8BRDMPp1VUoadJlObkdrcJlGi/0BFtd96CveapgA8n149PWdNylPt4i9fady889w2wz5BHfLOsM+buyyfIOPe71V75uhbvfNKSz0LXjdxj24BA8FubHp7uvH2b7kqjsgnF1Fw3OOfMlVvQHvkzfQ99UQnpW9jsEd93FZnY0HNZtyNV9yth7xo0XwcU4JfAwabVePs4U+MuoP+rhqwLE6DPDpWxiOfwC+LRZI3ArJTkLERwBEfNxqAJ41L48hH4L4kyy+GuBWvw/fMPFhSFyVA6U6Bi/nAPAdAOiDXwTuQmAfVzWnkCHJg/A8G4QREWQGpaiqssCHv8IL5FAFRan6CjDWQuRqBbOEyDIE/xICkKTq7/D/Fvwfhv+3fVx2P/7ClAk/H/q4zPX5hlNAVJg7wttvhGhfiBh8Cy5YhXGQi/FRmnXmsmEgJGUDK1w3ZAf/1ZObL4GKkFJVfTTRng33ZRiFMT75KfQ31fBXXcOnsT8vUgy+VxZl+qSn1kDk8efx+cqbgOj4x9KTKGj//NR+dEDVRl0laH7eEvw2/HZ92DXYFWoJ5XPvcQdaGz9Ed9ry+/pu9L85/f8gm+OdLJ/jH8fjIeJ5mvHHXRe6Xm95HTJu6RlRiq7ert7UQ5eWheAB7/HOU91hgsY/lf5T3ae6j38Wpj8kfGI/6kyeeB6f/YG74FnCW1gZzGH2qz1pPATlDB/v/DrglDiwYo5DfxD6WqR5/31yLNqJObsgz4b9lBjbEx9TO8OpnbzueE98oB5vPT508sPjncd7jvcdJx+Ejl84dTws35pvaPxIg6vJN7b7pFvzTcfvyTeFn9NoLBretNcMVAifNPYAenrHMCwvMcxAm9kL8MHrT+kwRjydCksBdbu0LN8Er3Iq99uOtNCHafBukKz5J2bni4dS8YxcA1/DeANxBA4tjQj7Gufnb9fx+uOz828L+2RDvm8BvE7xiT15fPbP/95DA9a9yFIIbiLeFqaQwHFOZeXLtAMzrErWpXH8ApbX2iTiKxGfMC2BOIciFs9N5s3khxQ7qRnO5JTRWgR9rxMpBlT88OTkISAIpP3lXug9mo3tJ9NzAUB57ZTRcBHg2QQg7spv+uXJ9CwE/HGCXx7qkZw96GHPiWwaLxWnJKNP1UQlVy+aK3BlSU4iuU6DIBF09bjLbyEvr6HSxCln1NdYb6F0+64leeN2FiqUREGsLjZ2aSbY+Ax1nsWQUKZRjHuH0kyI9OX/QXHK8Qb3yG+0qHAvoSbn4ATukRz6aqJbN7cVvME1nQbAG7mmk0ijiJFrOsTef5F4x32NG/mVYiSFC6DJs3ZnN9a33XmyF6oruyyntLLLKgu2UzU9p7RBV/epGlJ+ynSqpk/toob5jqLbn1ZNwuNF5KCWpu75d6khE6Q+QxJ5VDsyW0yoPAiBboYBEyMSigGSnzJRu8BSRXccJgISNcyxJ9/BhG+zeAxHFrF4rEfkB6iYEZnIV97Il93IF9/I54mRyfxYMaLnAtmsxG9i+ochcAgDgVEUgDJMiQgj8N1Ow914rhPpgtn9OIHWPpUT6dSMrMurCLoXPjeGclBlbtDKPfg7+KTmBw+bx9oShf55vCbK44n6SxD4CwYaIPAHxMKzzH+L4VoW/gWGV7PwTxEYET6BATMEHh1R+JOu6Klxo6hIm6KvHIqKvIE2pZBGBmMxaMZp2DTOvlNT1nSGH70cylkI/8XwvwT+b4L/Svh/3zTWdjv8vgK/f4L/70N4C/w3wn/csYfHewAFaq8679Ef5djIhbGI1lJdze1xZcjde/u2azTTO8rLQeZAFc4K8vgY5idg2xwxqts2EU9NpkMCDwXxW8lMG11yKbzXQ3YlkCk+BDlpLHsv0waz6anV+RaIoAn8FmUxaVmN/SwKw60a4d+PoBeSZfdlAI57KI4o4LisP5wn/AvCnotR2IiR5pqbFOVH1usJrNeM/1Svl23/rl5pZCU3XK/uMf+xXmm0Xn9a9Y31emLMf6pXGtRrDpes13+U/7JARJqV7i5GqWPWvEL2m72O/U7eQH9BRgQRUaN5+ZESjaaga86j8zWatK5GXAE2cOIsvENCBUWUiWYNguz2Ngp6EJ7RQNOjcDhrzqM0jHLdtijegFgU+tAQippkkNNWQ3FmPfZrBtwD4Y647Hb6SyrwodSZfdTHfX+ejcKciGE4j4bfgfDGgasgwesACAm97wEwJgo1HtwGo7Xx3FaYMDdPAFQHmax2cLSAJZ4e+/PjW/NtPryB72t8Q6P3SVn5MMfIXUeiBV2YlYZm9fcvjejcw8d9rxvyPDMX8jrTeDAeBXLrxrMQlWnIPwXTGZfJQ5vAHHqy84MQvOVj7Aed2HO4sYZ8mM9t4qGxQNsOfeOH2K8aB/G58XJxUMNfodzWOIjUrctpHCyY/kBr3bc2Z1Oh4NznxedidfMV88sZKAoZX+aQ25/OpTViBgrfEQ9iwMJ+DFAVct+gqtIGhzxzUTAdVX86C2+8Bif8BZjpxkyANXYtoIJpK8voFxjVDVH/DwAA///kvQt4FFW2MFr9SipJh2ogYNAAEaKiEY02KKGDBkKFoDR2jEnISIMzI5FpH+OBKkAlIbHSmsq21flHz+ivjnqUGebojMzxAb6wO8E8gMHwGCaRRIMyuttCjIBJgJj619pVlQTHOf/57nfv9597L5quXWuvvfbaa6+99trPOiFURN8ROI7TVHJLlnMex/VuWj9FOcPJk8jCLJ69y4ndrui8iZ6mblcrPt75ysFx8TJd1xHlInhuArzH89eGK4VxC7OcJ4RlrhcAUTnmqRTGA6Ab/pSdnqbIYq45fC/gDyV/Lfs62zq/1VJNwNVfd371SRvNtnFcJ/0k1hf+KUBtkhNevu1rzJftnd8nfy3ZO3vijd/pOi0EvJSolHb118qAXbL3/RWIHdFei2+HyPjSPl3v7ujuODyzF7gwMrA3dX4NOEef6X7/Nnh9xshgvry/89smEwMTnMHyJbfJJU2dxzQ7JoGXPwFOfAVm+xEICikDcEzncWXAJicYXFk0jCwx4muIiHf2aH/v7ohP/g4ZYswt+yELNlmwOD2HlDP+5al/LIYDmXvNgjV1RjuPHJ455rqJnk86f1iyJyFycCS3hicR3NnWcWQY1nmksxdJDHZ0PvNpz2/l8zujXanTgBjCPmEwKXU7SJpr2s6higxst+Pj2zLlmEROwS/fnZFl/D7TvY6nheUcp+xM667kuxOUndKKcFRyxQ9AMZr2WP9KybHanTnf63rJM53vL0fGlHmeJ9M9nJRGy0/qek1kDkQ66G8go1vbmjrbup+8n/HdXfqg1v0Pqa3EF9DXT1iJbTWb8fE9LTFoGBRGJ9Zlty7z9I82ZJfX5TRd9tDnjTeTsEHKTpuALHUYhAy6Q8q8F05CnvJN3U8itQZWMclR6fw8Xbo1b0i6HsJeYUdUDa+BiPh/QOJKEkailUpPppwOcsWAJLQwBB7i4xH46fwjk0cTIF8DdCsv6t1UCTp+QeW83k1SgfbuaDiCcrQtBgUnaqVrNVZcW+f33Z2oFV2Tl8E7VuHaWV2pGyCsXW5gOxj2bT/ADpjY6xK6Uu+FcFk5ee4uwC5Qn1sHj74wk6x8/mBE5iPvo0A3b655wG2T+IjsiVQ9uHlzd7AhwjKIPIflKAkYBBoKxoAsAvTuEhSve+WKbrEhPhYi/qE6pnDnVIBZiYd7oQIeHNJ1qABIouw8VVJJxDGVpMMShDylsna3vqlSDQ4R0U2CvPByR4oqnlGDfYfv7tMc3SIPaUf0DxRWOdoLOntSqHZmUZR/W5NhuSqFD6OOyouA2MycnMp5H3qEhxeAWkBkarRwoueEUNEK4QmtLDxzHxi6XfA+uYe9L4fwjAntBl5npZDWVtvoWZfBnRA8Pcpn10PkzK0QGXHVgHxjn7kcjZVCBdBY3gT4qdSg8TnQ28BD4igk6wLAZ4BEK4XlgDxj9uMG8UGAdxnwCsBb/jHEYeLdkHhZOnB1AF7OAOJBQOiFJyK3I3KlsGzmCwaRTAjProEwEoLMgItly3iI+AheIIdlwMqy74DiagAu1zBLABYh+gkIQJJln8LfX+BvN/ztrRQm9OETrD48joDlv33E8m/KHhGtsDPqYF3DuFTPIlZoEOr4JSPI8YfyQIsWcwR1hIh8g99TUlbu1dUNTnjzHlY38PAsUDe4+2IeKRXCScucLaLnMY6L9sXs0hiAKEVOO4B+DaC63RYEkX7FkJwWiAfQowzEWyAPgB4HEJHdBEGxI87+fd4iXjniuaqIZyBHmwnhLci+uAlxWpBY3GGC7CMgFwNN3w0Qui6R4+qapETi55XFbs8WpxXkt/BW0LnFYwXtWzKlBFZWN0l4m3Nz3PSYNHseB61fmjaPAzWW3L6YfCkWgndoF8KTQOZDSptd5bVx5uv3Kbu1XkTJHEQqDkYlcx5nN5NPY3Gfa+eb+F8qbU4txXzRlDZeRdkTf1rsiMvL1x7p0W3cVTxjKzO3KhPjqjKki5XbMo8QMb2TA0DnMg+Lvw1J33bbkc5EBgxos0hRpnLkc2SwCFKmdyN29yhsUnSbFX9bdyKLDNCbEjguIvKBkhAHZlufUPTyeA9IqG8+75EcysVDEOAxcBYCTgz0Q8COgW/qKljMp8Sm9Di8h7Ob3tGhy5GuLJKmFEkpRfKM2jEoVy2TJFykn9X1VJSqmqB58L0f30HY2vELJxJbjNqVnsTsJmlCkZRYJJ9/4URtIkmY3piKktSSjKADU+cGM6XEzvmBzqmaq3t+oHvqyhW3BpuYbmMJMnQ53eiBTDOYAGZP2ZlhoijH0qDcJWXew6RX+WJqgSoPgnak1QU9klBCN7k4rkL5oj/+P8BKgQJN7BM9TskTctJVRszZ+AYbaplQ9z/BzEEsL9SBbnMhnhYABhE9FZYq3WKo0rWGKp0PuvCzzuPE7+6a9GlPt+upJ9I9fTtdDyzRioah+H65EaVdPRp6/xQTOuUcKN/tqkeo+ezs6Z6kfDEUPwT8bLELdXsNDj1C3U4IeftA9e3kZDmpcncndh7/OI5EFgrkV9h/JUbEgUBxMRhxehdImfgHuoPHamPcGZSdu/b0Xqi9qtRu8Rg52ZU6Z894j1bSebwreAxpzJed5IBm9+4n4gmlR1BaPZWqeGK7Y1DXfa1V07JjdcFjUkK4T4bc9919rC7YKyXW+o9BtjX77u4tknvC+yUeSAP/wWPw7J6qAebKcJ/Ehzz0mAMFv2rweyIP9omgk2OhTJlSSiiT7mNRX3zjjYb7VghPRKFXMuq4irdJE6qnwNOxKZ1O+WZIb+GmQX7BJjqWvVzIXhhyg8iDIXCGXNp5oAgubzQ/2AQ17wzZtYQtNskVciwLNglvRZUeuyM6rESZ3ihxf/jCr9M9Pr9buj1fGZi88bg3qopHwUdbAWqgipSIaSoITExXRbAQGWVE5lXxFBEzVXGAiFmrdZ0DfZ2hyj2qOEg77dgMewL0rZMnUebhqJxYRi+HnruiWxxYAUVzfvgy5Kc9YyWkv7Pjk6eJgNQtZkIiSwCGFyfPgIbQLbqVY+ndy7M8ncfhFwTthlqGZCEbvRI9vp1ZIJYzXw/pJt00Qzy0CKgDckUFFrqEdBUXQy+v7HSWkjud6l1ZTnA3jtUA4ouPK+ke74dQBn1tZqQgPaCv5enjg7pZiOnKquhQAOGRAg/EuSMFmYARiIg1ARo6zdompvjlEAadFuvZIMdLgGB3Qfq57Bd4kP217gD9F5YiSzs/QF0QbHFmsQKszaQRaKOQsKKC+Ae9f6Gzo0M6+XuQfH6rIZ7iYqgg8GKEbf4x3cEB1xDoUazHWXtEgPKkxEB7h0Dkpiy9+2ur3GzUlpxbysvpTEEMkG6AXCE7qEgl8Y/ZPrCJ48pIb+X0vSsqfa2yM+TQjm7vBSC+jesX3bqeyMkuSAUK5tRavZZGATedxzuj3V+BbeiEZnl/ond//LcgXWGbOMbb9gekId/JCAhIwM9Lwa4g/w42MqMNouZqwJ2Wtm+Vu19EL6xGcip+t23fKv6GPnGMR/qibMc3IKHKC+UxK3wxKWk7B+WtTBLHQO7FRuPvYjJ1axcXw0gJoQhsAaCwrXRM7Ctn7WdQAPQ7a79CqaGie8wiFD/TXTUofCAOmoIrhtfDn40GPNNZNYgepZ+f7nf3t1dOFwcrU2LCNmg27s673aNRixugB4rZpOTDM7eCaTsc5J9BjwJdagMC9fYMvKDDAjjvmRB0RJJAkDDI7e6AN+jhOzWMaGsK8avvPX2eh96qDeneaK4rf8Ikj1QGFiVfKsp1tQIBKR90WPhTKa9dQaDdcoSbByY9KiXPm4wPhzfaBDJuIquochHic8oq/gPEbxEHh3BExFsA6oNMDA+ZXgsV8VBcm0avwCFJmzYJRom0IX51myaYQ3UAtLG/k8ltMEDXPjliDlwBGIX/6CcYCYP4T/5hvG2TXTDQP9O0LP7vX+Dg9vDMd67FeQUYUEsp3R2dmkkJgsch2M+C8RqG2/AXjaNtOKIi8K5c5HRO8nAjDcRt2CuwVJ7yMjRQ76YC1kd6ha9FHkt3xdGMJkGRSAv5m3YDmI2If7BYlwcC+gTnS+PB/g0A4nh9Qh64E9CWkwL0PUhToX1EmmMDLuIM56dN8kAPHPsiIbIwx1mT+T2BzEoHV4KpC6Wtfhzr6jVIoezW1WCXGuxBb2dgSM6gP0VoJkcLR3hoIgfiL0IgHN3A+1xZQHnN+TTXxJsyjEc3zoJq2kdaY6ddkbwIcsC8AOCBCMKOJVc5lSM2qTlA50BZsdPhSGIfMGeTMs5xKf7GWgmUsUst7dEm0ffocA47KcvUYNlUDOpGHsUuUtpDLwRmmpCGhFkY4tZdrdwkz2rOA+mHKgEMLUSdz4PUUtF7bZmfjlHaWPRfI/PTIApAOHNA5vPKT52cajOboCkigWYPM4QWZpRUxlHPCK/3eEEan5BWpWcqCIS4mUBiPQnCjoU2p9IDdo7ZdqXV5m3LdR0EHoUnYiRm9YEwiACX3nvYd1KakAv+k2fOFBndYl8TdKNtlSrvja6ALpmpRi+d8yEYYbE3d1maPMVAShDeGgNYc4KD4JKLA8pt936PNmx3ROwNCG8lBOjQJ6AwFSCGKkhI6l/F8expW/VFuX7Pxkzv/lwYmT7ZeDMIs7gslKTf69QnpDFlA2wZXFiPjyVZkzlnhU26gNTgC2Qm1FXiTJt/QPnpvd/Hf4L1M/gFyuQyI36YGaVVj/sgGqwF5hQNQE5AOmQ7NzchPBcb/zvDHqilJX81tCTY1DffnS8lKPfxnJSlL3ZuSCFj6+26DZwKzQ1j+eIAPXUV1HqFMqDLjqSEJj3BbIZ9Be586E5IIrQ/0IUHeE4G5ty2BO065RJOgU6oOgfHc5zud5Pd9AngQwcVuE6XxyjXXyYLZPfW62k1dvKAuumvyvXQdRBxUE1cYdpZ6MHto3vwEhJk7d4bBTcRFT4SeRXcZ/XNdvx9/yj+hrew317228p+Kfvdw35fZr874ZeKTUM6feHvQ/D+LLyDB5hNf/V3FPVEVL9vcnS9
*/