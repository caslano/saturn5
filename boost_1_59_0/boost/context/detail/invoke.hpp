
//          Copyright Oliver Kowalke 2014.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_CONTEXT_DETAIL_INVOKE_H
#define BOOST_CONTEXT_DETAIL_INVOKE_H

#include <functional>
#include <type_traits>
#include <utility>

#include <boost/config.hpp>

#include <boost/context/detail/config.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
# include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace context {
namespace detail {

template< typename Fn, typename ... Args >
typename std::enable_if<
    std::is_member_pointer< typename std::decay< Fn >::type >::value,
    typename std::result_of< Fn &&( Args && ... ) >::type
>::type
invoke( Fn && fn, Args && ... args) {
    return std::mem_fn( fn)( std::forward< Args >( args) ... );   
}

template< typename Fn, typename ... Args >
typename std::enable_if<
    ! std::is_member_pointer< typename std::decay< Fn >::type >::value,
    typename std::result_of< Fn &&( Args && ... ) >::type
>::type
invoke( Fn && fn, Args && ... args) {
    return std::forward< Fn >( fn)( std::forward< Args >( args) ... );
}

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_CONTEXT_DETAIL_INVOKE_H

/* invoke.hpp
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
*/