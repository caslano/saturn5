// Copyright (c) 2019-2022 Antony Polukhin.
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PFR_DETAIL_UNSAFE_DECLVAL_HPP
#define BOOST_PFR_DETAIL_UNSAFE_DECLVAL_HPP

#include <boost/pfr/detail/config.hpp>

#include <type_traits>

namespace boost { namespace pfr { namespace detail {

// This function serves as a link-time assert. If linker requires it, then
// `unsafe_declval()` is used at runtime.
void report_if_you_see_link_error_with_this_function() noexcept;

// For returning non default constructible types. Do NOT use at runtime!
//
// GCCs std::declval may not be used in potentionally evaluated contexts,
// so we reinvent it.
template <class T>
constexpr T unsafe_declval() noexcept {
    report_if_you_see_link_error_with_this_function();

    typename std::remove_reference<T>::type* ptr = 0;
    ptr += 42; // suppresses 'null pointer dereference' warnings
    return static_cast<T>(*ptr);
}

}}} // namespace boost::pfr::detail


#endif // BOOST_PFR_DETAIL_UNSAFE_DECLVAL_HPP


/* unsafe_declval.hpp
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
*/