// Copyright (c) 2018 Adam Butcher, Antony Polukhin
// Copyright (c) 2019-2022 Antony Polukhin
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PFR_DETAIL_TIE_FROM_STRUCTURE_TUPLE_HPP
#define BOOST_PFR_DETAIL_TIE_FROM_STRUCTURE_TUPLE_HPP
#pragma once

#include <boost/pfr/detail/config.hpp>

#include <boost/pfr/detail/core.hpp>

#include <boost/pfr/detail/stdtuple.hpp>
#include <boost/pfr/tuple_size.hpp>
#include <boost/pfr/detail/make_integer_sequence.hpp>

#include <tuple>

namespace boost { namespace pfr { namespace detail {

/// \brief A `std::tuple` capable of de-structuring assignment used to support
/// a tie of multiple lvalue references to fields of an aggregate T.
///
/// \sa boost::pfr::tie_from_structure
template <typename... Elements>
struct tie_from_structure_tuple : std::tuple<Elements&...> {
    using base = std::tuple<Elements&...>;
    using base::base;

    template <typename T>
    constexpr tie_from_structure_tuple& operator= (T const& t) {
        base::operator=(
            detail::make_stdtiedtuple_from_tietuple(
                detail::tie_as_tuple(t),
                detail::make_index_sequence<tuple_size_v<T>>()));
        return *this;
    }
};

}}} // namespace boost::pfr::detail

#endif // BOOST_PFR_DETAIL_TIE_FROM_STRUCTURE_TUPLE_HPP

/* tie_from_structure_tuple.hpp
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
*/