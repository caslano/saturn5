// boost heap: integer log2
//
// Copyright (C) 2010 Tim Blechmann
//
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HEAP_DETAIL_ILOG2_HPP
#define BOOST_HEAP_DETAIL_ILOG2_HPP

#include <string> // std::size_t

namespace boost {
namespace heap {
namespace detail {

template <typename IntType>
struct log2
{
    IntType operator()(IntType value)
    {
        IntType l = 0;
        while( (value >> l) > 1 )
            ++l;
        return l;
    }
};

#ifdef __GNUC__
template<>
struct log2<unsigned int>
{
    unsigned int operator()(unsigned int value)
    {
        return sizeof(unsigned int)*8 - __builtin_clz(value - 1);
    }
};

template<>
struct log2<unsigned long>
{
    unsigned long operator()(unsigned long value)
    {
        return sizeof(unsigned long)*8 - __builtin_clzl(value - 1);
    }
};

#endif

} /* namespace detail */


template <typename IntType>
IntType log2(IntType value)
{
    detail::log2<IntType> fn;
    return fn(value);
}

} /* namespace heap */
} /* namespace boost */

#endif /* BOOST_HEAP_DETAIL_ILOG2_HPP */

/* ilog2.hpp
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
*/