/* Copyright 2016-2017 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/poly_collection for library home page.
 */

#ifndef BOOST_POLY_COLLECTION_DETAIL_IS_FINAL_HPP
#define BOOST_POLY_COLLECTION_DETAIL_IS_FINAL_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/type_traits/is_final.hpp>
#include <type_traits>

/* technique explained at
 * http://bannalia.blogspot.com/2016/09/compile-time-checking-existence-of.html 
 */

namespace boost{
namespace poly_collection{
namespace detail{
namespace is_final_fallback{

template<typename T> using is_final=boost::is_final<T>;

struct hook{};

}}}}

namespace std{

template<>
struct is_void< ::boost::poly_collection::detail::is_final_fallback::hook>:
  std::false_type
{      
  template<typename T>
  static constexpr bool is_final_f()
  {
    using namespace ::boost::poly_collection::detail::is_final_fallback;
    return is_final<T>::value;
  }
};

} /* namespace std */

namespace boost{

namespace poly_collection{

namespace detail{

template<typename T>
struct is_final:std::integral_constant<
  bool,
  std::is_void<is_final_fallback::hook>::template is_final_f<T>()
>{};

} /* namespace poly_collection::detail */

} /* namespace poly_collection */

} /* namespace boost */

#endif

/* is_final.hpp
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
*/