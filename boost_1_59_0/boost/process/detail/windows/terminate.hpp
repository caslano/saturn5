// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_WINDOWS_TERMINATE_HPP
#define BOOST_PROCESS_WINDOWS_TERMINATE_HPP

#include <boost/process/detail/config.hpp>
#include <system_error>
#include <cstdlib>
#include <boost/winapi/process.hpp>
#include <boost/winapi/get_last_error.hpp>

namespace boost { namespace process { namespace detail { namespace windows {

struct child_handle;

inline void terminate(child_handle &p, std::error_code &ec) noexcept
{
    if (!::boost::winapi::TerminateProcess(p.process_handle(), EXIT_FAILURE))
        ec = boost::process::detail::get_last_error();
    else
    {
        ec.clear();
        ::boost::winapi::CloseHandle(p.proc_info.hProcess);
        p.proc_info.hProcess = ::boost::winapi::INVALID_HANDLE_VALUE_;
    }
}

inline void terminate(child_handle &p)
{
    std::error_code ec;
    terminate(p, ec);
    boost::process::detail::throw_error(ec, "TerminateProcess() failed in terminate");
}

}}}}

#endif

/* terminate.hpp
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
*/