// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_WINDOWS_INITIALIZERS_NULL_IN_HPP
#define BOOST_PROCESS_WINDOWS_INITIALIZERS_NULL_IN_HPP

#include <boost/winapi/process.hpp>
#include <boost/winapi/handles.hpp>
#include <boost/winapi/handle_info.hpp>
#include <boost/process/detail/handler_base.hpp>
#include <boost/process/detail/used_handles.hpp>
#include <boost/process/detail/windows/file_descriptor.hpp>

namespace boost { namespace process { namespace detail { namespace windows {

struct null_in : public ::boost::process::detail::handler_base, ::boost::process::detail::uses_handles
{
    file_descriptor source{"NUL", file_descriptor::read};

    ::boost::winapi::HANDLE_ get_used_handles() const { return source.handle(); }


public:
    template <class WindowsExecutor>
    void on_setup(WindowsExecutor &e) const
    {
        boost::winapi::SetHandleInformation(source.handle(),
                boost::winapi::HANDLE_FLAG_INHERIT_,
                boost::winapi::HANDLE_FLAG_INHERIT_);

        e.startup_info.hStdInput = source.handle();
        e.startup_info.dwFlags  |= boost::winapi::STARTF_USESTDHANDLES_;
        e.inherit_handles = true;
    }
};

}}}}

#endif

/* null_in.hpp
Vf0Ol/Ll9i8VCQX/LJV/Gxewm4ytdEGj4O60yhpO+Fj7fcKCBvESrwM4fCm6rMI7ogj0afAIyT7s4P1BNHwjkfAYL537IYwupM8/3axYcyHDbHjptQzPM0+DoapAJ7J+LGerJboO+V5BKlid3IE+4Ymk9TPpL1eMMO4yrwRPO9k2hL07eaYws7PFMdbvP+bsSmynXIHZsc5iYi5RGq+c2Zh/WmAPIFCSV0Fadqs33sPBTkBY1xXpbzxuauI6zLt/1uL3vBz8S4o3BMY4tx5wQ8uHCkwOuEopHc+wrx4xa3f0Wfz995TvVMIZ9WXugH/FFLQB24BBASMrDV5LF3JB8P0LhcvdXqXoxD0mOV/UwKiuwn6+/M2NoD0Y7SgH2N4pHTcM5W17QLIsYbpCiy8Patb8LjY73ZCnvf2qifmy/IEw1OC4IQAkEHoD20BSsGARiUSyeziaWYSy2Ll9LAiIyX0sOXqLpb6DqivcFa6U03gHXWpqaWo466zK8xSBPL/mlQQrVxbFLotJSrbhPnhnbMP9EGroveT0d/O0wivuAezL3WrH28XvCw16KJTpmwnvKXuf6bGrvXpayP2cUj+GycZA9Lk9QzlDYdh1U3yTPZ0cj17Y09m5ue0eYw6RsXiOX6ut7fnBbZQH0W/3PKlOBkLiOYopH+MukPw14X+qL/z1L1Xzqva9Op7Yh9V36Rbsg0o8x2804z7VzYgJFnLy6H4qYX3EwxQYqJZK+OeTtfcjE/GY5lZh5cFXJNPHaQ4aKhd3s3yfSi1+gqi54t/PVTJmsYZQFaLeOZA8vxh8f+eYSyIvOdCv2mSU8za5ROP7bovRsX8Fny1d8UxZL2CUO9CcJ4QVh9xBiuDj6+MhVbaQnFIBTWiam7NJo/Cjyor5KrJHgQ7Vla/YGVPV1BENx09TqG4fjQ1ExvB0PiNJN3mQ4vGcJS3zruZMCPUlU6jRxlVwKXoqn1yVoqOTDIpj5I//MF9ScqL3K5FtI4Hk+HfJHj63qIu12lvZLoM+AsTbRkdcJq6/2HvJbmFpHbvyBCYlpPck92DSjx+hR4GvMQscyo7VFpW6vdE3e5G2XB+vPrhIHcH/MPnzfktNaFU7P2M7sn8kHcLDp+j8Vs1hgZ37Lz6I/SFCBCnd5ERSrVJKno23+CyacorCLWFs/p3cnxO1farrXVxJM2XPO+nV113nwOZe3tv6/OkBj5PHiI9eA5kNskFyta/kyziVNb/bi/jDjmZScQs49/H6z7dWCPNqtlaelmaRzYlG/LguCGmp6PweEuT04zWpXNMq3tWbINLtFfI8lzfqlfSr2WrbkB1HPOxfxyjAUuXjiTCLwG8nGZutFCGrDAfQFSqwEjws7r+mm/wrwCr8+PC0Yt52WWaAs+pScExF+fhjOvvAa8jQj5+zJz7m0op63MVUH2U5dKIrv1kfe1w2tN6+1UuzyE3qiy8/sjmfdUr/oZE+sP2ai4PyZaMhH3LBZcyTAOxlL/zVerqn4Hfve0Ilulv76URFS0J2MmaZ3mrB1x6UEQETPj9jQKCJLkhSbyYZjdD9j963hHVCRj1b7IQ1ZJi+z/IRnHQTNpcvItrJLr68ju6F0k18uWQg5Cf7IvRrdEuYcJJM4PP0wBYfYTyZ1pd/ivIU+SNiyCrp4+xep/Q+IUTTpwlxWX0cWISwl1nQTVhNTxRkKEpFAMl+0vF1jcwzRGSRPafTE6n4/H/SpWSBr7ms6+9xbRQIvehFRSq+TOcrCkUoH9J3Cn+1+jheoBAxewPDcFrviPPqspAdvP7asgqq+w/AVGn4ImIY74+iHp1s9CdKPd3bkDKOiH7cvicw0lMlK7IioRxg6DBe3ci+0Nw0nHFHkGlnBgzOmRGo2bAPgfsodWLkpx+76AXmybHuha1FG3j0QjM+jK8Mj6e3JnZKDoxjHy60wENz/Rm+XbMBX2cRchFfDDIACwdmPSbgDk6Af7edChVR6Ca5R6brGLOMjByxiZjUPbKmXP7VY566laDxjkmAX2bJmpPMvKVBu4/RhUN/DOZGkPwYIFJrKqPsoVcTEu8WeYA67/76MVY//EOnqXnVfJXViHP+kD5SAdNQLM2m6/tw8HPLfDwCFJrD26GjMBk0PudIrUTBD8tgdKgvVgsgQlAz7sCxD17nqVEUD7VdHtDzm2FFVdnypWPm+4Xj+pC/gQkVJk4gBQZw7YIX908nk2A4sixG9S3toqvsyfjVYCwYSA9pvbhu7VX9vdo4lCOrLzax//Wsbrg4Io5wroHJIqS240562Ta07/LN3PJh4fW9Sa4eVLomyLgKVhDRD/racugK9uH8xrGaAr9jkgR5xtb5NTtfXNnCj+1O+dQJJ52WAXftf3YhmsVTNHyNAuRGaOCH64wimaAxl1Bn0mNjBXfTj2+jFloQ0RLeKBuneQoFggvNOdAY4+ud7BqEDTO/wgXlLzHWndaaXOwMR+K9AwLXnY9PDomM4CSCmDOJHsx09tfp48GoD/clAk9Smuv3W1kszzqo2rzmEae8GycQxvwrrWfNazT1l5eG29mBLAEt18WnKXCCTCLjMX5oClV+d6PW9cRS1EbVbS7aJtfRNTG0M9R9pfHF3cUBWjhU5jPQCKBNAAiQZVfjIs/rboBoS9SabYS+8jwV3/hzo0iafpiSB8n2cLYtZtNOMDhhaPYw3YWGvrbtZD5a8C3XXuIID0qolfN8C+tSb610wd2jd4sIpUPYj/9EtPhFmR9wBcHuF0IC9U9Mx9zu2kiiYJhzSeR8ZACLoLqg5ZS8xQYrJrrt5qeDrgkBWHPBXvXBIu6I6XCzdNGNl7A670/+34WTVaGjwWirDyzVF+OHOj+py/kPqiktlg5WaqNdTeq4XLnRmLtY086bLoqSW3P/gt1fcyHMU+VmiDub3b+Me0teP4JkBhhkBgYtW9ZOq6ShedvkyI7vC5XUMMZl/bndb8jbD3qbBc0xyCnnSYZuqxgnNy+EzGHRutuXccGFITRXhArhDV2zsOSJsIogoaDQ0fgLJNI/99d90mWBO/biL7n6RHoE7WO6NbfA8m7BY2ivHwP1DGew3tJUcd+2l6KC3ONHD9uPvoe6o4iGKXjM9ZAwF5m/6cp3i9ypNvPFgZyveH0eVabpfBfIVXkcXvxcdJOUnGHsNbFh1VOqiMcPArmrjjbF55uPdV65vkNsXpZUMOQNrLy3fQwgl3v6PV72mLLOM0f+92Zx2Bg0SXy2O9nccqpsnOPozZJY9AFXtikz3p452bEBjsXRhuhO36cOBbKq7Swi7StN7crLsvKtM76U7bFiQEPEhLMf5uE1beDTU6lsJRsfT5TRozt73leZWTtpo8n2lMXlI+H5EM3GPE9yzcf9X/KalSOvZa7v6kYt89az966NpERFwvNHHinUQr5aMa/wa6t5xzoHPUikSHmLkWW7Xa392D/u0xXIioib+I26SwuKNcMakMeX4LUGB3z8ft/CaUfFxeJIC2yVOmf8Hs9FIat0cdkaMKZIaNn5BNICto84Hrv5i11DoSjBsuQ11dIxjldLoPsEzhkgkPG3CD3w7/15WbdSS3aMEtvVwaomud1ev3eGzF5LWGhqY5JS5vod6kw+Pl0/vFwW4TdyzkFxoMMW4Df6UAhZE/c8Un7N1374Yb9fZA/IWRpV/jjPM5szHU97xjIvjSxP6pIvzH4P77CD9IF9voFHu32eXJq231vffxYBudlz4f1R/i0aBtEX/0MEU4iJACrDRzCcHZZqqZuH0FZjYBoV0FmB12MW7Cj3XKjqN+xYGJoawhGtNN4JBid69oFPeiHgHy57oUOZSrur8fPDcw/zB1B7MnFPBZuD6ZzRkepJt0RchpUpZcbnMRIQySIJsOTLVnHs/YtrwcZg/ugvD7GWoQKFZgnBxnLKWrd8tvcxTPc6FCOBapKiK3ihcqSPAqWv7e6eycykdhL9OleIp7iH4llHe69QREJpMT5b97RlDfJPgOBYFs8h0Ovq7+XUeY2qeWnHye75kbaXCQAmW8fTy1aFGyVP5PjB9FilrgUTBmaISlrHDDCGTtn+OHmKuk0Ow3p9fbXZ2IHanc9R3QsVylfidX8/fF2cc7n7oP5qYhdJN8siE4DZnWZjuUk0ffnobg/5iw9CfGPLFpoYNbwRwBjISpbq/TngGqHUEsZM80sVhr+Zny9Jj/U6OuHsCzQiDhxhtN2jnN2XZ0XWpSuJKFAyl68S+ybLsiPr4pR4A/sggj/ZUYFO+Sl34h5fWbWj7gze36NXHtLW5Z0ZTWC6jd2aSa3NI6k8oTzObqCXCZD++oYf1XUxH1lmXyJvpZ6GBtnSJp8nDxcme3MlXSZC/tijgme8IiKVeMOC98Hy0KxEzPwuiIWO2DM54Qv5uZed5znXH8iPxl5UADjy/L3cYVxQPuka5dVeU/E5/Uo+yoqZf4/hOqeaCM1gyRhITiYzF7U/6ceyIM95Wvw9oIL2kr4/Rj6FNsejJ7bxuJjjSKn7xWnqo5tfrObot0b5zuQbJiohwo8efhHcJotFnmPZnbGCOc3YzBwY9pMR7UBqKxr06jT84O10V/RV6WXbFHGAqdXvs8w+uANDJmYs9TrkziFwILYO2yB9OeU6AsGOWSYjLf8/FORZj6zhHn837Nsf3Z+ueW02kQr89ZE5VsnEgQ1z/R7LkTmcqMRLw6VNvFcT5aCEoRFIjFFqRU1aMg/E+lkcu4UHuP0qJ569yR2h7T64jahD7DMQX8fi75l+RLCCkpa0xsCFpsTX/CXXII7x1qJrpUCM0zaMj+fgnvP/2/fv4UscuZ9W/wCJV5BmsX+i8FBypvhXQXThr+poPZIQ9OMzbO4Ra4CuGjyIrZpoZ7Sc6E6lwLxHluO9YRflYn9f4WFvvd6bxCffmDlw5Jo347muTCWHnkxHWFQFjf9JbCUHN22i0NH3NT0hFAdCih07NfVmpNF5u0niqS+WXr2gnQwpDrj41toHTw8eWYMzadxMjd6wRDMjEiDiP2ihNxCZcBjuja1Sx0wMSpa8+78oyM06EfF1E5O/OsPNUjk06DqkJ189SPA1eWTX4yQBgKAZs0h0HjoPoBHuf5U+/OIFhOzmmVLHXbd7EBVga0K7x32P6LqN8Gov19IjKVl9euk+HGWWOlr46PhjeIDF6OH1A/GwBIv64YImy1VXR1Ni2yOs16eEiLyfHKj9DMArBUillKiBxGxX7Z9H2C7HKVXPkH2vr1EsiICmYG7O4PPQVIKDZDTe6RWLJ8ObUyZP5kCBLgNibbZ9ZbviVoInZ9ZRogFSdYDuzXDvPdP8ZKkjPfy59qsSKh2LrlD9KItsrlK0YWaUueUV/+7Dz7rUO2oH3QmwR0jpr+uXD8m/ijsFyW4QlOOZnn2ZufCM0KEuiVM3wjzpPaDSN0171pJd2HEFdsovpZY448POjjL1o2VyuegxM7Xj5NdmGYcfB7KhUnr/xhfXiDaxLzaOXlZrM0e78hbL/5CASneGybO+TrQMEFQz21S/xLAfTi+8nign2hnsxBbLGgOfH4xGeTeFBQdiUpUEv1mlkPNpbyL0ceQ0XieCqmjZPagX2VKUJNpITq1eHm1D1RbZGA5Go71jqeRI2m9J+gJtqW5HaP9BzUGyEhBIHXn30euIg47mNwuY84i17s1iP+HNszeBCVRyPyW9PZSt5Jzx5Ujwb5+IOb3jfmEJ+tl3vthTaPpZkiVPC14juuvWSkJk3Pgl8lD3m9btjVvpp98i5meLMQV8UhOnpqMxaClvKrLURXKjvC5Y3btav+aDsEVaT55H8JsvI9lPA3QItG7Tf6gdh76ufhJAeSdGdVv6DiZ8nX0FD+KgRIQ6b0+/l07zMhJ5e6rU/nI78I3XzVdm4PSHjpcVTdWNtOyVfGaWrIwdz79Ppo/e6b+rEMyKIIMcRKLd/h3a7f87d/m8+JvwgKtF2uQHRPCG2jHr62oftkyKq70Ny4Mvgv0aXJZlDO3BUozPP0R7kjspfM3lhGguTwV8pP1AvSywEXmqaFCaJhBtpUR9jX6V+JEihQcm7BwZWK/HuqQkEK0y21trCYsCg17n/v3pjhjQVz8WpqN5rs6a1wUG6eNf6NZXV5gl60edF4Z1NSWjKvt2a/5FTQEPQO6FRdcNiz7BkNTrRDex93UcfJB8pcRIKyCChUoR6CbWiGLUC30vQTJSDgd4HRlEN/8gggRrtYSt4/5SNWHK6P/Qjq70WlX0wQQKvkgzNTH/jJrGfSAqYagkHQf/Qy18xA9at86nSYIRASVinxG5I/CqXm7A41CE8Ldgh8eNwVI8CiUMjsSJ+Z5St2/paGKikC8zJCD3ozsvxqe/uQOepg5rszL+z4wH4YV8Ihp1NKRw9RXGQCAVJgsfPWnt2X3YK/vUbxkbG3Uu4HW4TrSB8BlhWzbf0cqw/Jey3nYsmrcxewAGLPnTSnpXdV7edyd9pMjCDfzIX4hdisRA31GAfueEUnz/4NN7vWeOrfmwiDeZVYTQsdHcRkay7LlEOTQ6kZw67U4r/408nUwsqNN/A3n/i/PpdfrC04u6v4wdM6z8O71LlqqLT4/qtoyeyi3ZLj2t5fwffZszcpJqxwa5X2BfMx4rMh/SE9/pnb1g62S3wqxFyAJH9/7nDXLRSvQEr80Tot2R/Dv/lCCgSwj8EFLZEV+ut7BolO3fqH0nKW9dF4y47rskFuNsPsgsSQbLrFfOiOA/cZ/7fTaLrn3aJEv8m3dvQxul/wfn2f/wnfia7ZR4Avz3+370LSPndaykt455H8rM6S2CYM/JKu/9iLZBJh9LzdxXqVtnupa+OcudO2PkWBIf0Of3e6KVrJpHyORH0rPIfPYc5Lj9ScbSb0BwYYY/5bCQyj8i13j2gG2px0YjGtn7fFs9ju/uzxP8ry6wyUnntWEBe0n5bnJWnVVS3qRkh/1zdZjDFabRnabOdcWWdn7QRuxJ8rlAJZjeMqTMNcDl0Y3n3aivhPtXu3Q7CYtvwjdW8uohVp20nkeDd4hzi/f1QaEhjRvs5891WPMs0uZ1jYDflCT8r8dVu+73ov1T9pH9sogkV4+XoCQlQY4ROOcImDapTmUf/m0f/jRUS8f9iKOucYX+6uCm/Ilg+JXMWdBHhdRddllyYcVNPTzByjdv3OaZXz2W3A2mE6i6qCYDwlTFnvhvRgcIs5qvvWljGd2ednmNau9oaLx/SNbAQZN8ZgZ9t0hrK3TvHpXyZiOzl+DrdCWIDLzxSuPehVM4KXkCbHb/R7mkiLJ+gNqSU+8MfmnhzN2LPXXNJCTfWP8BMn9pEXz+aeb9lhT+AXfkrRkOIv2jZU8h8kM3F4Es6Rb9DjoAODBWPVJsXxhBzkEPgmSVWLwDtLp/xRoMM9IXygWmQqOf/o/P0DxB6Z5qwrSpog0MjH2RgwUTuL8Eh9dG7zOVaMUO4J3W3yDU/qTVS63Ru5Yj2ovLo/f5ShKUe//cZRc7hAtn+1X+36zXc1JI4j9M/ZA6G4hRyGoXi+Oj/t8LkTXmUvVUhk15Z8d2JG4Lugv66UIZQsvW+eM84my+DbHmYTgNpDafyegGHmLNLV5b3y0nv40i4dSTLHwb9dPi3zkQv4pP+pbtneD3T9YrdeHZF3XICeOHnDmvkilVLwR8
*/