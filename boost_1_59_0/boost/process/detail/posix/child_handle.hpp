// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_POSIX_CHILD_HPP
#define BOOST_PROCESS_POSIX_CHILD_HPP

#include <utility>
#include <system_error>

namespace boost { namespace process { namespace detail { namespace posix {

typedef ::pid_t pid_t;

struct child_handle
{
    int pid {-1};
    explicit child_handle(int pid) : pid(pid)
    {}

    child_handle()  = default;
    ~child_handle() = default;

    child_handle(const child_handle & c) = delete;
    child_handle(child_handle && c) : pid(c.pid)
    {
        c.pid = -1;
    }
    child_handle &operator=(const child_handle & c) = delete;
    child_handle &operator=(child_handle && c)
    {
        pid = c.pid;
        c.pid = -1;
        return *this;
    }

    int id() const
    {
        return pid;
    }
    bool in_group() const {return true;}
    bool in_group(std::error_code&) const noexcept {return true;}

    typedef int process_handle_t;
    process_handle_t process_handle() const { return pid; }

    bool valid() const
    {
        return pid != -1;
    }
};

}}}}

#endif

/* child_handle.hpp
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
*/