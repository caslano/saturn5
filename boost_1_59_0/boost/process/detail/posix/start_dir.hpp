// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_DETAIL_POSIX_START_DIR_HPP
#define BOOST_PROCESS_DETAIL_POSIX_START_DIR_HPP

#include <boost/process/detail/posix/handler.hpp>
#include <string>
#include <unistd.h>

namespace boost { namespace process { namespace detail { namespace posix {

template<typename Char>
struct start_dir_init : handler_base_ext
{
    typedef Char value_type;
    typedef std::basic_string<value_type> string_type;
    start_dir_init(string_type s) : s_(std::move(s)) {}

    template <class PosixExecutor>
    void on_exec_setup(PosixExecutor&) const
    {
        ::chdir(s_.c_str());
    }
    const string_type & str() const {return s_;}
private:
    string_type s_;
};

}}}}

#endif

/* start_dir.hpp
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
*/