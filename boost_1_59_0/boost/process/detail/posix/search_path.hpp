// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_POSIX_SEARCH_PATH_HPP
#define BOOST_PROCESS_POSIX_SEARCH_PATH_HPP

#include <boost/process/detail/config.hpp>
#include <boost/filesystem.hpp>
#include <boost/tokenizer.hpp>
#include <string>
#include <stdexcept>
#include <stdlib.h>
#include <unistd.h>

namespace boost { namespace process { namespace detail { namespace posix {

inline boost::filesystem::path search_path(
        const boost::filesystem::path &filename,
        const std::vector<boost::filesystem::path> &path)
{
    for (const boost::filesystem::path & pp : path)
    {
        auto p = pp / filename;
        boost::system::error_code ec;
        bool file = boost::filesystem::is_regular_file(p, ec);
        if (!ec && file && ::access(p.c_str(), X_OK) == 0)
            return p;
    }
    return "";
}

}}}}

#endif

/* search_path.hpp
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
*/