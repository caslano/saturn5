
// Copyright (C) 2009-2012 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0
// (see accompanying file LICENSE_1_0.txt or a copy at
// http://www.boost.org/LICENSE_1_0.txt)
// Home at http://www.boost.org/libs/local_function

#ifndef BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_TYPE_HPP_
#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_TYPE_HPP_

#include <boost/local_function/detail/preprocessor/keyword/const_bind.hpp>
#include <boost/local_function/detail/preprocessor/keyword/this.hpp>
#include <boost/preprocessor/cat.hpp>
#include <boost/preprocessor/control/iif.hpp>
#include <boost/preprocessor/facilities/empty.hpp>
#include <boost/preprocessor/facilities/expand.hpp>
#include <boost/preprocessor/tuple/eat.hpp>
#include <boost/preprocessor/tuple/rem.hpp>
#include <boost/preprocessor/detail/is_unary.hpp>

// PRIVATE //

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITH_TYPE_(sign) \
    /* using PP_EXPAND here does not work on MSVC */ \
    BOOST_PP_TUPLE_REM(1) \
    BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_CONST_BIND_REMOVE_FRONT(sign) \
    BOOST_PP_EMPTY /* always trail EMPTY because bind type is optional */

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITHOUT_TYPE_( \
        sign) \
    /* using PP_EXPAND here does not work on MSVC */ \
    BOOST_PP_TUPLE_EAT(1) \
    BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_CONST_BIND_REMOVE_FRONT(sign)

#define this_BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_REMOVE_THIS_ \
    /* must expand to nothing */

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_THIS_TYPE_(sign) \
    BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITH_TYPE( \
        /* can't use `THISUNDERSCIRE_REMOVE_BACK` because `sign` contains */ \
        /* multiple tokens (and not just one token) so */ \
        /* `IS_THISUNDERSCORE_BACK` does not work (but we know `sign` ends */ \
        /* with this_ if we here so we can manually force the removal using */ \
        BOOST_PP_CAT(sign, \
                BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_REMOVE_THIS_) \
    ) \
    /* do not append PP_EMPTY because ANY_BIND_WITH_TYPE macro above */ \
    /* already appends it */

// PUBLIC //

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_HAS_TYPE(sign) \
    BOOST_PP_IS_UNARY( \
            BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_CONST_BIND_REMOVE_FRONT( \
                    sign))

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITH_TYPE(sign) \
    BOOST_PP_IIF( \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_HAS_TYPE( \
                    sign),\
        BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITH_TYPE_ \
    , \
        BOOST_PP_EMPTY \
        BOOST_PP_TUPLE_EAT(1) \
    )(sign)

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITHOUT_TYPE( \
        sign) \
    BOOST_PP_IIF( \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_HAS_TYPE( \
                    sign),\
        BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_WITHOUT_TYPE_ \
    , \
        BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_CONST_BIND_REMOVE_FRONT \
    )(sign)

#define BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_THIS_TYPE(sign) \
    BOOST_PP_IIF( \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_HAS_TYPE( \
                    sign),\
        BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_SIGN_ANY_BIND_THIS_TYPE_ \
    , \
        BOOST_PP_EMPTY \
        BOOST_PP_TUPLE_EAT(1) \
    )(sign)

#endif // #include guard


/* any_bind_type.hpp
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
*/