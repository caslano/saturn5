// Boost.Bimap
//
// Copyright (c) 2006-2007 Matias Capeletto
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

/// \file relation/detail/mutant.hpp
/// \brief Mutate functions to extract views of mutant classes.

#ifndef BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP
#define BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp>

#include <boost/bimap/detail/debug/static_error.hpp>
#include <boost/mpl/contains.hpp>
#include <boost/mpl/assert.hpp>
#include <boost/static_assert.hpp>
#include <boost/type_traits/is_const.hpp>
#include <boost/utility/addressof.hpp>
#include <boost/mpl/not.hpp>
#include <boost/utility/enable_if.hpp>

namespace boost {
namespace bimaps {
namespace relation {

/// \brief Relation details, mutant idiom and symmetrical metafunctions builders.

namespace detail {

//@{
/// \brief Converts a mutant class to a view with zero overhead.
/**

This function is a safe wrapper around reinterpret_cast. It checks at
compile time that the desired view is supported by the mutant class.
See also mutant, can_mutate_in.
\ingroup mutant_group
                                                                            **/


template< class View, class Type >
BOOST_DEDUCED_TYPENAME enable_if< mpl::not_< is_const< Type > >,

View&

>::type mutate( Type & m )
{
    BOOST_MPL_ASSERT((
        ::boost::mpl::contains<BOOST_DEDUCED_TYPENAME Type::mutant_views,View>
    ));
    return *reinterpret_cast< View* >(boost::addressof(m));
}

template< class View, class Type >
BOOST_DEDUCED_TYPENAME enable_if< is_const< Type >,

const View&

>::type mutate( Type & m )
{
    BOOST_MPL_ASSERT((
        ::boost::mpl::contains<BOOST_DEDUCED_TYPENAME Type::mutant_views,View> 
    ));
    return *reinterpret_cast< const View* >(boost::addressof(m));
}

//@}

} // namespace detail
} // namespace relation
} // namespace bimaps
} // namespace boost

#endif // BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP


/* mutant.hpp
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
*/