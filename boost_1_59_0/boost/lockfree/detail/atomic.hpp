//  Copyright (C) 2011-2013, 2016 Tim Blechmann
//
//  Distributed under the Boost Software License, Version 1.0. (See
//  accompanying file LICENSE_1_0.txt or copy at
//  http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_LOCKFREE_DETAIL_ATOMIC_HPP
#define BOOST_LOCKFREE_DETAIL_ATOMIC_HPP

#include <boost/config.hpp>

#ifndef BOOST_LOCKFREE_FORCE_STD_ATOMIC

#define BOOST_LOCKFREE_NO_HDR_ATOMIC

// MSVC supports atomic<> from version 2012 onwards.
#if defined(BOOST_MSVC) && (BOOST_MSVC >= 1700)
#undef BOOST_LOCKFREE_NO_HDR_ATOMIC
#endif


// GCC supports atomic<> from version 4.8 onwards.
#if (BOOST_GCC >= 40800) && (__cplusplus >= 201103L)
#undef BOOST_LOCKFREE_NO_HDR_ATOMIC
#endif


// Apple clang is 2 mayor versions ahead, but in fact 1 minor version behind
#ifdef BOOST_CLANG

#define BOOST_ATOMIC_CLANG_VERSION (__clang_major__ * 10000 + __clang_minor__ * 100 + __clang_patchlevel__)

#if  defined(__apple_build_version__) && (BOOST_ATOMIC_CLANG_VERSION >= 60100) && (__cplusplus >= 201103L)
#undef BOOST_LOCKFREE_NO_HDR_ATOMIC
#endif

#if !defined(__apple_build_version__) && (BOOST_ATOMIC_CLANG_VERSION >= 30600) && (__cplusplus >= 201103L)
#undef BOOST_LOCKFREE_NO_HDR_ATOMIC
#endif

#undef BOOST_ATOMIC_CLANG_VERSION

#endif // BOOST_CLANG

// Stdlib should also be checked
#include <boost/config.hpp>
#if defined(BOOST_NO_CXX11_HDR_ATOMIC) && !defined(BOOST_LOCKFREE_NO_HDR_ATOMIC)
#  define BOOST_LOCKFREE_NO_HDR_ATOMIC
#endif

#endif // BOOST_LOCKFREE_FORCE_STD_ATOMIC


#if defined(BOOST_LOCKFREE_NO_HDR_ATOMIC) || defined(BOOST_LOCKFREE_FORCE_BOOST_ATOMIC)
#include <boost/atomic.hpp>
#else
#include <atomic>
#endif

namespace boost {
namespace lockfree {
namespace detail {

#if defined(BOOST_LOCKFREE_NO_HDR_ATOMIC) || defined(BOOST_LOCKFREE_FORCE_BOOST_ATOMIC)
using boost::atomic;
using boost::memory_order_acquire;
using boost::memory_order_consume;
using boost::memory_order_relaxed;
using boost::memory_order_release;
#else
using std::atomic;
using std::memory_order_acquire;
using std::memory_order_consume;
using std::memory_order_relaxed;
using std::memory_order_release;
#endif

}
using detail::atomic;
using detail::memory_order_acquire;
using detail::memory_order_consume;
using detail::memory_order_relaxed;
using detail::memory_order_release;

}}

#endif /* BOOST_LOCKFREE_DETAIL_ATOMIC_HPP */

/* atomic.hpp
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
*/