//
//=======================================================================
// Copyright 1997, 1998, 1999, 2000 University of Notre Dame.
// Authors: Andrew Lumsdaine, Lie-Quan Lee, Jeremy G. Siek
//
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//=======================================================================
//
#ifndef BOOST_GRAPH_DETAIL_MUTABLE_HEAP_H
#define BOOST_GRAPH_DETAIL_MUTABLE_HEAP_H

/*
  There are a few things wrong with this set of functions.

  ExternalData should be removed, it is not part of the core
  algorithm. It can be handled inside the tree nodes.

  The swap() should be replaced by assignment since its use is causing
  the number of memory references to double.

  The min_element should be replaced by a fixed length loop
  (fixed at d for d-heaps).

  The member functions of TreeNode should be changed to global
  functions.

  These functions will be replaced by those in heap_tree.h

 */

namespace boost
{

template < class TreeNode, class Compare, class ExternalData >
inline TreeNode up_heap(TreeNode x, const Compare& comp, ExternalData& edata)
{
    while (x.has_parent() && comp(x, x.parent()))
        x.swap(x.parent(), edata);
    return x;
}

template < class TreeNode, class Compare, class ExternalData >
inline TreeNode down_heap(TreeNode x, const Compare& comp, ExternalData& edata)
{
    while (x.children().size() > 0)
    {
        typename TreeNode::children_type::iterator child_iter
            = std::min_element(x.children().begin(), x.children().end(), comp);
        if (comp(*child_iter, x))
            x.swap(*child_iter, edata);
        else
            break;
    }
    return x;
}

template < class TreeNode, class Compare, class ExternalData >
inline void update_heap(TreeNode x, const Compare& comp, ExternalData& edata)
{
    x = down_heap(x, comp, edata);
    (void)up_heap(x, comp, edata);
}

}
#endif

/* mutable_heap.hpp
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
*/