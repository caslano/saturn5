/*!
@file
Defines a replacement for `std::decay`, which is sometimes too slow at
compile-time.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_DETAIL_DECAY_HPP
#define BOOST_HANA_DETAIL_DECAY_HPP

#include <boost/hana/config.hpp>

#include <type_traits>


namespace boost { namespace hana { namespace detail {
    //! @ingroup group-details
    //! Equivalent to `std::decay`, except faster.
    //!
    //! `std::decay` in libc++ is implemented in a suboptimal way. Since
    //! this is used literally everywhere by the `make<...>` functions, it
    //! is very important to keep this as efficient as possible.
    //!
    //! @note
    //! `std::decay` is still being used in some places in the library.
    //! Indeed, this is a peephole optimization and it would not be wise
    //! to clutter the code with our own implementation of `std::decay`,
    //! except when this actually makes a difference in compile-times.
    template <typename T, typename U = typename std::remove_reference<T>::type>
    struct decay {
        using type = typename std::remove_cv<U>::type;
    };

    template <typename T, typename U>
    struct decay<T, U[]> { using type = U*; };
    template <typename T, typename U, std::size_t N>
    struct decay<T, U[N]> { using type = U*; };

    template <typename T, typename R, typename ...A>
    struct decay<T, R(A...)> { using type = R(*)(A...); };
    template <typename T, typename R, typename ...A>
    struct decay<T, R(A..., ...)> { using type = R(*)(A..., ...); };
} }} // end namespace boost::hana

#endif // !BOOST_HANA_DETAIL_DECAY_HPP

/* decay.hpp
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
*/