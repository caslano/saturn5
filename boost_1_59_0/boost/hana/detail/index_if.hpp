/*!
@file
Defines `boost::hana::detail::index_if`.

@copyright Louis Dionne 2013-2017
@copyright Jason Rice 2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_DETAIL_INDEX_IF_HPP
#define BOOST_HANA_DETAIL_INDEX_IF_HPP

#include <boost/hana/config.hpp>
#include <boost/hana/detail/decay.hpp>
#include <boost/hana/integral_constant.hpp>
#include <boost/hana/optional.hpp>

#include <cstddef>
#include <utility>


namespace boost { namespace hana { namespace detail {
    template <std::size_t i, std::size_t N, bool Done>
    struct index_if_helper;

    template <std::size_t i, std::size_t N>
    struct index_if_helper<i, N, false> {
        template <typename Pred, typename X1, typename ...Xs>
        using f = typename index_if_helper<i + 1, N,
            static_cast<bool>(detail::decay<decltype(
                std::declval<Pred>()(std::declval<X1>()))>::type::value)
        >::template f<Pred, Xs...>;
    };

    template <std::size_t N>
    struct index_if_helper<N, N, false> {
        template <typename ...>
        using f = hana::optional<>;
    };

    template <std::size_t i, std::size_t N>
    struct index_if_helper<i, N, true> {
        template <typename ...>
        using f = hana::optional<hana::size_t<i - 1>>;
    };

    template <typename Pred, typename ...Xs>
    struct index_if {
        using type = typename index_if_helper<0, sizeof...(Xs), false>
            ::template f<Pred, Xs...>;
    };
} }} // end namespace boost::hana

#endif // !BOOST_HANA_DETAIL_INDEX_IF_HPP

/* index_if.hpp
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
*/