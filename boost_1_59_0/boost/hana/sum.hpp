/*!
@file
Defines `boost::hana::sum`.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_SUM_HPP
#define BOOST_HANA_SUM_HPP

#include <boost/hana/fwd/sum.hpp>

#include <boost/hana/concept/foldable.hpp>
#include <boost/hana/concept/monoid.hpp>
#include <boost/hana/config.hpp>
#include <boost/hana/core/dispatch.hpp>
#include <boost/hana/fold_left.hpp>
#include <boost/hana/integral_constant.hpp> // required by fwd decl
#include <boost/hana/plus.hpp>
#include <boost/hana/zero.hpp>


namespace boost { namespace hana {
    //! @cond
    template <typename M>
    template <typename Xs>
    constexpr decltype(auto) sum_t<M>::operator()(Xs&& xs) const {
        using S = typename hana::tag_of<Xs>::type;
        using Sum = BOOST_HANA_DISPATCH_IF(sum_impl<S>,
            hana::Foldable<S>::value
        );

    #ifndef BOOST_HANA_CONFIG_DISABLE_CONCEPT_CHECKS
        static_assert(hana::Monoid<M>::value,
        "hana::sum<M> requires 'M' to be a Monoid");

        static_assert(hana::Foldable<S>::value,
        "hana::sum<M>(xs) requires 'xs' to be Foldable");
    #endif

        return Sum::template apply<M>(static_cast<Xs&&>(xs));
    }
    //! @endcond

    template <typename T, bool condition>
    struct sum_impl<T, when<condition>> : default_ {
        template <typename M, typename Xs>
        static constexpr decltype(auto) apply(Xs&& xs) {
            return hana::fold_left(static_cast<Xs&&>(xs), hana::zero<M>(), hana::plus);
        }
    };
}} // end namespace boost::hana

#endif // !BOOST_HANA_SUM_HPP

/* sum.hpp
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
*/