/*!
@file
Defines `boost::hana::duplicate`.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_DUPLICATE_HPP
#define BOOST_HANA_DUPLICATE_HPP

#include <boost/hana/fwd/duplicate.hpp>

#include <boost/hana/concept/comonad.hpp>
#include <boost/hana/config.hpp>
#include <boost/hana/core/dispatch.hpp>
#include <boost/hana/extend.hpp>
#include <boost/hana/functional/id.hpp>


namespace boost { namespace hana {
    //! @cond
    template <typename W_>
    constexpr decltype(auto) duplicate_t::operator()(W_&& w) const {
        using W = typename hana::tag_of<W_>::type;
        using Duplicate = BOOST_HANA_DISPATCH_IF(duplicate_impl<W>,
            hana::Comonad<W>::value
        );

    #ifndef BOOST_HANA_CONFIG_DISABLE_CONCEPT_CHECKS
        static_assert(hana::Comonad<W>::value,
        "hana::duplicate(w) requires 'w' to be a Comonad");
    #endif

        return Duplicate::apply(static_cast<W_&&>(w));
    }
    //! @endcond

    template <typename W, bool condition>
    struct duplicate_impl<W, when<condition>> : default_ {
        template <typename X>
        static constexpr decltype(auto) apply(X&& x)
        { return hana::extend(static_cast<X&&>(x), hana::id); }
    };
}} // end namespace boost::hana

#endif // !BOOST_HANA_DUPLICATE_HPP

/* duplicate.hpp
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
*/