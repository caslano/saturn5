/* Copyright 2006-2009 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/flyweight for library home page.
 */

#ifndef BOOST_FLYWEIGHT_DETAIL_NESTED_XXX_IF_NOT_PH_HPP
#define BOOST_FLYWEIGHT_DETAIL_NESTED_XXX_IF_NOT_PH_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/flyweight/detail/is_placeholder_expr.hpp>
#include <boost/mpl/if.hpp>

/* nested_##name##_if_not_placeholder_expression<T>::type is T::name unless
 * T is an MPL placeholder expression, in which case it defaults to int.
 */

#define BOOST_FLYWEIGHT_NESTED_XXX_IF_NOT_PLACEHOLDER_EXPRESSION_DEF(name) \
struct nested_##name##_if_not_placeholder_expression_helper                \
{                                                                          \
  typedef int name;                                                        \
};                                                                         \
                                                                           \
template<typename T>                                                       \
struct nested_##name##_if_not_placeholder_expression                       \
{                                                                          \
  typedef typename boost::mpl::if_<                                        \
    boost::flyweights::detail::is_placeholder_expression<T>,               \
    nested_##name##_if_not_placeholder_expression_helper,                  \
    T                                                                      \
  >::type::name type;                                                      \
};

#endif

/* nested_xxx_if_not_ph.hpp
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
*/