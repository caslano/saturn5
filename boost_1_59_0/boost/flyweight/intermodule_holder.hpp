/* Copyright 2006-2011 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/flyweight for library home page.
 */

#ifndef BOOST_FLYWEIGHT_INTERMODULE_HOLDER_HPP
#define BOOST_FLYWEIGHT_INTERMODULE_HOLDER_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/flyweight/holder_tag.hpp>
#include <boost/flyweight/intermodule_holder_fwd.hpp>
#include <boost/interprocess/detail/intermodule_singleton.hpp>
#include <boost/mpl/aux_/lambda_support.hpp>

/* intermodule_holder_class guarantees a unique instance across all dynamic
 * modules of a program.
 */

namespace boost{

namespace flyweights{

template<typename C>
struct intermodule_holder_class:
  interprocess::ipcdetail::intermodule_singleton<C,true>,
  holder_marker
{
  typedef intermodule_holder_class type;
  BOOST_MPL_AUX_LAMBDA_SUPPORT(1,intermodule_holder_class,(C))
};

/* intermodule_holder_class specifier */

struct intermodule_holder:holder_marker
{
  template<typename C>
  struct apply
  {
    typedef intermodule_holder_class<C> type;
  };
};

} /* namespace flyweights */

} /* namespace boost */

#endif

/* intermodule_holder.hpp
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
*/