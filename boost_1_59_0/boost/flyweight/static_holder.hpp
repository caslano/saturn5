/* Copyright 2006-2009 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/flyweight for library home page.
 */

#ifndef BOOST_FLYWEIGHT_STATIC_HOLDER_HPP
#define BOOST_FLYWEIGHT_STATIC_HOLDER_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/flyweight/static_holder_fwd.hpp>
#include <boost/flyweight/holder_tag.hpp>
#include <boost/mpl/aux_/lambda_support.hpp>

/* Simplest holder storing the T object as a local static variable.
 */

namespace boost{

namespace flyweights{

template<typename C>
struct static_holder_class:holder_marker
{
  static C& get()
  {
    static C c;
    return c;
  }

  typedef static_holder_class type;
  BOOST_MPL_AUX_LAMBDA_SUPPORT(1,static_holder_class,(C))
};

/* static_holder_class specifier */

struct static_holder:holder_marker
{
  template<typename C>
  struct apply
  {
    typedef static_holder_class<C> type;
  };
};

} /* namespace flyweights */

} /* namespace boost */

#endif

/* static_holder.hpp
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
*/