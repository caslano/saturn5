/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   support/exception.hpp
 * \author Andrey Semashev
 * \date   18.07.2009
 *
 * This header enables Boost.Exception support for Boost.Log.
 */

#ifndef BOOST_LOG_SUPPORT_EXCEPTION_HPP_INCLUDED_
#define BOOST_LOG_SUPPORT_EXCEPTION_HPP_INCLUDED_

#include <string>
#include <boost/type_index.hpp>
#include <boost/exception/info.hpp>
#include <boost/log/detail/config.hpp>
#include <boost/log/attributes/attribute_name.hpp>
#include <boost/log/attributes/named_scope.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

/*!
 * Attribute name exception information
 */
typedef error_info< struct attribute_name_info_tag, attribute_name > attribute_name_info;

/*!
 * Type info exception information
 */
typedef error_info< struct type_info_info_tag, typeindex::type_index > type_info_info;

/*!
 * Parse position exception information
 */
typedef error_info< struct position_info_tag, unsigned int > position_info;

/*!
 * Current scope exception information
 */
typedef error_info< struct current_scope_info_tag, attributes::named_scope_list > current_scope_info;

/*!
 * The function returns an error information object that contains current stack of scopes.
 * This information can then be attached to an exception and extracted at the catch site.
 * The extracted scope list won't be affected by any scope changes that may happen during
 * the exception propagation.
 *
 * \note See the \c named_scope attribute documentation on how to maintain scope list.
 */
inline current_scope_info current_scope()
{
    return current_scope_info(attributes::named_scope::get_scopes());
}

namespace ipc {

class object_name;

/*!
 * System resource name
 */
typedef error_info< struct object_name_tag, object_name > object_name_info;

} // namespace ipc

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_SUPPORT_EXCEPTION_HPP_INCLUDED_

/* exception.hpp
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
*/