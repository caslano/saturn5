/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   save_result.hpp
 * \author Andrey Semashev
 * \date   19.01.2013
 *
 * This header contains function object adapter that saves the result of the adopted function to an external variable.
 */

#ifndef BOOST_LOG_UTILITY_FUNCTIONAL_SAVE_RESULT_HPP_INCLUDED_
#define BOOST_LOG_UTILITY_FUNCTIONAL_SAVE_RESULT_HPP_INCLUDED_

#include <boost/log/detail/config.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

//! Function object wrapper for saving the adopted function object result
template< typename FunT, typename AssigneeT >
struct save_result_wrapper
{
    typedef void result_type;

    save_result_wrapper(FunT fun, AssigneeT& assignee) : m_fun(fun), m_assignee(assignee) {}

    template< typename ArgT >
    result_type operator() (ArgT const& arg) const
    {
        m_assignee = m_fun(arg);
    }

private:
    FunT m_fun;
    AssigneeT& m_assignee;
};

template< typename FunT, typename AssigneeT >
BOOST_FORCEINLINE save_result_wrapper< FunT, AssigneeT > save_result(FunT const& fun, AssigneeT& assignee)
{
    return save_result_wrapper< FunT, AssigneeT >(fun, assignee);
}

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_UTILITY_FUNCTIONAL_SAVE_RESULT_HPP_INCLUDED_

/* save_result.hpp
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
*/