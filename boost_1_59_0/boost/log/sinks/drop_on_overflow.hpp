/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   drop_on_overflow.hpp
 * \author Andrey Semashev
 * \date   04.01.2012
 *
 * The header contains implementation of \c drop_on_overflow strategy for handling
 * queue overflows in bounded queues for the asynchronous sink frontend.
 */

#ifndef BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_
#define BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_

#include <boost/log/detail/config.hpp>
#include <boost/log/core/record_view.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace sinks {

/*!
 * \brief Log record dropping strategy
 *
 * This strategy will cause log records to be discarded in case of
 * queue overflow in bounded asynchronous sinks. It should not be used
 * if losing log records is not acceptable.
 */
class drop_on_overflow
{
#ifndef BOOST_LOG_DOXYGEN_PASS
public:
    /*!
     * This method is called by the queue when overflow is detected.
     *
     * \retval true Attempt to enqueue the record again.
     * \retval false Discard the record.
     */
    template< typename LockT >
    static bool on_overflow(record_view const&, LockT&)
    {
        return false;
    }

    /*!
     * This method is called by the queue when there appears a free space.
     */
    static void on_queue_space_available()
    {
    }

    /*!
     * This method is called by the queue to interrupt any possible waits in \c on_overflow.
     */
    static void interrupt()
    {
    }
#endif // BOOST_LOG_DOXYGEN_PASS
};

} // namespace sinks

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_

/* drop_on_overflow.hpp
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
*/