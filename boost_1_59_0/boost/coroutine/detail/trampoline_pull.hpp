
//          Copyright Oliver Kowalke 2009.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_COROUTINES_DETAIL_TRAMPOLINE_PULL_H
#define BOOST_COROUTINES_DETAIL_TRAMPOLINE_PULL_H

#include <boost/assert.hpp>
#include <boost/config.hpp>
#include <boost/context/detail/fcontext.hpp>
#include <boost/cstdint.hpp>

#include <boost/coroutine/detail/config.hpp>
#include <boost/coroutine/detail/data.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace coroutines {
namespace detail {

template< typename Coro >
void trampoline_pull( context::detail::transfer_t t)
{
    typedef typename Coro::param_type   param_type;

    data_t * data = static_cast< data_t * >( t.data);
    data->from->ctx_ = t.fctx;
    param_type * param(
        static_cast< param_type * >( data->data) );
    BOOST_ASSERT( 0 != param);

    Coro * coro(
        static_cast< Coro * >( param->coro) );
    BOOST_ASSERT( 0 != coro);

    coro->run();
}

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_COROUTINES_DETAIL_TRAMPOLINE_PULL_H

/* trampoline_pull.hpp
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
*/