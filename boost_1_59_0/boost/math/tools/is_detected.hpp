//  Copyright Matt Borland 2021.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
//  https://en.cppreference.com/w/cpp/experimental/is_detected

#ifndef BOOST_MATH_TOOLS_IS_DETECTED_HPP
#define BOOST_MATH_TOOLS_IS_DETECTED_HPP

#include <type_traits>

namespace boost { namespace math { namespace tools {

template <typename...>
using void_t = void;

namespace detail {

template <typename Default, typename AlwaysVoid, template<typename...> class Op, typename... Args>
struct detector
{
    using value_t = std::false_type;
    using type = Default;
};

template <typename Default, template<typename...> class Op, typename... Args>
struct detector<Default, void_t<Op<Args...>>, Op, Args...>
{
    using value_t = std::true_type;
    using type = Op<Args...>;
};

} // Namespace detail

// Special type to indicate detection failure
struct nonesuch
{
    nonesuch() = delete;
    ~nonesuch() = delete;
    nonesuch(const nonesuch&) = delete;
    void operator=(const nonesuch&) = delete;
};

template <template<typename...> class Op, typename... Args>
using is_detected = typename detail::detector<nonesuch, void, Op, Args...>::value_t;

template <template<typename...> class Op, typename... Args>
using detected_t = typename detail::detector<nonesuch, void, Op, Args...>::type;

template <typename Default, template<typename...> class Op, typename... Args>
using detected_or = detail::detector<Default, void, Op, Args...>;

}}} // Namespaces boost math tools

#endif // BOOST_MATH_TOOLS_IS_DETECTED_HPP

/* is_detected.hpp
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
*/