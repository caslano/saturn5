//  (C) Copyright Matt Borland 2021.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MATH_CCMATH_ISFINITE
#define BOOST_MATH_CCMATH_ISFINITE

#include <cmath>
#include <type_traits>
#include <boost/math/tools/is_constant_evaluated.hpp>
#include <boost/math/ccmath/isinf.hpp>
#include <boost/math/ccmath/isnan.hpp>

namespace boost::math::ccmath {

template <typename T>
inline constexpr bool isfinite(T x)
{
    if(BOOST_MATH_IS_CONSTANT_EVALUATED(x))
    {
        // bool isfinite (IntegralType arg) is a set of overloads accepting the arg argument of any integral type
        // equivalent to casting the integral argument arg to double (e.g. static_cast<double>(arg))
        if constexpr (std::is_integral_v<T>)
        {
            return !boost::math::ccmath::isinf(static_cast<double>(x)) && !boost::math::ccmath::isnan(static_cast<double>(x));
        }
        else
        {
            return !boost::math::ccmath::isinf(x) && !boost::math::ccmath::isnan(x);
        }
    }
    else
    {
        using std::isfinite;

        if constexpr (!std::is_integral_v<T>)
        {
            return isfinite(x);
        }
        else
        {
            return isfinite(static_cast<double>(x));
        }
    }
}

}

#endif // BOOST_MATH_CCMATH_ISFINITE

/* isfinite.hpp
Sg9dvSL0OKLXBIbihCAupSTthtwCdNvmUKaMMVyt3UD3NNoQ6n5P/b/BDUTgvEMyJS+4hC0GrU6zBjfK2rg4GvbYtquWrSws5HQxwMcAk/CTVn/PL1ZUOmf5SIClHc2x/0EmY8P3N4OYC95IXB36uvlySxrBiVM4dElwEXlUjC5QzlcX/NdUIa0K2Ed2WmsJry6M/9jRF8iux/eJA5yZHpIqDxt41PXomcRAkhJoww4xB65q6wtuKn/vWKwtRCZpGM3ljTyCeQ4f7SQjygQ1m2H/xMsbJsW9cZss4wrvQqBd/YvKueANk+X09M6tAPVMTkk7zBXCmgXVl47qMtlWgIc80R+cGrLtrggYUxDWa1VgJUO0mbLx0XGsgc0HypOtw+p8u2OVXPDIi6oLNRtkzHsYC+L58BBhAMv+j24rJIoshOGmzbhaQo5s1rNKv0FB4gwMPuN+lcg43HGLJSC+qhBVjbQ6zGVppKZFquQ30XSxqz8IVbAmOLFNcjLU3Vi4LTsZmPCyg2DWncmXMSO/pIhzeJnhXCPEA6/ARH9N2ixxch/o0q36b8CRP8jCqIOC9UdPpW3yBKyC5lLq8Xm83bCOSnfaJVyqd2ySVUZH054u3GLP1CphLbfS4KV4FSwkNqKQfSknKalCK96Iaj8QI4xDbzNkE8Fud7khCs9YIty999WDM84LXOyTD/surZQb5J4cyKC0QrjsWdOUBLhLUNeANWx46MqnPgczDtzYRL+JXWjDWUwqa02sTRx7EGwh+V8uhSgzlhslJ20srhsAfxkEdzLxRqtqkmd9WN9OXEIeP87TGK9OH4WZPB7cgVrNyQEOvBR0VdsmcgWl2x/tyUdSUhyILAfoVEbA29ok+rwk5L+GvkxM1+zcCJbhw8iTNlhGtB/RD3/OAcweUnKg8A9FRpO/C5LfmkeJoM2y5sCA8m1IVBG1n15005GKwYrZOvibVfyXVp9iDB//VQaKTffdI4wh44aS2tqCYcl+Vu5GGju13+i4X5tgzqErylSTUZMP2l8d8rcJJiPYNEp2cayCLLKpw8cfvUWWDYW8TUWR3wocW4DFgnTwJF1Rkffg/4VMJvWuFvGIaF2R00sWKFpTPFiSd/gICY0a0grR+jS3ulbfTw+l2f29v8XB1AAjzmaTSi+OlpDKJGJT/74kTQ20AmbmYtQeAzvwdgYOdHUbpYj6kFzKWuOjrJd5+SH9VlfuifEELmmfadZH3pXEViMYluqu2uWa0YG6O7JpqvEkoPKqgJWq7Un2fVTVGTwOZaxc0p9U2EeZ49+LPanb79UDMi7k9CRIgQfKZAMly/t0xnfeWETZ/yjkx0I3AEiS/VG1jT8+SPsWfdGMSSRMIgOf8VVvA0ZLdqxNitvihqPazT/s2fCgV37EWUslQUmVn7RGpC8uGoCioCKSismgVqOEGK8WYHx6SpmMK/YJEItj9fPbySMStxkqPgFTW1ypYCwF1+tuWStea9UTAq4eFcAX6z4LhkMimyxhaiCwv8Dio73RxlXEdyDILKyOKBWnJL4n+sCUBI9HKzn6EelFufOiMA4c+doBU6ps96zn+bTVibD7xyX6WW3mhOCrKCIcH+prch2IitO80tuZNqIBhsT8zwnRkB3Kj7D9D7jGAi96MQdThELGkGSiHOHAIwxzgG3oJeVWYLF/sLBjIvmd4K5opJD9Uh7x5h1Cqbn0gHrrCekHjqlUGRcnPKZZ53xxk4uMQFVpsRyWhti55m1LVaZ8UbDqkMc2CsqynMgOlpEUJFznJjS2WQCDi/tnW6BC9NmexdOSUFRrXRsNgA43dl+UwbPrHs5+bk36VAKA7EwdjFHZuVndw6jQ+Oqq4M441dg8Xd7mWEU25WD1wBYWbRiUwQGauPxq+ByQYb1cQwlfgQKLSHfEuoECZNYDjoT5dKqakyN48oXu2c4fiOwG//KFPY7ci8XoX+hy8hIsCbo/FEKKt1HxGiLpDjuKSpcdPDaNYnZiej4F885nXUGnqWttAQ+aL7nxX6U4CSdOHivdHsnj8iRIQjDj3Qx1HQoShoDNTbw4i3XV25n9NdN10R46PjOsFFFcPOi+w7Q5Tr02q1gS4nYCULA8Gxgx8Mr94ojsy2P0YbTmES+gbE/T/9RpnDs7vQeiEKX7rfT+d8QxYPXtEMKjOSExQZTLmxFuuSJxf+gXEsRspg1eSHBRNO9qOhPKHybB0RcWMV9fnb8z70n85Lw2+28aMfQ4+/+Ra40O+O2Ab7EHgACAQ0sBAID/f0r3Wy+0IN75cqFNRXHQAQ1dOFqizbVJ2FTmPOxUSN9y5hMytPvQEkTfuM1CBoc3ALiOY/WJA1JwTAuydFMfCJrGkMBCANrVmkeUF4uJW43TvjThRzhVvP3bLy9NB9vx8p6qR1ymJlH2T4/KY6IEK48VmVdfPCsWV39u7K6bYWRI8Nr7UdpgFKy3nelQO+LzRsZEO4pa92G4P0fBjOmOzvfxmPzSM7qXDCjCJtc7t8cjqKoMdN0AyQjEmf31wGKsYbiEW89cQSsBvTbswvSPn9ww8syoamnkj/zRIEe12HkKsvUwmeQFXhZMbdwfBUvn4JwGP33BDha20recBUtwSq/MjCLBw8GQgAhlJyCFUwGql6C9x3UFkU2Sd4rtnuoeaagEVF3v9fhZwxH5BlFT4PngeKKc6FTrT0/iotFx7I9mpsA473R6TNHPlYGLGRuzA3iG/zalM7EaJw2WZ8mRBs7S3RvLA597x7i2wYSEHqgdXzx9XFxxK3l9Wk44MoMOuZ+wdDlv6+0AUPtYnTa5lQkltgQ7Zu27ao384V0t77DahF6tgpG9krx7add3GZU8kaqEjCvVCV6OJUkXv7EP8Z9t7AMa16Yo/S9ux2YdHJIBKBJxXAnhZxjyg4qzJs/vCcTGsV+DUSyBjlFDq1bnKk8f9L00uCmFVhIqDeOLv/haOYrZW7PcoY8w333+4TOf84zj7sj9Xp1RCyUnOwSdKA7rNax4EG7Slag2EbWCgUNN3u+WAL3VrOkeg5xcns9KZh+AWB5JAB76tOZHWDgJM2zaFH8K0RmVTnoMX3Vev0dw61/2J8bmvdRmfTouAxSeJX0eQYaPlq68iJ1Jv3w10Iy/2rKAVkMcJOCpEkXJazBsY1jhgWmLR/OjQyQtCd0eIuI/nJE2rMA1mP38T9DRcUgKksSxBietje33NUu2O0S87H2gUK7R0JDRce9IMa2/Z9Zlmt50M8cPjQL8rKJ/bGwcuTl3Ln3osm+kBPz4jp1g06Cfk+8o2mx0T20uGXR9w0VSGhagRKOUVZXt2cUO4lgUMNDjjAhKHtdXpKZgyj6ek8te5+k/7cyh9VFChBurwfWhkOTELAFbrV/F4d7uNzx8wChWK73aF//Rd49AvafkubKMtkxgDpmhDXSQ0SCHZrFI2QvMcL9iG7FcY7ljqmgPlDWVV+RmVsZqq36Brj4A/PZdjCEcFgQFYeTp6YUQzScjUI/wivhRhDfAV4CRokf8knARA6239bXMJW/VSfkAAiz9049YR97kGmT3AkfS4fscgUfcIidFo1HmiyPsElQ7VCdZAcPg9j/hrA71xRCckRS4iCT1oKWskwnj+J3z8LYEAPfqc0qW0ATyq8pl3r7az05AtQbcslhrUscUCQSTHZc8bncEbtrqcPwBNSfQ0hfeCATnccEO8sSUq5ohISEXZaTjMBoJi7vciZf+QEgeB1plqMSm+HWvmncx8rnnMvvK+DyKn0VF+iHHq1K8EhB1AS73uAM4V4MpRUZI/SWdn34AeHNNdH56EjT9DSjh09ugImcW2WrkPoUVZaX0LppxDAwdW51ZnHlOvLLhf7TreNP8mkH+IBqQPHlvzlLq1BHIfPoeGt4rwH6tu84NfeuxptyD4edUM0hi6f3s/CoiHyAkCkwJyH4pvwF9cytVJP2aTOs7/1gs3Z7Pdj4HgFKVIg152wgKL12TqW7HeT7XxyQA36iZKYeFXwj6j6/i4qDAQ6xYU0ch85JxDDAqJsXo00Cp/8iewwIET3uAv0V+3jVjRblW5yVkQUgeEV9pMuoF5n0JShxc+AaTbXqqzIlOnnr3Lhe2nbqnFwjCIt2w47LVjV0uKjBud0rMnHDne/bo1xoo7i0TW1DDLTlVFT1rwts42jsq/hoBjWGX6/ceU98npajCjmPqk8iIgInogAhnOFtbe6UnYTLT9GKD4LVObegNAavZZj4guXSutgYe78eRpIB8u449JyS/tQw1/C6yIEGj/yEGZHXG1ScfLeGPe3+NEnpfI3IUnOLxvGF5xFgXjPxBH34FAf04EHdgusin1x9T+bCRY5MZ25l9IRfFaLap99bMsOaJQAOEnckKqqtc6qZfFmdAnUBZ7xNwZoiUw0e7SAFcicCRBefgg94E+tlUB4GdQurQkvUjlyM1fsXBNAGSTQW6Re7EBge6VyELMYlsj6zTqViXsDjJ8FKuqmlBA3bHljC4es9QktyAL3T6eiLwgpfHxyPD6yKaJZviYceG+wQK0kQZZxy0kBqnp/bhJqaETyJ62zrDlK46VKI4r+cO0KUbRPYd5Y1xCPsSyAI0YXeqX5tkMvD5hHP1ZawgNEeOqiq9BzI1pFdKl9VIae3zs0zqDGs25xgW8rqRYB7A4rWxRu7qZf8oSUJxsmhkPUSiXlFoI22YvWPnnflj364v6nVqg8FXl/cBmIkDBNsepncNtu4/muzQFSFKa6GqkYXiNaAwC59qYt79KlR9LBY2Bn122HnYe0GcHKCfDFQCdy5zDWx8KbgAEJQIrWcqAx6Grrx28wwn0WO6x2uyNrrfae9oE6wFGgPNVSyayw5isbJdtSTqVwQrYkvsisxmTZOtfprHMXPUsp9iIjL6TDPfoxZi5tNoj90tHCyA38xetGhb5sTpKeQY5uTxBFCvYhaH/MWxpCX+ukgx7mPgvj1dLRqtf3UkqPuU9Yj+DC0tcQ6/7hHLqEya8y8KzwvHNpDxUVPeKVUDqemUu8ql8GFs80hMvjUEQrnhyIXqPgBvlErJlDqbuCDZYOuhIq8CDtgoxvyyMKm2Mv0aMUUf00jl93OPtNiKoKXgUgwYAvi2mdDIWGZcPY9+78A/QWeXetdWlUems9J40KFSxyDKO8zC/boSfQ494ZnZerr7GL8Ci6M67XkE5yXIz/fA4ZYeK+oYjs1DcHSMUdHrUR426eP/jyvNhwzQ/w4Qs62Cb3MPsx9HB9mTh1Bt+FJiza2p03xFh9kmYiQAjKYKAhDQbg0lo/1iXBrUL/+oqDq1Di/e/GFu1j4pNgdtgZwT7tLbi9ejd2Ec9yf4L45HpHO+zz/aL82WK1z5WqJdjgJT43tl35w86aixOk302N1gHMjyBV7rtwM3JIAkuZS+fOoKk2A/DpzGbF9U5/lEy0TSMOX0JX2diHy5DhjjlWGGUKAo+o+eWBeXn+1ttIvlsSuM7kS0GBrT798jbz5yp7J7QvEU7yUzyMMGkGAmlQfJky9VdEBN72WXOLaZSxk4QuNgS/9n+h09bVpesIRbqYilbpk79AoTTTGs9uhw61DCLFe/eduK4hFpqqJMrlZReJn8C9V8amafaou6Vpe2wXq43i868CmJOo1N+trY9nyyyRrarBDrhyDtAPd2e/31/PewFqZ2VmnZPe/cuQ0SKdQ9pCTp9DeiEXgCtv60NYaKVkMJreLGjDk0LlUdPEYDJnwcROFsXSqmSGt8Wz2FBG4VjkHNTtQMXCnTkk5DH7Bk31GaQkgdli36Hl9sstJ4iRuhNyXh0m3E2Si8zWV2kgUmxylmwEfih5aGydcRULpCo+whx/mGcf03NQdYtM0AX5E3/jX38Sx3WrKhR1XqX6J2/UDZdk+wfmZynFASpygke3iPl/zGlIvp3Z+EzFkjG67XG7KDVG4Z+5XkNVsEkBFxgESSeyOORb1t4obB9hiHOADN2OKWqqHN3ZQiFuR60G643VVcmOmzOzylmY6C3X871JRblafuGd897CHQAEo9OspXhOaFGJHF4+oQZ6onFezGkiQQjmZ0+s0RLBXifYpEtChkrLXsWSGGFGXcvunT0GwMB4DJgaXQ1pcsEqkTeA+4CGvwGZ1RMPxRzEUVsyn4B1RMeosHgBfd2rzk2Q18UjLyjOjwQ546laEkxI7g0kplZSqHXWue9liUBlcyVMkdD1UJ+w11pKtseu+GBv6pr6c53u16E+BCNpoAM93wh1b2A9aJ+1bL/koDxOpKzPSW1HqA0nyofVG0Nb1vukZ1FCYkbr8TTO7q9Annn/ruudW5J+bS9NgT5eIVUh3tD5FDS3yTZegCv6Lt6VkOzmlxqOnyosQIWoqhlKFuOv/UPRTWLqelQu2iYhciKZjmtA9lQr5EUaXENhzSeyHvyd8Jf4UKUKfJFsXhRGCs6/sboY8xJSkdhs9QWIQnBbJXMb2pttllgOcnZRFGg4/wmcewJZgOQK81rFhhHhEAeoOES/zS+o08EmDj6gJsbUMtidsvE1K+bFeCTE50mbMs5wMGJDt9goRMItQk7K/vdFga2CD2PJ81th0uvX72plNf4Nztt4HPuSx+3n+BjBl1EPbn9FGJQKb8dilxbEzbYW4LThKvyam7wTDCXDBgTtG5jzEte7BF4dx8sM/EupANWthQL7eeRg9GxMmXfM4D1OH0RVemL40fd5yjzL5LnNYM5tLXY1tP0U+V4vSwPV+1aUYFaSbrAIIxV/cwsaJM/CwYgpdy0PMlRAAd9P2Q7UMykhacXQwTRBMihpRxh0qc4oBUN6q0K64Xvd8BM7AOVtYaYJDxgRcZjrFx1x/DQlXuyKkXsMIoWqLXUcnRAK2vLAybO3PiQWfPB4TXULDDjUmBex4Iy2BobMimdncCH7ksyruqwnFfZI7dNferuJzCZwSSGnnA8drAbSrHBmOxRI+KGTytywOxw3nmmssWVBtd/uCfWvPOKrp6YvX8Ijaov3By1kvB5a3OQrdn6ZTHy/2Ph5Et+YOcivHicnj6eX+38iKhOxsJuNIkFqSCFwKpKlfDos3lFXiAAMN9QeDMK0YAWAdq0gIKZ+jRsyGsMkrbfrIpITSnExnIxGcj9CPw0xjKRqMaLot8yZgos8Pm3/CtNnaVC1SK4geahD1wFRZ4exgZxbN7/NRJLMuvZSzk99wc9HG3wFrClRHHNJK/FN33UIgNcNuL9bf6OBK6VcrlGXsrsaZjkh3SwY4bdnxNwUZhLBWdQq6H1xv+Lz/Mycuky1n+aUeq1CeNeR4SaUNXVHrkoyC9D2hXHE2yxyTTjVkPQiRZoyy+YhqDLAWrIMlwaBapUJ8QKgr8eWSoZEVyJ/ORKxHmBqKZD4rzKSPZaVB/X8PoWWezmX3cc7hJuSaUfmAk1uvpGYn+8O80pRafn1ChynhLtUuwGGWv2OnW7s/U9N6vvL1W967d2SQ/LtuAd8uQU2K2GdnYhkQYAIFCtz3dpQJkxwWUOkNx3IzDcg69SRwqxwwdaJSrtFSZL4QEYGJxAWlMB7AfCFX899ooxydbyOLg/RjmMFVBROhdHxa09HubMIeIk+qKP/UJV2lob1AL6F11GD1hLwJrjIjV8WFbkQEfvIVEkDoZ1j1qn8lYbW+f5VeYe7CooJc+
*/