//  (C) Copyright Matt Borland 2021.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MATH_CCMATH_TRUNC_HPP
#define BOOST_MATH_CCMATH_TRUNC_HPP

#include <cmath>
#include <type_traits>
#include <boost/math/tools/is_constant_evaluated.hpp>
#include <boost/math/ccmath/abs.hpp>
#include <boost/math/ccmath/isinf.hpp>
#include <boost/math/ccmath/isnan.hpp>
#include <boost/math/ccmath/floor.hpp>
#include <boost/math/ccmath/ceil.hpp>

namespace boost::math::ccmath {

namespace detail {

template <typename T>
inline constexpr T trunc_impl(T arg) noexcept
{
    return (arg > 0) ? boost::math::ccmath::floor(arg) : boost::math::ccmath::ceil(arg);
}

} // Namespace detail

template <typename Real, std::enable_if_t<!std::is_integral_v<Real>, bool> = true>
inline constexpr Real trunc(Real arg) noexcept
{
    if(BOOST_MATH_IS_CONSTANT_EVALUATED(arg))
    {
        return boost::math::ccmath::abs(arg) == Real(0) ? arg :
               boost::math::ccmath::isinf(arg) ? arg :
               boost::math::ccmath::isnan(arg) ? arg :
               boost::math::ccmath::detail::trunc_impl(arg);
    }
    else
    {
        using std::trunc;
        return trunc(arg);
    }
}

template <typename Z, std::enable_if_t<std::is_integral_v<Z>, bool> = true>
inline constexpr double trunc(Z arg) noexcept
{
    return boost::math::ccmath::trunc(static_cast<double>(arg));
}

inline constexpr float truncf(float arg) noexcept
{
    return boost::math::ccmath::trunc(arg);
}

#ifndef BOOST_MATH_NO_LONG_DOUBLE_MATH_FUNCTIONS
inline constexpr long double truncl(long double arg) noexcept
{
    return boost::math::ccmath::trunc(arg);
}
#endif

} // Namespaces

#endif // BOOST_MATH_CCMATH_TRUNC_HPP

/* trunc.hpp
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
*/