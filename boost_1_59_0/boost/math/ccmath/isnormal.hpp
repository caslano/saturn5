//  (C) Copyright Matt Borland 2021.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MATH_ISNORMAL_HPP
#define BOOST_MATH_ISNORMAL_HPP

#include <cmath>
#include <limits>
#include <type_traits>
#include <boost/math/tools/is_constant_evaluated.hpp>
#include <boost/math/ccmath/abs.hpp>
#include <boost/math/ccmath/isinf.hpp>
#include <boost/math/ccmath/isnan.hpp>

namespace boost::math::ccmath {

template <typename T>
inline constexpr bool isnormal(T x)
{
    if(BOOST_MATH_IS_CONSTANT_EVALUATED(x))
    {   
        return x == T(0) ? false :
               boost::math::ccmath::isinf(x) ? false :
               boost::math::ccmath::isnan(x) ? false :
               boost::math::ccmath::abs(x) < (std::numeric_limits<T>::min)() ? false : true;
    }
    else
    {
        using std::isnormal;

        if constexpr (!std::is_integral_v<T>)
        {
            return isnormal(x);
        }
        else
        {
            return isnormal(static_cast<double>(x));
        }
    }
}
}

#endif // BOOST_MATH_ISNORMAL_HPP

/* isnormal.hpp
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
*/