//  (C) Copyright Matt Borland 2021.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MATH_CCMATH_FPCLASSIFY
#define BOOST_MATH_CCMATH_FPCLASSIFY

#include <cmath>
#include <limits>
#include <type_traits>
#include <boost/math/tools/is_constant_evaluated.hpp>
#include <boost/math/ccmath/abs.hpp>
#include <boost/math/ccmath/isinf.hpp>
#include <boost/math/ccmath/isnan.hpp>
#include <boost/math/ccmath/isfinite.hpp>

namespace boost::math::ccmath {

template <typename T, std::enable_if_t<!std::is_integral_v<T>, bool> = true>
inline constexpr int fpclassify(T x)
{
    if(BOOST_MATH_IS_CONSTANT_EVALUATED(x))
    {
        return boost::math::ccmath::isnan(x) ? FP_NAN :
               boost::math::ccmath::isinf(x) ? FP_INFINITE :
               boost::math::ccmath::abs(x) == T(0) ? FP_ZERO :
               boost::math::ccmath::abs(x) > 0 && boost::math::ccmath::abs(x) < (std::numeric_limits<T>::min)() ? FP_SUBNORMAL : FP_NORMAL;
    }
    else
    {
        using std::fpclassify;
        return fpclassify(x);
    }
}

template <typename Z, std::enable_if_t<std::is_integral_v<Z>, bool> = true>
inline constexpr int fpclassify(Z x)
{
    return boost::math::ccmath::fpclassify(static_cast<double>(x));
}

}

#endif // BOOST_MATH_CCMATH_FPCLASSIFY

/* fpclassify.hpp
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
*/