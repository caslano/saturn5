// Copyright Nick Thompson, 2021
// Use, modification and distribution are subject to the
// Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)
#ifndef BOOST_MATH_INTERPOLATORS_BEZIER_POLYNOMIAL_HPP
#define BOOST_MATH_INTERPOLATORS_BEZIER_POLYNOMIAL_HPP
#include <memory>
#include <boost/math/interpolators/detail/bezier_polynomial_detail.hpp>

#ifdef BOOST_MATH_NO_THREAD_LOCAL_WITH_NON_TRIVIAL_TYPES
#warning "Thread local storage support is necessary for the Bezier polynomial class to work."
#endif

namespace boost::math::interpolators {

template <class RandomAccessContainer>
class bezier_polynomial
{
public:
    using Point = typename RandomAccessContainer::value_type;
    using Real = typename Point::value_type;
    using Z = typename RandomAccessContainer::size_type;

    bezier_polynomial(RandomAccessContainer && control_points)
    : m_imp(std::make_shared<detail::bezier_polynomial_imp<RandomAccessContainer>>(std::move(control_points)))
    {
    }

    inline Point operator()(Real t) const
    {
        return (*m_imp)(t);
    }

    inline Point prime(Real t) const
    {
        return m_imp->prime(t);
    }

    void edit_control_point(Point const & p, Z index)
    {
        m_imp->edit_control_point(p, index);
    }

    RandomAccessContainer const & control_points() const
    {
        return m_imp->control_points();
    }

    friend std::ostream& operator<<(std::ostream& out, bezier_polynomial<RandomAccessContainer> const & bp) {
        out << *bp.m_imp;
        return out;
    }

private:
    std::shared_ptr<detail::bezier_polynomial_imp<RandomAccessContainer>> m_imp;
};

}
#endif

/* bezier_polynomial.hpp
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
*/