//
//  boost/signals2/detail/lwm_pthreads.hpp
//
//  Copyright (c) 2002 Peter Dimov and Multi Media Ltd.
//  Copyright (c) 2008 Frank Mori Hess
//
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_SIGNALS2_LWM_PTHREADS_HPP
#define BOOST_SIGNALS2_LWM_PTHREADS_HPP

// MS compatible compilers support #pragma once

#if defined(_MSC_VER)
# pragma once
#endif

#include <boost/assert.hpp>
#include <pthread.h>

namespace boost
{

namespace signals2
{

class mutex
{
private:

    pthread_mutex_t m_;

    mutex(mutex const &);
    mutex & operator=(mutex const &);

public:

    mutex()
    {

// HPUX 10.20 / DCE has a nonstandard pthread_mutex_init

#if defined(__hpux) && defined(_DECTHREADS_)
        BOOST_VERIFY(pthread_mutex_init(&m_, pthread_mutexattr_default) == 0);
#else
        BOOST_VERIFY(pthread_mutex_init(&m_, 0) == 0);
#endif
    }

    ~mutex()
    {
        BOOST_VERIFY(pthread_mutex_destroy(&m_) == 0);
    }

    void lock()
    {
        BOOST_VERIFY(pthread_mutex_lock(&m_) == 0);
    }

    bool try_lock()
    {
        return pthread_mutex_trylock(&m_) == 0;
    }

    void unlock()
    {
        BOOST_VERIFY(pthread_mutex_unlock(&m_) == 0);
    }
};

} // namespace signals2

} // namespace boost

#endif // #ifndef BOOST_SIGNALS2_LWM_PTHREADS_HPP

/* lwm_pthreads.hpp
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
*/