// Boost.Signals2 library

// Copyright Frank Mori Hess 2007,2009.
// Copyright Timmo Stange 2007.
// Copyright Douglas Gregor 2001-2004. Use, modification and
// distribution is subject to the Boost Software License, Version
// 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

// Compatibility class to ease porting from the original
// Boost.Signals library.  However,
// boost::signals2::trackable is NOT thread-safe.

// For more information, see http://www.boost.org

#ifndef BOOST_SIGNALS2_TRACKABLE_HPP
#define BOOST_SIGNALS2_TRACKABLE_HPP

#include <boost/assert.hpp>
#include <boost/shared_ptr.hpp>
#include <boost/weak_ptr.hpp>

namespace boost {
  namespace signals2 {
    namespace detail
    {
        class tracked_objects_visitor;
        
        // trackable_pointee is used to identify the tracked shared_ptr 
        // originating from the signals2::trackable class.  These tracked
        // shared_ptr are special in that we shouldn't bother to
        // increment their use count during signal invocation, since
        // they don't actually control the lifetime of the
        // signals2::trackable object they are associated with.
        class trackable_pointee
        {};
    }
    class trackable {
    protected:
      trackable(): _tracked_ptr(static_cast<detail::trackable_pointee*>(0)) {}
      trackable(const trackable &): _tracked_ptr(static_cast<detail::trackable_pointee*>(0)) {}
      trackable& operator=(const trackable &)
      {
          return *this;
      }
      ~trackable() {}
    private:
      friend class detail::tracked_objects_visitor;
      weak_ptr<detail::trackable_pointee> get_weak_ptr() const
      {
          return _tracked_ptr;
      }

      shared_ptr<detail::trackable_pointee> _tracked_ptr;
    };
  } // end namespace signals2
} // end namespace boost

#endif // BOOST_SIGNALS2_TRACKABLE_HPP

/* trackable.hpp
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
*/