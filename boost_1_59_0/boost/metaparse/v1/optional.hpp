#ifndef BOOST_METAPARSE_V1_OPTIONAL_HPP
#define BOOST_METAPARSE_V1_OPTIONAL_HPP

// Copyright Abel Sinkovics (abel@sinkovics.hu)  2015.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#include <boost/metaparse/v1/is_error.hpp>
#include <boost/metaparse/v1/accept.hpp>

#include <boost/mpl/if.hpp>

namespace boost
{
  namespace metaparse
  {
    namespace v1
    {
      template <class P, class Default = void>
      struct optional
      {
        typedef optional type;

        template <class S, class Pos>
        struct apply :
          boost::mpl::if_<
            is_error<typename P::template apply<S, Pos> >,
            accept<Default, S, Pos>,
            // is_error evaluates it anyway
            typename P::template apply<S, Pos>::type
          >
        {};
      };
    }
  }
}

#endif


/* optional.hpp
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
*/