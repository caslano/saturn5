#ifndef BOOST_MP11_DETAIL_MP_COPY_IF_HPP_INCLUDED
#define BOOST_MP11_DETAIL_MP_COPY_IF_HPP_INCLUDED

//  Copyright 2015-2019 Peter Dimov.
//
//  Distributed under the Boost Software License, Version 1.0.
//
//  See accompanying file LICENSE_1_0.txt or copy at
//  http://www.boost.org/LICENSE_1_0.txt

#include <boost/mp11/utility.hpp>
#include <boost/mp11/detail/mp_list.hpp>
#include <boost/mp11/detail/mp_append.hpp>
#include <boost/mp11/detail/config.hpp>

namespace boost
{
namespace mp11
{

// mp_copy_if<L, P>
namespace detail
{

template<class L, template<class...> class P> struct mp_copy_if_impl
{
};

template<template<class...> class L, class... T, template<class...> class P> struct mp_copy_if_impl<L<T...>, P>
{
#if BOOST_MP11_WORKAROUND( BOOST_MP11_MSVC, < 1920 )
    template<class U> struct _f { using type = mp_if<P<U>, mp_list<U>, mp_list<>>; };
    using type = mp_append<L<>, typename _f<T>::type...>;
#else
    template<class U> using _f = mp_if<P<U>, mp_list<U>, mp_list<>>;
    using type = mp_append<L<>, _f<T>...>;
#endif
};

} // namespace detail

template<class L, template<class...> class P> using mp_copy_if = typename detail::mp_copy_if_impl<L, P>::type;
template<class L, class Q> using mp_copy_if_q = mp_copy_if<L, Q::template fn>;

} // namespace mp11
} // namespace boost

#endif // #ifndef BOOST_MP11_DETAIL_MP_COPY_IF_HPP_INCLUDED

/* mp_copy_if.hpp
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
*/