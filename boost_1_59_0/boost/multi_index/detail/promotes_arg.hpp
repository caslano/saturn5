/* Copyright 2003-2017 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_PROMOTES_ARG_HPP
#define BOOST_MULTI_INDEX_DETAIL_PROMOTES_ARG_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/detail/workaround.hpp>

/* Metafunctions to check if f(arg1,arg2) promotes either arg1 to the type of
 * arg2 or viceversa. By default, (i.e. if it cannot be determined), no
 * promotion is assumed.
 */

#if BOOST_WORKAROUND(BOOST_MSVC,<1400)

namespace boost{

namespace multi_index{

namespace detail{

template<typename F,typename Arg1,typename Arg2>
struct promotes_1st_arg:mpl::false_{};

template<typename F,typename Arg1,typename Arg2>
struct promotes_2nd_arg:mpl::false_{};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#else

#include <boost/mpl/and.hpp>
#include <boost/mpl/bool.hpp>
#include <boost/mpl/not.hpp>
#include <boost/multi_index/detail/is_transparent.hpp>
#include <boost/type_traits/is_convertible.hpp>

namespace boost{

namespace multi_index{

namespace detail{
  
template<typename F,typename Arg1,typename Arg2>
struct promotes_1st_arg:
  mpl::and_<
    mpl::not_<is_transparent<F,Arg1,Arg2> >,
    is_convertible<const Arg1,Arg2>,
    is_transparent<F,Arg2,Arg2>
  >
{};

template<typename F,typename Arg1,typename Arg2>
struct promotes_2nd_arg:
  mpl::and_<
    mpl::not_<is_transparent<F,Arg1,Arg2> >,
    is_convertible<const Arg2,Arg1>,
    is_transparent<F,Arg1,Arg1>
  >
{};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif
#endif

/* promotes_arg.hpp
s5gwABorl0nLBoCmmAcfc9tA3fwws0lteokKcjowrqKYCf3d0WLsIyDuiS3Zb7qJ/QV9tvcjpGTosAT1vL1sxV5ES9G/5PqdtHtvKA6gGBsDiAPyOIlsiHF35vwx1tGXJNqMvaa2DvIxSoycnMn9XvnYUiyXeYe/DBXRIy2MWy4hIj0xyxdp0nn+kMrINlVEbqmWzzw1RGufv8mT9shinz9Zik+89A9E2HlDvc39Nb768PBJkkjMkTDtoG1usvnPXj8WSk0e5iYITFYCjRImrI6FOYJG2jeTKvxg/Hs2tFLjKrO3MM8jvxBvJIm96z0bzniQ3LhVVj61CnbdHhBeSDEOYeQYV3SXgr949Uc5fjvK9VW04vF8AgVHKab0fZYKg/TCKLVlm+mdAvvm00T/sRXyrXkBp834cCkeK0XhH2HBUkuk5QeY206S0+Lmuraah1kzO41sHE2c43Bd9rVCufLg+EyVf17jvu00r/3or6/3InncSncuFc84JQqhXftulu1QvDQ7fn65++CJCTs8r/MUsB1jYQzerqdS7kbIt4jzV3dkN9tIvWP1QngxJc3eJ4nHSQFNCPEupGlj2oME558wHpFdD8i6A3nzzgGpW84j/OqJi5ZV9Ya9GfuoqT4V1DkvJF4BJet3Jo4CABYFnMaS+8LIrC7lqEn2VCJzbZyWRFFdrz9/9RleotW6h82zHoRYwHdwT/zI/vpD+pvQkp8ujwT74uorDTL9WwZHGlV6g3e04xHb246XQryuDPXYWHFDT75CbLovGMty50Bos8XweX+f0FU9xs64mFTdQM3WIH7mnbQggEUf4cR6cYyZvDT6b8Hb3/mT9d+LZ2kA5uskdnC3Nlm3/hAK61ZOW5wQAeKyw4JIDqpqafVzKJaUSZLJuTVhnDFTePIG0JEEZBanJWQKVNuucJ2/MDiLI8AkoJEqiUzNIgOhvecbDIciti5kFqY6Pja1Oj5rpWiEwSSlIskGSis36uZkJ5IlqWpNZKQl7+mOx3c+4qNJhSkc1+zu1wv+R/eLjsM85wte//OLbsdMEpeZI/CmpLuOSK9itfKlrFw+wRnQSdwlvj+DNPDHlZ1QgqhcRvlWENGUR2wwjGA0Gqf/qZdElLc/+9uVjNiCOORqo6NwIs7KWPJ+uXzCJVF6XzjAc60R6/oFsqITYfZXgh/KsTCJXuZw7x75LvfLIqEwq+OZ0+KATFig7Jbjwyl0OqWwbZCPeZMPQde1AFbcunN8DdaDyAvErKMUqkVU6r2hXPxs3zWP7Z365gbL7gPIenJ31s/NNdX2nxa4c240h1fMo2eo06QUOS89+9LD/Q3Xl3f7fdmCAxLPnnaSWTopjBLOhChgqghdqMTGIzBVvCpAFUE6pIVIhbGEjyu1hXXM3lPbAjHckJl/zA11VN5bmTVj2csM0fOzMLZRaXPb3BDZpTdbl36Fqx3zoeeC73UVfG5f/DBKeB4qex6vv4S0aeLvPf7BZTjRekNtxj0sYIoTKUnfc/Ry9j2mSYqGGCshSxD9b5eBILOSPc53QC2MT3cAmMFhDbYwAvc7G2I/UwfiQ8c+zDvMPotz6gbRoRBr0BQtCgRUf1wsOp6SJ2lMgfgcYuJ+Bqe618S2q+kAnANBqPBw0P5GFNBuoAFtCPJ8LXXhH1Uv2QK5TL0luFDZygYww1sH7bRSuvdpYI+gTC73S4tSC87VNZRQc780YQi5XsF3g3MON1x9PtYCWwl4Lb7oOGZLeDqo7mYkmrnl5OTjs/S2sqjuyqLldMIRpHjYljbklybYvrbHoRCUW6T7xWOUyvCweRXxk9iwGd/oSLjJjE8Voc9uH0TdmBJ5DCetqoTrVXuhRn9biHTAE4ax0vYQw103grgaDtB8spRHVc94fAKA/iT1rySR1BviAxmmpjYLAHnGi9fc4QAUJNNkxl+tOWzmlg8AekEdGB2bdyVlskIiOq/dDIRo4RAvp6jGzBLzPtUQrapdMKoOt145Gr6N7eGYpvcUTvTkFUQeeYnj6oX0i7yTx1Qyi5WxvgR1WIhj4qbMbtVG8CAK9YP+wfLBRvx2bzYI1+EjHnBuuIc4fn3XSDTRq4fQlRzrWg+3IGicNRVc56fPfAj1eC9D46hf/1PWTPH60pN2ee7Nr1tw6p+mclrPdyrR7Pc6O0VMKooMspfSKR844u/uLH/C7RTnfpZxoJKp/cKX9VbsywjyReSSOY9BlD43bVj3mNtnNma+ffssFLRgLm43a3pgYwetTtz1ZZn46f++LfrYcPHOzOA6N989N+3tKeiJma63QvPLtV6ZOPOeNWPGZA+siZCvGGGUgFfeSBrNa1mekCj9DUmWBT9gMRRZ7+T6Bbc9SWf3yFkB9ETg9R3gzduXzkxVghsIyHJ2AA82jcsTJbAD0QAjokEKbZsHtkrRp3pmZ9eJoAy3d5wvTBVjOFp8KRLwkS3+5NU8pUfNCe9OFjJHNNhn2/ZflAyXzGeI7G3I7H8Kocj9kzQYVtuL//9tAzFQPHumf1F0vCoBgChNyZsRpv9NmozSErv7JsyYkwlCKMoZKHjL/19PfdXPowr/26mCDDIsvkZGCO5wlFRliWFnw4hln5WIdoS9oCtzBCWwTPMYS321U+Qt7qeO4+wKEiwMRRAHgMITfiXdQv0MyFHXTeyZhHcsRH/bhq8wOKoIvDT0W0dZDn1rR0fOyEukWpUJVV0Fq9Q1wRJA/+v4isn4hphGv2ojcrB+8DMsV9azMMhn9OkNjtU/jFEY+932+yQBT+NHRZEjIi3U77302PbuRwenQOHjn0Q69yz9amgcMJhH8YM2PGCLx4KCu3bKUTUjtliXXVMfE1MCs3M65OIu5OzGP4izKwGA1x3Zc6ce9GBcm2GQr7Z0RCVr4cGHEAhG7gAHpUtk6GK6wZr9DDQ5wtyc5EeZFyXgVi0g7XkWvxUcDnzHUmEvQc38UytWtK03UkFvUD9xP0x5ygfb8Ik5a56gIEqQLI+fWepdJneyT/OxuefJLfqvWsJF8Py340oa0J/bj50XyFgOjhLB5eiYennhAPwwPwhHVTI14RO4K/860v54aeEAf8pFNJt/76FJL/Nb/LaenZGeyYbmwRiMvMYn5owvhFQ4SXeh0gREu1C+p8egVeSXCOUIpu6C6r+ajni4LaKjtisLQ+GZ2hEhTwoOH6J0fH+faYwxDklH0DeXofZjb2eUFDH8PGsuBh9xjzk4TBzvR59NU+c1fX/RP3ZTOrRXcyiaJFwP+efQxAgr/g69vq7pRbZcX8yJKd9JiBsptncJT2U/Qa3pluRriwnSdtW/r1HCXChrlprG+eSe6SPts0DP80p6mrDp1RyzOXZjuXy0219QNm10R+2IGC9tyK0l/FPP/shIT/svlDtgYro7FInBTXhybNiKEB0lyd+o+o7Q1xeS6zdghVUX/o4kZ412r2g7nmcAjpED1aKnolYvsg0/ADW2I9GjROol3crmx/raNwOPa2QZa6QGDhA5nbh6JZ5njEBXEVR414ccu2JpVjdOtLnItSxmFhfGzLjdK856sRGlsJt9QB2s4+ZcVgQ1k5Yi1csvAtHDgz2uSJhFy242DNzShT1G+QY//I6MT8Vbn8vV5Ajw1F8GcWNXJixQQeWYf+jyti7BHlPDjUP6U3ZE8aj4zU3DLDNCPymsxL6jxLdjRVdVOwhqsoC8yiKnX3J2BKnZoJZX/6A6M3ClLLE7bp93utvrklj1R8zfRa3qCfp6eUl9k4yYdTpXoLY4XowKlu1FtjNMakqPoZCQ774eqXgT2l9PBARzjTEKZBNO90sdRG73yqgSDHzxd2wfdZm5Z9iAb2waKWvmRvnFPit9iKPqk7k0GkeiCnSH3m9Ko5k2T0JUmmKKZ7GUd+Vj3TmayWv8GTuPESq/+nds7uaysgiep505+VAIPJEsZ+D5ss/XSueArkfVPF3N4nm9JCOjPcRnfxFMOv8UM/o8frul7qwpZH5vDYYl026LWxa8psrdSBfi824HbvborWcPCKh3Dj29Y+7fsdQy98wgXboD/Dc7pqU70vE2FdX5+WfkDx/u77oC/bSP2on9WoUHpeXP10BCExHm9eSR8J2TvaoXPplrp2edBO/Y2NNfr1OPjlt8IuDnE8WvcwEBuI08nSh7uMMZ7fgHfi8iw3j21sdjVhAJ85xX+mx7OuFwleSK4BqF1PrVLwqrzZ8tJNZCCa1HNuL4eor3DQgewkJAZsuAmALZUM2BVeeiv9sMgiTp4aKge3r7n+u93cTE/7TaX4I2hNyhfBs9IW6IqHQh0zADGFY2E4IhT0qmfr8h/q32ppQ/ESGMm0ils/YDJuF0iNsOXWO1ku5hI4Q1rx5Ad2C+Fn3evufbce6WFxxPh5AoocMtQ9xC17cdkDDaTYqEudEI3jxn1qnN7Ro+eES6IQnedOSC0soeQK23T2sU49eTh9+TjWX5nMmnAMixzy1gPkCmgwzPD6oUGAJQAhbrz2MxCVvBeQOvJJUNmpv3/kfIZYvEGbiI+wjD8ab7tlnDJuuYXm82hX/So0fHHOnxV0jY1YEf61O5HaBm/d6bZWlP5/2PU7PCn/+4nRJpFOvuzatBCtEjE8L9i5eg+vHE0cb/vbVxNBaucZOsMlJQizns9HV0S3v3Aa1ok3lBUyLimdo/x3yxPe1kR6LtT0X9HDnc9CIBpDsOJjBqnLq7gIAWgxVQ+5ylDwZQ/IBcau77a1WecMznVCraesqpw9xXmR8uQPdAsRMFz/C4Ra0ji1p7GH6H8UqUWdU3nzeiEz4f12EpaQdH37WH9m1sxJm0bC1iKMmV+fVNGtaFDlxr1NE0VqzVtEaoWWcEzp1yUvO+cBkLdfxNwF7qL2bK63zsqXq8k7l6J4cXO1Y15os3Ie9LTJMkB/vN5K6cLnuRz4Kdp4hY+LBodXTNmXJDYaMl7q2PjCnCyhVazxBHTv0idaMmQKtneon+OqoZbML9sJUo9izlXYGT1eU3T/UdfAYr4pLTbUK9IcKDyB6pmWg5e5c5/6Q0jB3E/uNvNn1hEpsNiLrEMxqVK4Wu+YT5J7b2MLpKl9vs+27xOPuqVIKzNpkPko4GMWzA5aAAjy609m/EPHEMgTLl33YuUNUME9AuE5jQTsHcpCpkJeRSVP1/CmSmK2FQJ0dUxp3s/b5jDWKqZuIxHKGFlCDvnZYWcfaJCXmibBW9IJ+LZbcVzZjTZtLgHPMVyvRbrkLSoaEqVSs64pgT+YcmpeIaENsvrcrbbV/UKl9MAh+dG9jnYoQhfle7GKkddQjQvRo3+as+xBuGhEHUL5H++ieGVu1vUCDUJx7d8D8xOD5KSpwykB4rV9qH/HgWHtx5ef/snEfSylmFhb9OwReeEDUZefcVuGVRkq50GaJZL3OO46zZI7UZbP6Fvx2mw3K2sSyXW0vIVmRIGNFZIJ3zi/gbvI3L8KYTKo3m4+alZM3XMpU/NJ9docfwgVXfAB3VORP96lUPR4sAaxvDQ+aP7ZxdVOSHZl9PgWoNNgNjCi0oveJWIIgUdsc79yDmPaJCwH9PdG5Y0wankTeUu25gSJUmjAOfkQORFo/McDWx63FKXRCm3SElTXQuGC0vXKOm7P1Xu8HBS8n0zI8HIm6VQS+PB+1gOOhtDzcmUMba5tYgKsCxcHyCTE2kKoRSi/5Rk679WGECku4Ey1fp14+BVZhL5f3XWegZCFXWA05SAUJEatUlvcNamnXhgMAzFoY1NZvt2dgPGTw/wpMXCFf9KKaW11PWMrTrdmpkVTB+JvF1xaojaZxHivvOclddqTdlXsRPK8m0Q+LatzRPLwWkCU2Dg5bGHIFJx36Z/NgOm+z2gRU8AI97WeyGjc+61cHHhVnQ1jxZTAaASNJao+0Bkb66PWJ//AOtNT+beYWB+aUVhTv7PPk9vDFIwwimJjKjFkaOp1ay7ox0RmY79IyU4SLWZPyDbFmY4fWnSZ+Z7ipy4bbvKizzQoCiEWXy54DmclF1YdAkgh7JO5NSbPm1ovTM7+jkHfEm7ToHaSQjVOU6h2LMj9FEVFkxfpKCo6EnkdNyFAXTUtnj4fcSyU2fUvK2YoiTbjfGTp9RZUMonPQbDpyRaBPu33i+5qEuCcva24U0cIuu/iI+t5dKOMCyxW/3i/dHmEJzZ86POSa+kr0K9K92N0JzE5tgkNBufuUjvuwQWavtzGzutCjzqUKi58jkkfvkin3PFsrBFF/z5beVDfd9i4ZDOtEZ7cmuixj4F6Wz4fXlT7LBN/OVp3vc1asfav4B9lffrdq7NRx5xpYDpbLuYRyZuulgvSBEP4OCzZjxjkS/9eQGc+k7QFnOlmCLw0pXEbDRYhQSgPhU3nuKbij5R5TF475/QMuo1TcZaWh24/zL1OD4uj0hS7hF9h3Wo9E4h0DLKiqL8wcjp+GuBkpNL4kvR2FZe0oVyQ1EnBGFNbHqFp6NsztuX5fK65HigR9y9tzyK+PgWk4khVtLYR9T5yxfLhLq8h+RLjDcjzL69jgoszXI3cHpfDouyoou5OznKU9ECRYsgPWRQ677n1gHu/HGyBqsT6lrS9OG1sdG/sISxjEUroJk7n70zDp9SU+CZohHt22mjbTo69ncRI4k0wiYP4M4HRVJ4oEiFfd3nae4I1kHQ/PfVBfpsWojJlqO5JLqbDSCdXZe53sDqaJ79fy3nnzngSRC1K7+07ld0nxH/1hNSOnE5AAvoZDnigaA/Gy0lyZur+XWYBhHxyTyhJH2n9xKEgl4gnQXjPeK4LMLNdAgNWZMDJlyUcMfaLjr6R+SpNIrzF6uJ7bt/S+3yRTaKJ52Ko5RJ+7V3hU9/2oWPcj331Hq7ptBNq1dn7WGKv2EV3iSZQMk+ppkng/gadrhUMhWjh85N6R10NhlyhuFH142oOsaESDbECo3y0bEC4HC8Hvqm68Fy2rG+qUse7v2W7omP3RdeqeB/u1M6mM2ZJuauhyezXdavFfFMY3qRmR6pMhcL7gbY5OrqVFrEAiurC/YYVCzNM3vd54pgW13XGtVL8YnqHxmFo8MmN/GskbrU5r9IbdeEgvxfp9o+sXAX4sHk2AbsSVb7/8UFMTxN2PmqfmYdOObyc9Uiw7OUklm3Z8lETESX4O+k6x+jpnw1trNZOwbLksaI8XjZsZ9affwJpY7LnZLWP2+1efE2OR/oH8MpD+YObnMLfcXt2p1+eGCLjwhISl5DK3Ub5oDanp67GT5jUGRfQn1Eug0bYToGedVEfCgpMsxPaGg3AsdTssdVQYSN0iie0M9VXvcWQZ87GEr9oiMpFGYapwPG4i+Fbv4JZWAXDpn74qpHtFMA8XCpalTZ278AlbYkuE10PpBK+0kAZCk22/l+29oAf1Xp741bkm/N/h3Kb1SizJbt6ThpoQaeurfDQtZ9HKMdsD1U7eToO/TpcTGXrVewseNENuihYFw70GBcILIaN2pm6u1u5AGyMzivX/vlids3mmZuA+6kYpjTNsMDGyy5FuTw458qJBhYoBWm7lW7bjruNCa+vtTu5BM11RV645it8fyTOVP8GF9OUGlSqSH8+NpSWy7QOtpVWQP0oHWw4kiWRp3lptkEQIloblVntLwb5A14SoEb4wrOFzWTgKvLHXn5fjr
*/