/* Copyright 2003-2015 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_RAW_PTR_HPP
#define BOOST_MULTI_INDEX_DETAIL_RAW_PTR_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/mpl/bool.hpp>
#include <boost/type_traits/is_same.hpp>

namespace boost{

namespace multi_index{

namespace detail{

/* gets the underlying pointer of a pointer-like value */

template<typename RawPointer>
inline RawPointer raw_ptr(RawPointer const& p,mpl::true_)
{
  return p;
}

template<typename RawPointer,typename Pointer>
inline RawPointer raw_ptr(Pointer const& p,mpl::false_)
{
  return p==Pointer(0)?0:&*p;
}

template<typename RawPointer,typename Pointer>
inline RawPointer raw_ptr(Pointer const& p)
{
  return raw_ptr<RawPointer>(p,is_same<RawPointer,Pointer>());
}

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* raw_ptr.hpp
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
*/