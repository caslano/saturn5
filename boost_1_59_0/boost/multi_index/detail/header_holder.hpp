/* Copyright 2003-2022 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_HEADER_HOLDER_HPP
#define BOOST_MULTI_INDEX_DETAIL_HEADER_HOLDER_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/core/noncopyable.hpp>

namespace boost{

namespace multi_index{

namespace detail{

/* A utility class used to hold a pointer to the header node.
 * The base from member idiom is used because index classes, which are
 * superclasses of multi_index_container, need this header in construction
 * time. The allocation is made by the allocator of the multi_index_container
 * class --hence, this allocator needs also be stored resorting
 * to the base from member trick.
 */

template<typename NodeTypePtr,typename Final>
struct header_holder:private noncopyable
{
  header_holder():member(final().allocate_node()){}
  ~header_holder(){final().deallocate_node(&*member);}

  NodeTypePtr member;

private:
  Final& final(){return *static_cast<Final*>(this);}
};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* header_holder.hpp
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
*/