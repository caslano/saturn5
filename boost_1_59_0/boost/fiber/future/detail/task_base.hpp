//          Copyright Oliver Kowalke 2013.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_FIBERS_DETAIL_TASK_BASE_H
#define BOOST_FIBERS_DETAIL_TASK_BASE_H

#include <boost/config.hpp>
#include <boost/intrusive_ptr.hpp>

#include <boost/fiber/detail/config.hpp>
#include <boost/fiber/future/detail/shared_state.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace fibers {
namespace detail {

template< typename R, typename ... Args >
struct task_base : public shared_state< R > {
    typedef intrusive_ptr< task_base >  ptr_type;

    virtual ~task_base() {
    }

    virtual void run( Args && ... args) = 0;

    virtual ptr_type reset() = 0;
};

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_FIBERS_DETAIL_TASK_BASE_H

/* task_base.hpp
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
*/