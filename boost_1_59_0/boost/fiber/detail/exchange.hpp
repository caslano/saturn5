
//          Copyright Oliver Kowalke 2018.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_FIBER_DETAIL_EXCHANGE_H
#define BOOST_FIBER_DETAIL_EXCHANGE_H

#include <algorithm>
#include <utility>

#include <boost/config.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
# include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace fibers {
namespace detail {

template< typename T, typename U = T >
T exchange( T & t, U && nv) {
    T ov = std::move( t);
    t = std::forward< U >( nv);
    return ov;
}

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_FIBER_DETAIL_EXCHANGE_H

/* exchange.hpp
U1Ent1XgZ4YhF5y3REp3PQAzJuS5RDJBymss1TDeDByhb9C95DEgOmH/66FPekG0Y5JwAEKT1s7RSipahmapLNv0w2LeYxSTKylWNQmxzjqPlhkq+drILlgTenT2aUzr8/hkVBjXkGAC409So1v8kld2Xyrzk8G5bDGPFYBr0+n3X16ZqAFzndmC0VKYJrDi3H3mdoPlIN56v3sG2zz0/K3O8yuyge2VSSYO9YaXoxPXS7zldozM5rwtuhfKW9YWYsnNCWrzq1EjZENQdcWBnkKFY54H7tdcoQRwdaajJ+w7CGltOGJULH2PzpYbuVz0Pf80uX41fvW0aBhTAS0HOw4MvfvzFsy2zihZ4HF11QdCz7LrQHlhh3sj+qTd6yXa5M3J8x2beIRsdvqYPCvmh0KewfarqbhOMhXm+nZjioZayRltVcoyr2z8GwxrzQd4QdgYwZnlnily0itOhcf3VGyvtEXF8E7wXReNo6Tso0jPqZGlr2rJY0c7hyDP9dF5FSfumiGk+HlGlzCaF8+G+6L7NX/RcEwnKC+yFO2Ur0CmfJi1Xrd7m/Yz81kMAkxBg8bn2q21+qAofKp++2/xpKShvPzdC5dYiudmhNckfrN4szAFh6hF6Gz8DTGqZu6GhGUcHyFZuQYypBBsvAzIVFWh8Yv7EMp9SX0SJM7s9Ql618p2n1hud0Bwav6tnBUOUl6fPybSp4YXkJQrsdVa8TV9tfsM7/aw6Hz6Zmuw1ZO/afkq8owE/XslzJSYv6nL9EsJUNjlJapCysmP4sPEnX+HoPy35gz52Ifxp+B2PvmP5knKF8qH7fvv9lAiYEfthCmdf3FLcwNZLEiDLVxbEjiWzdjXOOPPfwjJ2higyLNDZ9IiSxBIT6pG29Ykg2ras3DuCbp9PCpKE9AsVeb0fvIWiDNnq5Fj2i9ZqMMjENWG7/lq4Nu4yv4IzyufyXWbQvpfP6TjznZF7l2LykX3yl3gjcSYe/Nju43jIpkznan1UQyLHaYX0otYZgp5wB64BMMH50SnMLNa55ihbWcr9GwLZA4s9xX6jXarBYhA/F31AeQ69nNgWFWC1SG1zbjPqX74Znj/Jc7651XIqqYP+u0LdpEct/fOGmaDbaMZk/k7Z7fKaA5+qsh76rOuWs5vd7le75gpbDuBqPdi9pG7q3kCkA8cFsWVDZDaSQvZIRcNx+bjNReQotbGDnnZ1MIlCxt749ZuF1FcUv2nIGFci+fbQ+Pz2VYThGMzzdKPufAcprbJFAxam+Vwbylw2wt5Do1TV2lOUtKjr+iCQFPHGK1w+YPisWnOiF6Wh45jWcgwE5uX8WxZyRcv7bBBMckBnB6EetG5AThTKYKK3ebc0x5bqg6Ax1lvnZgNU+sgfWJewGrYQ2P/RED4q4mK0THHRFnVxDACf0oEp6MEMCy6TNBSczniBpnwkrhF97Nt2aqhbN7WCbKO+QxNP+hacN3P3O5MBpiUw3llN6vxrGzRr0eIQlqOB4XtLHRy8sPs9bGRQK7AVQH9fTUz2J+EiCgCJOTCHnD1xu91kD8iCoBfFLyC7h+aIsG+hBF9vyuvYWISfPRECXr0sX6s3zgXeRBpT4k0nkfprj7L/wU5lf/f2lFanMZ5eFFSEV/TaRa86UvO2mOMD//p7Sp/i0bWz9pfcF1lyScFjQno0WRFtkURWrMq6R2+7SgiN/FpVPB0n7bfzclpkBdp/6Wg6/2eExn0W3G93ASrjrhaeR44dGybOcS+8+JClmDwY7Z4afj+eWspeKRig/6ktypkDPzwhKh9nA/guJzFyhqZXIpkJEt5BVwl2lRDAMTggTPkllwcfaR/Pk0Me21BcyoUdxxb3TEoCjJg7gL/xGV5nwTAxqHcbu//ECQm1WTCXfgeHx29gu/+LXctjjo9ZhfRi4WbLX+0KN/M6794ILoO9mWyu5nZOZYYPR2eBHq7t5sEJRg6xf0Jf389XR1I336g64QJT/8pcQIbWoYeShSXvAbJ1Gd3SFRPKVJS4iqB/xoc+AKZndSXoqvQwg7X6qKBx1Do58/PehhhuDL1cWcP+oJLbscgqTcCFBBCHFuWmLBXIlAhGHpSy6BTzH73lgreocnwS6PrP1KvI+ckKWYLvwvGULJ8ExaVQyKo5yFZJ7/Su3dDxvC1p9aHm4IID/KuspoOu1zDgBMloI9Av4toSElS/hDyiayZRxVS3c/ggGoPfzBNRopXQG4oKsaMtANlnViUrCN33yjqdxYOjAO5umn57A7vK51niBStx4QtdeV7Y8nXc+21Evtv+5u0pvqTtS/pgnw6GIzmbW/41CKlM+CTLXq4W+b1vIiL1jGyFNTxiEUz3Rpf80qfsL5DeXLWHfQCKCBW2RXsPmg22f3iXDItC+XS3WQszg+wC/uyZCR3LMB+jL/vkGwamydmprVavVFcW+YEJc9MbHY9+CSzo+VCrExg62kK9TzLwnpNT9Y40S6Nrr0gt5V0mU9tqY+UTRBTfb1zLxTZ4q0UIIHmCq/zeW13rQb/+6Z7ekMex8Wq7SK/Z/9cM7JyiPVOxhG9cZI5Hv6IHTJ0aITxva8O8YScRiR6qDxTOl7rQqmBDdf+vlRXMLsf0jkNuTebAoyi7mlWLiL8ICxyXLHUjrUKr/lnh3sbjuxxZboTnclpDQte81s4EAS1nlbXCNzk9HxdRfQK3mZEvHbBXFELd8fVK8YptLShlNh5gme4V8HcJ2H1Jav1t2DbPABpS56a7tJa4x+ro0brl5peIAmXHqvsxZzJmSYT+etKofrwe9923ZzgmBZK2+RiXlvwcg5miPei3GaHuPoJFPt22TBSTS4tJtQQj96CyUKL3igcgL2RqZ8SVJHQRG3fnuMX8oFMKi3Z+gR0GWtVquKUHDH1hr0Iil4tzljZfiLp5lwmVRZ6Fjk2+lRdSdzP0FzMW92AOVN+uBIYGRh94n+XY7dcUFchPdpZabR1AFHlOOb21uNbMA+w0UhI3JJlOyMAF3RibbcTIkBmTDhdLYAKyxNQsi8p00NeSxiU+UVJVmHqrZ3pLCa5R+42Pl9FZy3cXyCFHVdfk3Eo37DLqSetXQYu/10bEVJpQQqz4YirH3WlbyjIDsSewa6zq5G4/KO29oqtNUxl+htO2QB7iCr0uMPRPwXknu63ys4d5fZh+2sCF0YJVFZS+uUCdFohwjn6JqTF0BAcAF9E/NLt8ahogYiYZnQ5fAxRSt82+vWginRaypc3jG9RsroqpNe2vBd7VgzYXKqN+4C/Mxsqir1WqVBR3M2AO8GX4r9bi/DcUbdZ29CsyU/jeR4qost2bC3zA/+NUrsb7e9uW0o7GMBpmwkQPkDokQ9L2X9dLTXwXnOv4D32VivDzFZz6ZVR1miX7vz4pZvymp9nvDxisKGcHVk8bCz0a90A0rNw6o4MYnk8MZE0D9oNpcfkOVVJyIsmRsAd+lXM0awU+t7VjgbnvHFUGPAQdIg+n9vwtp5oetiVapZbx/gGhtjvOEpzZdlUdMQ6njWs9YRsOInFOSUtUsnu6J2qGGXzKNzmnh+DLPZstnCR9c4ByP87OLV3dKqh6Tprmq48yle1Z6xBH6VCtB0WB0+iiCaLlDMb+u2f/tfKmIuQR37ufSgKmboODJalU45p6bJdbtdrICPu9HrfdVH2wvVk99yYC5EjYzJ/zk5OGUuepEYcVnYPciWfUQ2G86OaFIUKx8RPFe7wbr1kMcWhKPXr+EV7ysMxzTDn5TnocKslnTdJ9x6ZCySF0hfrJKKCpyklH/6CHHspCnsU6t5/ViWJXbT1yLPnFZLnVYCc0lT+Jc1ttesVgueQMsuzkhZystrFUN93BIKcNkysjS5ggfavcfczShF75iAsID2yoJBmU4VuN0a16iancaYUc4xHdl69kVW2YQpX+BDUt34zu/hrL6P39tlu2qXEfwaqbJ6pMuDQyesiUaTVtONAKdO30ydhSU+eCdM0bL6ALXbRa7OZzXZ9A1F27WFhsJlrTxaC0F5nWfmCZNgiJFhGAypNuLTZ5JM0ME6ix7EQejrQZ+fapgn12blOjBTQebepkA8Q61UpkOXMco4jMAgaCgQ+QaHNYDHhUzuVby41smjoSmUxCuCEAplJyApOaIr6WcpQlpK/CHd2SoAw9EFL9LkR2RyagdRd/XWfiecJkH+HKWFcTGyNlKmPicdOCv68NEz8w4/DF4Kk+Eilo0ihabwLf2+s0Kw4XJzfwmyjeq3fdUEzjwEfgxgfEOieqeg/CJ8d9jDndu49sHBtwns08zGOr9DT+QYsEx+fkNuLXYc0PSksvNJkQHJpfYe/D43Sn+4QRKJPrnRCt3ecWNmfubmrwBgEkJjJvIXQMpQql9t5qhcEwxFq2olL+sxEBzxQyo2NWpSEiRmCxxvWhy08kD2JjkPlK1o+jc6NuWG0aMRe05nPoTtOYkWoqAp9Kk1EJxZxhfJqohel/kfHP0vm7PuEiT8muHa/4dmOklepc9ScAlhISPZd9aV2A6ILtFn0uCGS533jOifW9MoOhgqY7JP5zEYeb4Htb6k6mB93jpZ82f+5JAv3j94k2JhpDx8psvnBjPj7WNJklMPqpgoFFoTAKdTEjf/IjWnMiqgq4htqUExdL0UuLCuhMM6TafBs83quoaX/x/VUSsRpByqO/uvqh+D0MLJggZu4bXU+oEuKxvp1cNXJ7J46AgUriE+31yBMERCrYGXLfbJMxgW9u/A/9GlKc2ioaqOG7nyaln+Ft+58TtTzsNJSKRZ4sNhAzUj2nWL33KXZvF7ZkWYot2/XnCgjIG7vifX4cRftIyZWaYPkFAtE7TbnVEukrLl9Kq89n/tz7x0msHZwIqrUA6T+JVsXmbFnZI3yY7W+ma9xOP9Jbk93gxOzl41OWAgxIV8OSsZOO3koW4X+lmma0JNwdIoews6jnN2IIF707PAxK5fT1d01VJnbtAqOQy6iZebml3O/tmc77gaoYpA29fQgmAhgvnnZqI632K3waKbbIsmcLb7S84cD+0OKojyNIEBEUenFwhZiLZ1rxMoyVqrK4TKZP/AhW86uqAsoCxC0bjXnvtju+vaYbs8jhwWyHI4On7CW6R4JYp3539jkVjNlXrq8imjfM4i3RtQai9piM9jrULNA8k8hab65j6z+wMqoTq9XLXX4ZReXAN6AC5FNdrm960mgLqy8+EluSmxaC/SyIvMBkmgrQ6TdfBy5cnhKIxSXVOXIHl82PAYeYj1cOMsTyi1WUYxcz/TUD0O7GGuZAwozNnrdHhvHvTQpHp96r7EJy77ERhvi0hIVc7+PTFeyaFm/c9/j6wtNpXG7GphKLhZ7MYZ9+S/pb7TlIJvQOKawRccb1mkCuXbRiLDUIGbdroN/8fbon01sgEfhGS0wzTLV215j4pVpICW4lA2fLkJZXnoGU9bN6TQTPrDyFQQaJbA5uUudyEesK/xcYaUJAWjS4qAGKozPQ4lQDkBovovcb9JBpJejyAs1Okcxyffbh/0XFJlTnuEMj1zbnd2n07hqmLhyq/hPkSvn3oZ/1RnbHI59IV8q0bMGmbbRY3qz+UwzxeTi3844dKN4cLyAVr5Rm+71+USwYaVh0505ryszr8sFRq1UesPsejLvz94TV8iOwkBbYIjqMiRbJxDHR7TpJZXAt4cuX9J7S2iS0uupsq36F1UMB7OoHel4i5R6jyUgYbWOSM+BObIRqF/vqoYTTwDt8xNxLpVc+Q6LQw1eAOFhDl5vTDpxw1sQV0ltoNlRnd8o4oo5PXFRRt4aKmv+jvHrYkBq5jMxR7ZDGEvI1fRyjLEBwewhy97DPutDqUxJ1E1n+i4zM0zffdZNiRICrA7DC+/qp4YsT+3MqAVTyQc2jNBhan3ZtE1HH+0Op+MOBXGsE09284GGd41Pj0s72jaPaBWB2vuXFaTG7eBr1wUHamkU1w0Y62mYz1Wkj+/Q502L8boFyM2htUnDf5zb0Dq2TlC82sFWVOIciB8+X5C0wgUGWb9v89SD7UoZX+uaA4m8HYvAsq66zNmLHa9Ll2tlsc1DY1fe8af1pN4oK7d+e1/sO1TcWe7G8Y9LhYrrQ9sDPWyJS3SJPcyQRo3SFy2ImSlUOwXgN3Fg63r4fuSgHRoweYG/c0gyFPpOv4MhdR2y1zSAPB+uccIYvhS9IO4/seWWYjN3ROpK8EAaTrKQkelCChsCSVkoupdWa0On1u5b62n9d6GA+kv35eQyPoq+XENbr9BeNz2PXFgn4dUvqJyrD2hoXbf9GPG26HNQ2YxuK5SZgKqx4Qr9Twq1s3t3ynZttn6b904blGK7vroOm5oRlG63Tv4OHeffWwYz84m41lETeqmVh5D8CRrmGho0JUbfoKQJWCXXtrff0cus5KxIvwXhsrPDfWOLUaogKI0rPTuN6TPps+srfP2jOruk+QvPW178IhtMuy0Zh0STRuWT7fGg+AH2+tGRhQl+OVSWx9T6K6/Tcen48wqQ0/EVlidbp60/1471L14KizT2Ezc9jbKpJK+zw2ak0pm3io5pdQ0YBcsk07h4Lc3q9brmqvj8dM6+Q7bfbzqRpcZBTCxqq7GFexzBKSSCGX3oNyUQnyR1G3I39iSzbEcz7e4YG8Ro7jMij1ybVCepdBvU9aEsiOCgXCBVPV+EZrDqZqzzZwZPYgb0lDXRN3z/7ui2vBbPCaC7zD8Fvg8jRakj6CXsnoxnjiHLN9Ylb3t2ecpYY+oA4YKA0D/q+NF7ULRHpQqvf8C5zF+aenCPl2COgcs6n29A9sFxwACDhF8H2mfms7PidEhHaUvEmzClOJGbLyAVn5kBZXDliW/m3kid+BMeXXqxyTVPQMYrjdtjTicANBxWkFmoQmfKjUtjvc2etD7ZXsBqqKFS2SGxYy0W7BeJVyORO+Q4k7Ik3TqHU94LhuAYqND3EyhwiPNzGXFXQj20hD6K26zCBdY/V/CDYNiHQ41cYCKSRvvTAohQl8mOK19ua0mVCgICPHMEJcBzxGvkMEq/eNhI4thfpSWt+/UXfO4cOJ+DsJ2R+bn3E7IcOIn3aaeeJx0YnRtJRQQ8wMNDDOckBFSYkKAFkvNhsRQ9/ruCwGPmasmxZC3yyTX8rCIeKIDwChCaxw0x2Rl+gPvHqg/6KCEAHZC29YNLuqQKn9FGTVAqSGN1c1gGmjpg5UrUXMB/HIOtUR1B69kt7Mzk9aKRZuFEvcLWf28hRtV2nxQeXGs2gr3jKsrJBKO8OCbnBpdprocU0B9oaaaVpyC2Gz5AoG9Gx8aUEH8KnNsUH0DBhA8XWntsrCZHf38P1LWrUKogK2Mys+652OAzO6RGMKyvK/imnX4P9i9CsObfRLglIX8GwnTDKQTmdiDXhFzCvxDSig2YucggQhjb5qViW5nrFoHoZcYdp6B/yyihi3eikhwIYRQ0kCPJfZhNKAG/T7OZQckLetGY0K8u2JNFh5qh2KoD1YGAMnv2DlIvfs+xDjYN/dSSD+vFhwpaTMT+t1oj7q76dJrbT3QjASyI8EEOde2FI7dP92yfV8Chl7ye/LkmOzEMVcXZ9nfoHM5hc0JIHQFk3dsbOf4Me+C3erEqjCHJDJv8S3gmMdjcRYYvYy/nBwBu0oZG8mI8
*/