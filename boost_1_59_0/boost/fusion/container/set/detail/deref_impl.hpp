/*=============================================================================
    Copyright (c) 2009 Christopher Schmidt

    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_FUSION_CONTAINER_SET_DETAIL_DEREF_IMPL_HPP
#define BOOST_FUSION_CONTAINER_SET_DETAIL_DEREF_IMPL_HPP

#include <boost/fusion/support/config.hpp>
#include <boost/fusion/sequence/intrinsic/at.hpp>
#include <boost/type_traits/is_const.hpp>

namespace boost { namespace fusion { namespace extension
{
    template <typename>
    struct deref_impl;

    template <>
    struct deref_impl<set_iterator_tag>
    {
        template <typename It>
        struct apply
        {
            typedef typename
                result_of::at<
                    typename mpl::if_<
                        is_const<typename It::seq_type>
                      , typename It::seq_type::storage_type const
                      , typename It::seq_type::storage_type
                    >::type
                  , typename It::index
                >::type
            type;

            BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
            static type
            call(It const& it)
            {
                return ::boost::fusion::at<typename It::index>(it.seq->get_data());
            }
        };
    };
}}}

#endif

/* deref_impl.hpp
8LBHckA8yF+y56fexkY6A8qbwJvEOs6YzJWVGZAZIuLZmfXQw0PoKomY/67iuG9YZZgP8grB8VFlBctkGFqDDRQ6Qe7owdv8vBU9GB9wr6vNwmnegrs298eJm7tC5lsaHqmDBUIcDc+/IXmGXG462r7FxWUhenpaqydPgWZ0fFrab+w319d3iTEjE3f397cJMYJef4eHl4V4rudZBTV7u/uHh0eZ3xO89IyiJ10VFCQlVThsn9dW/J0Ku3xZbZ7bt3PHF3BxJ7rbllsgFPL/6nfb19f4/vJLdvboaIV1VlbLx5lQxMt9VUXJl3gwOPLN6cThDDp6OmN7i68vPT09Q1u7iCA9/ecNrFca7qtDLReXSs+tPmLOjo4f/x58b61j6RlQr1RKG+zTrbO4kQ+85Zp41S35fR+va/+L7JCLI9j1MeFdL/IknlmnsvruOOmQqdnkh7k+6Ws842bn5fDn5PkqAaen04auIGsrHp7bOwAQB82wAXXZyeVivmrry9Zuo91EJHrFc2oOGfnJttWn3IKCjL1DtMI4fEYbHvJcbPKVVRE/lFibQYzjtHdzP+gvceMcy7snYJNhHQHDkJqahJuDwq0cLBgw2EynXy/S1nZXBgMzW2KzLUMc6dMiEQFTkC+7mYlmqL/x27ft3kdHdycHB5m58aRSIu2nn/MEooGbfyY2QWbGIt4Dw/0QWomQkwXL/h//wsNzyHRb2NgGxNoNOz4RtwIuucHEYCbgIIbyYIbzNGjqCyYU068wk7NSTS2huVgKHDKiQiHU1wI5oxNIyVVxtlgX3h8l5tz/fL3Wamg71xmgiPaTC3J2sqOjHZ6dtNUPH9q0PTyMV//9C0UQbacS/ppi8Zkt9Wtmf6YOW22FYACRF4t6HjXE9YGrgLe6GgNzVKKHEcWD1jVLgEdbV2Tn3Ii4NB1m2QF7MtAnegQOmWpJbSZsWz19OV0b/dw3lDieXv6D63XJ8OldZJSl3p80bckeyGa/wd/+kjJUjfuKP7H+03hKTk4WRV1dTXdRmLGxFQFuj9f3Zy9PH4zMWt23kHyjPy1yGTDj0UwlQ8CSPRKhyIjDvwIEFuyZfuZD48HRUq+lpVFXGx2jU5xmu1fifmkdsg7MjynhSO7Iy8u70gu1tsGBM7T7g/aTu/6PoQj7UuBopE0KQDS5ACr28ezw35/1b1kt2dgv1tDRJPPjyxh0q3kFYHuZayaX2BMTxBwVlTMXiFBkQdxLINjqUkgQ1xXrUkDLRCRIk0QjQOTZSwd/decv4Z+po9m12uqE4c6KmJfgZ+9rSfOgwWpFZYydQonCYHRLy3FAMuWYaFH8WIP95USqsrHxM+RieXb8dE+lnmStP1fAVXDA8X21xyDGtzwKV4SLzUIRBQmE8TFSEmqJREhFyRsYqisFmITL2R+irytyQpMK++j0DuCxg7q6syZU+yrmnXCmq90XDJsQ2GX43TAKqDYde8hkszR7L5zj15eCWwuCXFlSEVSpFPm2SW3ArDcjtEoMD2hY4jr627x2KZVVjgCXYMQTkEUBWUbzqEToTs89CWcFsDgLQ5yLklK0NpmKe5LVgMTHi2/16NLy/vk77TXNanN6/PKvsCt4GRfoZ0X7Qms3adPFJZgl+oZlWvqqEW0wG90vZHwArQtARbVLCXaNIS0oVRkV2d1P86n4SQu4fOK73rmcQIRcXtLsX0k8Yx0ABwn1+H6ZOzlRLPqcXwoWSky9up2StBal4RVAvC8YBBq8WKfg1wT3697YEegt8fBNz+3RLiKDKjWQxpXa14jgOm/kOeQ0wMJlSnArVGlY+kkU+nJxi7jUnimOkMmZHiA5Fd4gcq3FwqKmFiK/2X1wFXifYDJ+d0JxwMcnem5rmxCyKT7UbQ3Y2WyMXd6e090fJOYsM5dWxbrZ0ilP4yARSBIdgEdnCvMHgOW+mUFmR4Sh6gaixoNvGhD7HQBhm1jjocVqC1294uMAlUIS8lsoqZMLI/BmjDPh4i/hfXI6o9C5isqyeMD95Y3TKkmIHcMjQhimiio9MV8AfxCttLQgTnAycu9VVPBpAJcnkx+AkfEapw//LE/IlHLTtxSPxRidAm0odvvpmHDqBL6DjDlNqAF6WlIcFS1ZVwcH/wXmNnfLcHPDQNGX33bj1MDLQkHc24vN/RdsbNLMfNPFbNwHi8DAA1gAxUg8cdzJbPnp4mJdg9m/bN4EyKWlu5ac3OfCDtFrnlz+1HhFNds6k9+RB2FLhsGffAWHe0F7kuLO0RJjYa7JBLPRQFKDILEpDz29jgtm9r1HlymqrqnRLS8u3vSDXr2qQ+LfrjQv4VZWgjivFaARGAqAVrdLW3ZUjKvuk2VYSWTAhwR9bGwVlUsSFhZ9fWXli43KnytLks+3qaM99hWVQiIyz/d3tz+enrSHE3X0zw8PVwUEs4RtMfhokX6WEVFin80y0iD+/NkW2JqmrRAdp2xE1mhQV832MZlKEOjp6XnyhVWkFvuwsuhS8rCYcOaaJOqBtBGH4DaHNi6QshWAjMzLm2AkJuYKBHPJ0l6SBD0ZGnKJx775WStu9UZXpn8U/exHJTy+yOXTubIHB88VUR8Tm1/exKA5qqo2O1NSkpHFxu6apaUv11bcxt9PTsoHVFWAle7W2zXEezMwTpn8T58hf/9WfI707n2VCIrjPTF//bcUw4r5xBeQ0xFHEVvPHSSpqjrSn5WTFk0qTPCCBHkqan3/vrq6p/yj48qKdFMjBcU0PKo4O4P9G5s6O4uFha2HtZGRR2GRkZdBsm+aZd6d+lw0NvbEfs/X1l4SP1mUmZ9vdrJuJyDcgt2fB0EF5SfKC80646oUpwoqdh/2sae41NSW7N+VgkJkz7WUYpt0dg12B7Cwshb53g88SGY4XHPJfCky/+iYk8PjrKLirg2v3ZlFRK6lJyd3ozo6Dl0isoNc2fEZQiEzs3SMpeXEVOo4TMI5OV8HvI3qw/N07RhW+TiTz0y1kfQMYK8B7lKQC536TXb2lh1tfefPA5RZv68fb3atHB1dGVm6aZvL6zTOLcGSSUBk5ITkV/jJObPY2NTb/j0kK5tmM7oJMYa8dm+3hIJyVIoGH/Xu7p3A+2DRR6K52Aj1QnV1lv/WK0uFFkjQBcyom6l9fAQ9v3FwmJ+fIT64O3FeX1lt3VRTa0G+2OisTTJR9eJrzdoZHm0eqRoh/Y0jcr28S3V7JySOijPwcLg41RN6lZuVkv77l+Rzz0RBR4qqvPjf+YyOlGaB+SkN8I8RWOSX65c8obkfP2q7lD58+DwcAo0Ql2JUB8OOjta7EmEa5nn2U782Q15O7k5GaO4PtYxVOMq+h/+XXKfNOnf1xt3c1tsqK78RPeXU1yfhDAOgNm99YK9LoHEWHmd3acNBteDhhW9rCSUl4HJZSrGcDg0Laq9jXUddAj7m2NUaM7UuFpFcr/77i3IN3Dynq86aGrGAP82zoIMNMXfRTI7UeKFgCp/jzoDMb7T2NT+fzprjmGsXbjsR5qWookQHwL05OS2rADE5cSXzwsCvxTQ7DIxvXHTdRb29d+XBeQivDruK1+Kvr7ru2kNDDXap6cqq0CWB0REmxujNiL+bDwVfUJm2obez34hO68DxJT+N9FD0dER8cTWcj48DINJ8770v9FVTT2xfjVjeHVg4VJZ9gUnYxOSQJQNvMiMAnz7tdBZvhSLuRiUktLlLV3fbfT4FS74qVUgwzuX3+5MvZJcw0KN57S29+vntOh3i2zg+HWoVilNSLmnwNRk3c1kX1yYFcgkW/OZZy3ZwICSU8vL0Pg29P8lMj5jaM6iOpb/YAkuaI8PDNISdPQAy5NszT+BoMwD9U1//h18oGxG55X8knVVUG0y3hovTUggU1yDFHUpxgtPiFC/uFHd3dy3u0BZ3d3d39+AePEA4fP+52CsXWTAze/bMvE9G9mbb+QfnI76TSl7+xEDIlQFpc5ewhRsPl5BuESPtnBKVmcN+VAiyW9HBJBdXNwL5hkyKBuvxoRJ0pYolpMNHl0wIyMPGiMZnPqWuR/+vyZP6fntf8rx3I7stUAU6TKs4hifCzLREZmp6ys2TE4e9c4tciokkH9aW+AbPdABA3jnJf12pTcLFLKf1tM4/pzS74ANbW3sGf9dZb3UdH89Ih95XVg76HJ8A+UPa7nJFwH6KkZgWVm0GCCsIZYQNnFw69dLse1YEFaNN0F2fnv5ggSBZyU2U8KBHrbdW2/790RBaz7Xau5YJExVdZ+bkNDLyx6Z8BW8J6w4Nhn5AeQelPTpq96L/VK5dXOl7z+KV+PHj8fHYOIDsC0dJMVY4EVHIx+KyoMCzOIqn+9nJEB9ySixezLfhT14kEmxvYJ2VWpS6c5S8FtrFjdoW2C6oyoC74ci/xhyXQiH1+eH4jfSNxCl1dLR3xSmpCioy4yJHu/zPzsr4XV87giXcmuKVdLK+/f5tbOFx/Lv5EXpLiTXh6Xmnr/r3m4qykXU0lK6IVAwDsd4J8/VyG6xxejrkP2SspKTo+ZTGaU8Wr9et4uTdgr3S3R98fPgtabgFQpGdfcqtq0uikPvNXigYgD0QqVFWIKaX1x3435EKsfOhvj953T096zqf+ZylP3/4WNfAQg8HMrPMyAE5HdaY3N0tL4uFmprx85ka5+rx8Bf+ixBfrGxtikOwd8Z9SNGstYOJzyPXhbY+/aY3p8VPicO0+yQvDyl5fiPVUVQ+049P8TnAp/fHLHk5XVKSqrdXRmkf3c8j8a2t5WTF8yEOxBlYVFvhRka7J5aWrc6lKnwmEe3eHi3in4AXp5mZUbJZrZ6G+RraGod7XK4VGl53ZY33ZZqG9loZsQoaBGoCHp6hQUvLeaQ08n3VTo5oqF1jObXXQe8VaWndVX1AcZsO5KL8LuWl11Bnu6p0Ih4bFfr5WX63qV6jrneO189eAEApoFIuQ0BA0Vr/1sL1fkufv7U/cn29oICU1MhofU2t0sU5i7133HqRBRD7a3ZtraS0vQ12x83deDApwu+n+u4ejqxv1nGMoKj0pEjprVQ9PTqGy6HCiGuyHitNDYLr7kwuC0uj9TxibkrKLjRSUMxx3fHx46OISEvLwAAhYZEQj5WGQ01nZ3u7eI2+f2dnzmYYVq3Z05OUJB+PbMZXn2fI3sQENm0MsNM6I2O1yX53UF3Nwy2KaO/i9TC+8OAgJ3D1EgK5CRJraW0NRVFDbGnSl+kTC0aI9oIO8mLCYC+eE+kd7mLe0C8MET6Lc1APWEfJB5be1M1MboD28f54rVkgUKvlyxccTqHq6ry8T+EaJGRkRMdn1pb8v36YH84Vcyw32eflff8eE0PeWVOTmbW+3tuDQerg7Oz0Ea3Vc3FdhyYQgIrDCK+jY8JhRyIv7+KSSLvrZWbG/evThAnk+PWGF4sHs/siqDZgqKH6HO72IKdYvRJyXWv2eJ+U9Ny6YzhRsr/n/WhSqbveWviXWRPexxPmNYfOwZHO57whwMnJWOrn536trf3nh95mU9N/51PW1nZ23ir+ehkRqdVJ9iymrW1fXVur0qLfXa4VE/Ppuyj8TtK3LRTKxDwiwgpiQ/bMXqkozMjqHzYPdu63IHty280ZVvAw9nG51lpHRQzJ2NEs2HhktNlbCYs3Yk0bgkgI1B0ZkZYeTS7XKvyHDIyq+yIoqKPj+/obZy3e04OG1uiClOTHj+dnK1CbWllYBJHQ2oDpeLrzyZZntcuZP8LCwqfvHtBAFH32bn4/pWDHpr9/67kya/M02FEnO5HQcKblMcQvQRQXFA8dX7gTrx+PaI8BILunY4sBLbWBMlElrN2NjqxMcUlk3oC90TTWmMjRcVWlo2mjlbpMElJS9OjpgkYrfwXg8baGJjpxiAeP0WCEuF1sRLj/hYSNjem/8HCNzBR1NVMrK+t2y8VE2i0SRRGSNYQmJDemSr1YT5hB70JZXr43eFF+Ex9CFsAqqUW82+KdcaasPuimkIP3AISwPd1znpPyD8lYrX3T1d+ThsBdH8xKUXA4vMLO15OSAgO2vpbk7+zVu7Jmr1lZ3Z2+LRtffn+LiHh+FsbzeTpba75spaNfroKzRAGQ8DiIqy/OQKbyDiadncQp7cgV7ci3yLr84/oKejS1fHC99FK5xED6AuPjUZUd2WdO+x9rkXFxn19cN68uINePrloNcWjfZaiAVeZY1721puyxAvaU16EFUupq+bD0WkeTvS5/C4uFBVzchYXLdh57+I4GPDxVVceDgMCi4uUqEbHesbKGuyEsO4yDifqGkuK0VD/PdwA4DMQOwOX1u8F3uqgRLtNzv9X5a9+BSRCBqfyuQ92Z/9HTM89qYd3vF+9JMggFL+/pPSHhWAM1LSesiWcAiDfgfG00yAHY2Xc5+nTeqPgqpVCpzuroyHOa1yHlLbjgnJaq3fomtjF23hhe1g690SYpJdCxyfGgP1K3/eNHm03TFzQ7wIPgCsIqLn6i2VKrOhaul2JQizAzM1i3QsfIU0Wd87yGwz9wx36zOfFFiDHSS9yCwdsQj9nQx22CZP87rYKpkDn42z6ctXXaK9x9fnF4CwAATM8I9HV7XnrTSmIyo2NpW4S6bd8UUF4vj+f9EbbIVlayBfxZ30FWt4BbvnC6W2OEEIA54PIjCoAhvxM28mJra5Z8CvO+OxlNcc9kZFzWk5Z+6Mj1y/F94WrU69TdyiN4DUAaQ5OS5AAS4PQ532Rng0VC0I3IvC63Gm2VUMQUAEnLWJutruRPV30YooSCzvMMDu9SOwexZYyoXt6x6ZVXbKzJwvI6yK4bfv7k4lK5ZC6Kpcj54ENXXm4Vm8E93Du3UJNDIjS222ELfHqJIQWL1dQQ+P4k2tVr+X01OMCxSoA34FXVCVoc7MVHsTDofgZmT1Vv6F0KdsnGyP77E5RWlEsOwbi6Ar/7ak2J4kcWQhWKu59a/ccX4fi7wdNoSl5JCQErxFIKZfBqd9AqNgS5QUoVd/flALR8gfbBbWNymAKYkDbcqdWcoC3+49N1j5LSGIrvFVLtlNGgA0kufKEiCmJEUx7wiUxDk10e7Hr1B+9NywuT/0RKiCSE6vlKCKFQEW7++TO3hKqqBruSkqgrj/aabPccS9ZtERcqqkkY9Hz1eYPxM0r8OhO0XQUFs2c9n+/y5ELZmrOEnKnc2V/Cd/Xn6BbkREwWYt9I+X4TSpaa6uS9gw9pFc3WKnKiATu3OpADgDP+4MIcnGmzySHeL19rBC0sv2f8TooHMDAZP682csKiiZt1LBiaUf3RIqP33MkFMj3xccTJDMHfoGLPZCgQ+w7iW1bMnEAEVbtvL0YkQ6uNzwPJeAO0OUIefbC1qa4TLWeu2Gt/BHCgy4Xps57v+AMnxxsao+En4IfF/GuVNKd77PJ7B8HM8Z14vdvcEj6URQRSPN6+qWpgCiuaD1vUdeuF28Zqc+KV7caYi7TCgdI3+X13Ngp/T3bPu3KtG/RdHgJQtuftJljYDVHRVtan3T3xnvtg4uqBTFBa12JT6O5pTXug057KNyd95CyFuUBv5PnxBi2dN3ExMA5zAQB9vUTYHuq7VfU5G5O5vbC1iXnOb/jajMLF5QAQ9Pz5M2BQUQ3mamkGnJ1bDrnKreJAhMetEs5jRILC1ePRkcD9
*/