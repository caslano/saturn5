#ifndef BOOST_LEAF_CONFIG_TLS_FREERTOS_HPP_INCLUDED
#define BOOST_LEAF_CONFIG_TLS_FREERTOS_HPP_INCLUDED

// Copyright 2018-2022 Emil Dotchevski and Reverge Studios, Inc.
// Copyright (c) 2022 Khalil Estell

// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#include <task.h>

#ifndef BOOST_LEAF_USE_TLS_ARRAY
#   define BOOST_LEAF_USE_TLS_ARRAY
#endif

#ifndef BOOST_LEAF_CFG_TLS_ARRAY_SIZE
#   define BOOST_LEAF_CFG_TLS_ARRAY_SIZE configNUM_THREAD_LOCAL_STORAGE_POINTERS
#endif

static_assert((BOOST_LEAF_CFG_TLS_ARRAY_SIZE) <= configNUM_THREAD_LOCAL_STORAGE_POINTERS,
    "Bad BOOST_LEAF_CFG_TLS_ARRAY_SIZE");

namespace boost { namespace leaf {

namespace tls
{
    // See https://www.freertos.org/thread-local-storage-pointers.html.

    inline void * read_void_ptr( int tls_index ) noexcept
    {
        return pvTaskGetThreadLocalStoragePointer(0, tls_index);
    }

    inline void write_void_ptr( int tls_index, void * p ) noexcept
    {
        vTaskSetThreadLocalStoragePointer(0, tls_index, p);
    }
}

} }

#endif

/* tls_freertos.hpp
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
*/