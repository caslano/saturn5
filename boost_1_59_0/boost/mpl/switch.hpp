
#ifndef BOOST_MPL_SWITCH_HPP_INCLUDED
#define BOOST_MPL_SWITCH_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/find_if.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/mpl/lambda.hpp>
#include <boost/mpl/apply.hpp>
#include <boost/mpl/pair.hpp>
#include <boost/mpl/aux_/na_spec.hpp>
#include <boost/mpl/aux_/lambda_support.hpp>

namespace boost { namespace mpl {

template< 
      typename BOOST_MPL_AUX_NA_PARAM(Body)
    , typename BOOST_MPL_AUX_NA_PARAM(T)
    >
struct switch_
{
    typedef typename find_if<
          Body
        , apply1< lambda< first<_1> >, T >
        >::type iter_;
        
    typedef typename deref<iter_>::type pair_;
    typedef typename lambda< typename second<pair_>::type >::type f_;
    typedef typename apply1<f_,T>::type type;

    BOOST_MPL_AUX_LAMBDA_SUPPORT(2,switch_,(Body,T))
};

BOOST_MPL_AUX_NA_SPEC(2, switch_)

}}

#endif // BOOST_MPL_SWITCH_HPP_INCLUDED

/* switch.hpp
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
*/