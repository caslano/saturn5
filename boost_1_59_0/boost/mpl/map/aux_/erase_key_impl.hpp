
#ifndef BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED
#define BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/erase_key_fwd.hpp>
#include <boost/mpl/map/aux_/has_key_impl.hpp>
#include <boost/mpl/map/aux_/item.hpp>
#include <boost/mpl/map/aux_/tag.hpp>
#include <boost/mpl/identity.hpp>
#include <boost/mpl/base.hpp>
#include <boost/mpl/eval_if.hpp>

#include <boost/type_traits/is_same.hpp>

namespace boost { namespace mpl {

template<>
struct erase_key_impl< aux::map_tag >
{
    template< 
          typename Map
        , typename Key
        > 
    struct apply
        : eval_if< 
              has_key_impl<aux::map_tag>::apply<Map,Key>
            , eval_if< 
                  is_same< Key,typename Map::key_ > 
                , base<Map>
                , identity< m_mask<Key,Map> >
                >
            , identity<Map>
            >
    {
    };
};

}}

#endif // BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

/* erase_key_impl.hpp
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
*/