
#ifndef BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED
#define BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/insert_fwd.hpp>
#include <boost/mpl/next_prior.hpp>
#include <boost/mpl/map/aux_/contains_impl.hpp>
#include <boost/mpl/map/aux_/item.hpp>
#include <boost/mpl/map/aux_/tag.hpp>
#include <boost/mpl/aux_/na.hpp>
#include <boost/mpl/aux_/config/typeof.hpp>

namespace boost { namespace mpl {

namespace aux {
template< typename Map, typename Pair > 
struct map_insert_impl
    : if_< 
          contains_impl<aux::map_tag>::apply<Map,Pair>
        , Map
#if defined(BOOST_MPL_CFG_TYPEOF_BASED_SEQUENCES)
        , m_item<
              typename Pair::first
            , typename Pair::second
            , Map
            >
#else
        , m_item<
              Map::order::value
            , typename Pair::first
            , typename Pair::second
            , Map
            >
#endif
        >
{
};
}

template<>
struct insert_impl< aux::map_tag >
{
    template< 
          typename Map
        , typename PosOrKey
        , typename KeyOrNA
        > 
    struct apply
        : aux::map_insert_impl<
              Map
            , typename if_na<KeyOrNA,PosOrKey>::type
            >
    {
    };
};

}}

#endif // BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED

/* insert_impl.hpp
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
*/