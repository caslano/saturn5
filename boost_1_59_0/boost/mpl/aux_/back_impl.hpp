
#ifndef BOOST_MPL_AUX_BACK_IMPL_HPP_INCLUDED
#define BOOST_MPL_AUX_BACK_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2000-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/begin_end.hpp>
#include <boost/mpl/next_prior.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/mpl/aux_/traits_lambda_spec.hpp>

namespace boost { namespace mpl {

// default implementation, requires at least bi-directional iterators;
// conrete sequences might override it by specializing either the 
// 'back_impl' or the primary 'back' template

template< typename Tag >
struct back_impl
{
    template< typename Sequence > struct apply
    {
        typedef typename end<Sequence>::type end_;
        typedef typename prior<end_>::type last_;
        typedef typename deref<last_>::type type;
    };
};

BOOST_MPL_ALGORITM_TRAITS_LAMBDA_SPEC(1, back_impl)

}}

#endif // BOOST_MPL_AUX_BACK_IMPL_HPP_INCLUDED

/* back_impl.hpp
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
*/