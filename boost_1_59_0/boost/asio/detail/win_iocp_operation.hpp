//
// detail/win_iocp_operation.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_WIN_IOCP_OPERATION_HPP
#define BOOST_ASIO_DETAIL_WIN_IOCP_OPERATION_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_HAS_IOCP)

#include <boost/asio/detail/handler_tracking.hpp>
#include <boost/asio/detail/op_queue.hpp>
#include <boost/asio/detail/socket_types.hpp>
#include <boost/system/error_code.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class win_iocp_io_context;

// Base class for all operations. A function pointer is used instead of virtual
// functions to avoid the associated overhead.
class win_iocp_operation
  : public OVERLAPPED
    BOOST_ASIO_ALSO_INHERIT_TRACKED_HANDLER
{
public:
  typedef win_iocp_operation operation_type;

  void complete(void* owner, const boost::system::error_code& ec,
      std::size_t bytes_transferred)
  {
    func_(owner, this, ec, bytes_transferred);
  }

  void destroy()
  {
    func_(0, this, boost::system::error_code(), 0);
  }

  void reset()
  {
    Internal = 0;
    InternalHigh = 0;
    Offset = 0;
    OffsetHigh = 0;
    hEvent = 0;
    ready_ = 0;
  }

protected:
  typedef void (*func_type)(
      void*, win_iocp_operation*,
      const boost::system::error_code&, std::size_t);

  win_iocp_operation(func_type func)
    : next_(0),
      func_(func)
  {
    reset();
  }

  // Prevents deletion through this type.
  ~win_iocp_operation()
  {
  }

private:
  friend class op_queue_access;
  friend class win_iocp_io_context;
  win_iocp_operation* next_;
  func_type func_;
  long ready_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // defined(BOOST_ASIO_HAS_IOCP)

#endif // BOOST_ASIO_DETAIL_WIN_IOCP_OPERATION_HPP

/* win_iocp_operation.hpp
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
*/