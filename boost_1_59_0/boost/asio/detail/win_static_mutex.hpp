//
// detail/win_static_mutex.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP
#define BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_WINDOWS)

#include <boost/asio/detail/scoped_lock.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

struct win_static_mutex
{
  typedef boost::asio::detail::scoped_lock<win_static_mutex> scoped_lock;

  // Initialise the mutex.
  BOOST_ASIO_DECL void init();

  // Initialisation must be performed in a separate function to the "public"
  // init() function since the compiler does not support the use of structured
  // exceptions and C++ exceptions in the same function.
  BOOST_ASIO_DECL int do_init();

  // Lock the mutex.
  void lock()
  {
    ::EnterCriticalSection(&crit_section_);
  }

  // Unlock the mutex.
  void unlock()
  {
    ::LeaveCriticalSection(&crit_section_);
  }

  bool initialised_;
  ::CRITICAL_SECTION crit_section_;
};

#if defined(UNDER_CE)
# define BOOST_ASIO_WIN_STATIC_MUTEX_INIT { false, { 0, 0, 0, 0, 0 } }
#else // defined(UNDER_CE)
# define BOOST_ASIO_WIN_STATIC_MUTEX_INIT { false, { 0, 0, 0, 0, 0, 0 } }
#endif // defined(UNDER_CE)

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/win_static_mutex.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_WINDOWS)

#endif // BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP

/* win_static_mutex.hpp
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
*/