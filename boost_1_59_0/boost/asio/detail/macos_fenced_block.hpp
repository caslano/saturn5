//
// detail/macos_fenced_block.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP
#define BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(__MACH__) && defined(__APPLE__)

#include <libkern/OSAtomic.h>
#include <boost/asio/detail/noncopyable.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class macos_fenced_block
  : private noncopyable
{
public:
  enum half_t { half };
  enum full_t { full };

  // Constructor for a half fenced block.
  explicit macos_fenced_block(half_t)
  {
  }

  // Constructor for a full fenced block.
  explicit macos_fenced_block(full_t)
  {
    OSMemoryBarrier();
  }

  // Destructor.
  ~macos_fenced_block()
  {
    OSMemoryBarrier();
  }
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // defined(__MACH__) && defined(__APPLE__)

#endif // BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP

/* macos_fenced_block.hpp
ags9+O4m4NRCIYbU0DMBy8p+wvxTjEBM398gCob5LBJkv4oEBEoGgX6/AQNjoHD0n0XG5CpTCo/6K1l278Q0X/fhZqmBGLarlw9vAQzMu7o1YpjDam5udXfvG2CARm4GXbbFNbOGiJ4PA5I2im7nhDIZNYdfdGtxnoQWLCz4+vf3Ly/6P37NscewW0HBQqGblhTWpwfF4g78MnBgNJblZIRiGXlU9vZiQqxXb0xSe9ud0pgLYpmr12NlSPM1neoO/mUlQplKopldefcjn/leveLvxiF8rHW7WpqsQ0dfMESQJNV3vBoftuDnOtJIsnxDnpRTCVHCM1faWvoQ7x+G+M3vEBYVVz2S7hPbgWwfBGfuVS57VhHsKb7qpeIh9D+VmIVbFN/3x1m6UenukpTupVlaQumQbnSXbkVFpJaQ7pQP3RISSuzSJV3CUtJLswv74/sn/J7nzrzOOffMe56Z59w7904pIyFRt4mFYmeahCEpL0JwgzUs8s2+dlx2IlUnYbCbXNr1q2/CgnaoLj/OUkPOUu1zjT8t/pQsqx5PkL+cP1oreBnp3xavBGp5s/ttEnykM3yCsvFv/FrLXtxc7kdzNqbUXp6il2tl0h2VK1oX9posy87C0kzD4IOx3/TNjyQ/Lq4sLmKFiqfREuxjoPS8DwrUHjOx2gyp5aWyoJfcz9IaT55kFH9sl+AUg9H9Y5Z9950iX3s14zSfbbF04HCRhDa5bPwybLfjV3utX21V7sGq8zdqCPxOlvpVmVMqJLy4+L/iRIUDa7va7zW1XL4y84FF9vyLf62BAO3XKXW5B9ckIyPPYSLjl3UMP/RjId+KsgxCT4eZv/b98ckLMx9n//orZ9lsDCKpYPYHMoa0pt7N/k/r2lq/S4rdRtv3GReOdm48FyXcz1jzuTazbEKu7mtoFSwBEcBh0nnYaJrjPkOVPvE2JOs/ZnZ9QKBGGHUXjn14czhe15S7yJ82jrXkX4vMJj8WQ4LI31apE7flZ/xXcZnaS/LP9x6/HPi7zY14cvHvKh3X78I/JYRGdwL3eaYmlQb/4QzIaMh9erlPvK/za5bDXyF5lv8f1bSqooZiQrPphOkEh/csZBYCCr3EvlSdVvmp9zP5ZvbnP8PSpKnfexpoze5kww+DbYNtpb1hc2GJH0dpR2lBXFXar3WfjXnk/ckm5TEdbZP8GuCikg8th16VAvk5fsODxBJGOc61yWQ/5ZKldMZb675O7dTGCf6ioJLPawXvdOK9JdXEiDgBv32vVFD/Aa4DFyDro0/MpGRvANtPCaT5cgDrBLMl5N2GwaN91wJJ8o9hosewFSEOmqv0OGbaUPZGadudYL1OYWuDIM2VeaVQgaDsxCw/Zhbn5R0ewXpF194G6lsGEzoK2RjNmGZWeIEzXAX1iJque7zQuerxVraBpzjDjOQ+L9c+TpPRP8vSounLtLuz00YI7Y6dvFrThHdFpyx+Tgmm5T5nOW03C2bdPgcMb6uljQSkjZCnwbT4kvP4km34klf5kpOYY8M+PLul4kbS6yAgaTBavmSRx9CnZ7cM3EgyHScKHYRVGiwQw5H8zYm6PXUFk/TsloW7kZYbiaOD0EqDGfIlFzDHoh8lqCV3pNNGT/iygC/FIuUYzmmHXVmHXYHD21jD22w6XFkphHQMWhzP9bXVnfljv6+kf3lexlX8NU3dVJb76SttbfVXJs+MWjDv1fO561ICYeRQmDSCF0nrbGp2+ZjDyf30j562+piOtrp3WsqXpYX0L9l5j+TiftrirsPh0ZSmPrvzKCvk9Xg8Clk9arcauMcv8XDTt3jriHnIWznOXvHffmd+qcRspCTLl2GN0n/FOlxGOVwmPlxGMlzmqSOMcYwNO9DhouCeJuOeZuaexuGepuSeHkkG+aaBWNNAdmkgYBpISaf/BNSvGov7kkMlDQTQ4fr4jEj+WWyhejFf8gNfMuD7CxwjsSEZBnFCbnE6bpMvKbFlXDjpeUtHAS6FAvY8otrUeoDno/hH2ixwguABuJvYQBijYHiDnEHHrzCCSoExb3JJFuSaxj+dc8VCnVzwCad/2e17tcVtJfV/OhszNC6wbi7s+xcpejziff/NJ4vDxCCdI+4xI/ucGTMGGTPCGTM+GTNDwhWG07mjispkRnHsJ1altRI9kO/PYCiWSsxsseEqTfhO6x6kTcPuh9DdtPeUmU9cd4DVRcJy8U+fuIi3Vhcly8UFKzR9CxXh7nZv7ZcaWz82ClfHidNG76ZT+3VFyUU9PyXp+om3RsGqSodaLfrcMSuawXBszMmk09spzV3TZ3b4T+E29Xx2YpyyR6Ys0l/nwcWTBEWUX9+y/Xx656SRYz7aDgJcVF/7cHZOEM+U2lqqtJSKv88mlybc1s5gqGYzLzsrLnzple1QB/CvUfP2r5y3+UeWETJT5FU36+S7KIGiqhXIC/XtLFt7V+lNPqASkgCCXNWef1xNicta/VqVJ3YSPNzsFJDzunGXMCZFYBHlo8/6YzZGuGW1LODHrJZwy0xZQPusT4xxr6+PfthkaLj2F1KnDcb6nKh1XfL5nAWSl/948POxrfD2M/JWXh1qwGwGlAIO7nCdi+p16aqZFjwCeNO6clZ1/QKAnQUSLmRezHAXxgXN6TTFfqnooQnmiR+ybmTcnxLXM7xDUaeHQm8dhaxI/H0+InMVx1kI7J5KJNnggTkO8QOiS2JED6KOFwSe1TcdhgQo7vf6OEmnJL4coklxdPusic+YRGeoek/qFz9CC9sVD23pbf+df8A0R7mCKDdhTduwG2H+UXNrOp4svyhUOgO3ZNmR7ZI/GUCB42JuFtHWESx2gxnnujdl6OcRkj2JdZttSPlbxTChniRg7/wZwS0n+t0DVWRiz2gbUvpW6gGA+RI5CtxdP/W9DUQTPKTuCYfEOfbbP6Uc4BB+5pBJJ6wZd+bQmMlj8KSp37pB2TTOskE99/n4E92BxU3rd93mPOlx1JvP3mX9ULXmfv3Vc+ByU7NBp5qmLa5z4GexihcVRdzYplGDhgKn7ZO6L/MDOZvMZ90LwgGxhgNmm1Zn0TcaaPar2NJRZw0pxCCYsj1rRcdHIPDj9RU8DzEONpM1PBa+TgsdCd8Ok2WjhT0NjlIwT4QPIP2Cy62F5xkOEhIG1XjEnU2kGbP0x9JdrMSHDh12slbH8l18Z3xpMo0ghRZu6Zm/R412zCHFsgO5PuMSI6M6UKSN9XbrSPJvSCFrx5nPx/dpoSrAi7/hvUo37QWEtr0kX0YnNl2ffir4PcH+HIRRKD4jucFT36VFksT2iezQUlKGbBmnDNR9ZPHC/QmWdCdVhDDDd6TPckCUESQ9nyS2A0/lQeJ7laEgyF5NSynexUJ4KffFEk4p9cWK3DRDyInKNH7I6dNpmpCzd9PkIUj+aZaQc9np9z39dhzMt55oyRQcRRTPmcqJD2deYQyQLa8oA8hhU1gBxPe8ksXkIpB1t/NcSSd/Q0HSe7cnoMDujBNuxZsktNY0ZXOh/D5e9mTOBQ3OgPK0FumzaJCdER+xNtCI6ytIyU0r90ZF7Vn/M7WBl8+w9OkNPhQKlWgD3EaDnmHXZOn9KpSdAeE27+I+wyPL1riLk3Ugp2fb+f3VpfD7s1cIOiNODxhbg7kgT/QA/yaVMeGSP37s+89C3BqFzq6pDpPNEG2m5qMwY2yGtngu5YP0VPbCYAHYy8luXZjoZO8I7O3kLwEY4WR/FQw0OfjNicoN0eIk4bZ96UTqtpPgJOi2+1yMXMJPkp7CMkQ+Cys7RDqLcClEJAuXYVmZJ3rOh2voa0y/mtPXmp9Oz/dOaMBMe6fiTnJ7ZySIoMltMxhR4URdKn3hjG9K1qb3mRQ/9UnsNUxw8uTISWrvRtgYP+SBn5/W7qsInKlB65AdMmDbkDFKCYwr0P50Y4M22Il+OOEkUTfm0uaOxzGg+WX+EkQdTxBt+jvTTY+m74ebqsHHhqn42d4bNw2PbSkwozFvIFQeGkInkAd3oOO3gfOLWiJhlaIOHakz9rMXXBW/Yfv641FTMxm5RJx8BYLfhBY5XOEqsqDxz1NU7Luw++0HhHUwVOFLLi/t8CdEWDtImIO2lzDHIL2PL0dbOG0EIdZoXZvsCdMYlHNktnjjJSoFjUsgSCCAc4ve0bVTaRbqCUcbfU8decMlxWHW6+alU/vx6WKKNV5Jo1D70qFbAJfA2LiLK5gsflIBLBQ/fYyQo6tUhF+KWoamMo6GiResuOGPsbXD4zOfNhJrniiDxeM3VBuX4nPegeNkZ5l0fCS1sjnh3qLFQynLb0wNuQJ7Yfmqxx+nFPNW8DjDeNoZNYPp24eqPzZ042ui2krTAzcVg5QokAW3GmhwBFnP+/VR363AMzL0mwe+9U3zUbNbRjTzg9L6eOC54W2GvUgPteLNRHHM3oDIM84B8xdGek9nBvSMeHZidRpAs7Gp/e6br99VmHMe0x6oZLA8/dlPuel+1hVk4bV9ghVhFsan9Iw1bmJAejP0LPVGH81NPqyX7mwzvmn3NRlMsmbhw2s2zP7i6XdKhAXS+qyhAZ6m90dizKupfXHJy/dutNbFTtz+8xhgx75pgckhUXQoc2sMviNxjgtJlx2q/hBY886L4bH5V9NDqukDq7MQ5kJ/FwQWG0y/OlaaDhm7J5ZNM+s6y9DA/QSN0x2TGWRpKhsckxuZ42b7G0D6jxhtAI094lcDSOgRww2gmkcMNoC8HzHeoHHEbDXb16DBzGyVtrVAX+DoKicbUN7k6NohE1Be5egKZpZP3V3I8knM2z9eyGJ5xP5Clu0jjhaylBLx9g7MoyIS8WCBglHrDVjpjgDsRDxCOZrC3gasN0PY6kwkT/wFlSOHsEnfCvYqD2EzbZlHqSTi0R2aR6kOYfczkbxEmEc5PFrMJC83zaM+OgI+y9DYf3+ELI39D0eA5qNX+ohHr9kRMPjoCcbfM4mN049s5Rkp9NEPUOYly8Pp21PzkkOrxcEVMiX+/4lbVsiWXMq4NhsEah6cjbsp9tHXiOdOyc3Q15SNu+Vtx48tji8IQgZd2sWldmUcIbWPkHVs+kWfc57X0N5Ln/NtfMF6L37suavXa3lHSLK4lKHfoEuCq9fV1nuMjJTd37rztttQUalAWUdKP8IhlwlMiJfPM8WBrU3+s9wg7a7Bdfwu/bAox3PPs7wbI/TzByoCp+ckFpAhF166HJLchkU4fQ7E3ksprL/BPYu9qUcWJihGufMWcjHVEOzn9YA5XShNe4ozN88L/SMa58NlCKXN+3NEiyDgNdisztE2NNfqu0vAEHeESWGYa3eRwL8d8SfRB9xIsV/9L5Dab5kFC7DnM8MYrOOSXv72NSCLlJFEb8/Wr1f+Va34nJrHYODvIbNaCZiLRNIHEMXIzZSld8xaCPu36uZtGe92zAaTb1d/HyvwXkJz5+HMuUizb0bJgOgW8Mx5P3hDY0mvVHifxx/IXo0/oT9WhyJBk5Xcy0HUmuIK8B5tk0LaKw+MJOietKotKReccJMlevXXlvjcN5e6+Gcx2/hS1K/UzkPJoiatIjmBNZE3kiF1zDhvqkwEtBrH3Lwk7pbHP63yhPr+J75PNi3UH9QnMG559SpwFUP/Ulpmdlf4UiM7JWOhDLO1lHnufCG2UfJhnpntY6vum3opiLnJK1G19Mx7rSX9EJ4CLl5qedS7U9fN7w6szcMZKyJrSjKJ+GkqfoqCg6lXwrlpBFu5Two6c5zVQl3LDBorVIi/84jHpikSyuCzF0WtTBRq7ziaLIZ3kbD+rgpWBOLMwQV6PXy2e7Qtpun2w6ZIDx+HOi3dH6He8t1eQkUVg+ck8qMn9YW/xZltj6GHQS5DjHIPC2cTuTSyzGAdsOY2U4645O6P3C2IwcRi5rnX+LLsMuRqB50CmZxfmF/M2D04GLnGC78PxwmPDnu3TtTtsZ7VXRVGEfAsL9vf408lpKLLIFw+4ViiYYYob/zIz7+iU75pHLw7mJcT4DPV7r2bO64od/1PoRnivosUrtYNyDBo58rYzm5fbB+DWO22ThxlL8tLZ8qLtokFuh+3t4+AzRC2WaG6xz/bDyDSu0rpKK/jqva63QgoSmOtt+tXV3FXVnDT+Q5CCFZ1bLMYqr3+OrDlZ9WMUqtIs+9GtwrKAbWJmjtChdiBMdU40RRoP3tMnzDBNe+1PCpPqZGBqoIyZ/B41+bW3HbI8P1UG7bEhdTpp8gMBm3HMudN8NnnG0DaGlal/0fJkCIFE/rl91Gzz+UVlv/aa02/cx/6wxw5zC5bAwmTVYMMFs+6IATHgvl2b3MDIUrDt/y70qxnkniVl7iVFt3fBVpu2VpGwqqYK1vUKxP+SRTNvHv0rSslAZUt+ytPy6SaIFmckutAkHe1QMvjU+/Wviu7EgMdhUMtI808toPPVTzEQ+ffz1qubi9rXfsv0AIqqY8F1jIWrq+671GGMqKw5OyTDWMrD7ihito1dhdewF+6KJZWW5bq+rppRuVLrvGCe9/DSI3e74sYmneYMFYOp7pmWs39fHGiW+yLUMM4xbEricWZIMM5FkhSg9Z6yZHRFUxU8kzRi+J28JizEaUQVQUYX73fHQo8sUUehRWyPkgRz293GvI6zaNteE/WunZbDENPup0mWjqP11rAu8N5bcddX6B5gUsTJx4t5/154mzfepreutq7zjPHMnPL4x9/OSY8IjyErU85au0yHwVIrKu0RfaET1zVtUZ231OiKo8mfNcb72OPKHAuV67kW4H1P51Cp64WrmqX5X1Pmn9uuc4fRYRdq8mz5s14GJic4ZL2MX5jTDv4dmB8wh8pRDF8J3qgf86ocuMV2mVM8vnsmq1on61BptfYfJnS/Lfvh2keZVD3q8W0EMsjQmidpUdWh+Wy9pe16fE/ORxcsB70VPRd0A9hbPNDuA3COo/pfjAy7CqM8cI5Uy4DPR95sX9HJKx41MMHnCzbocNJCI4U6IV7I6zBLMD31R9lr8PARO1fVtSP2duiX9mRcyjGWBOJnyUhHMBkFpr8o6Oh8OeZlZE8wGQ7WA3CNrOugPc62cJJqj0+LTlDWzb4fZd6a4oZrAohieTOUlvjqkuVht07Cd/mWxusvb+99xZLCtO/gpLAw4xVaKCfSlNM3xO81DfgiusV+M59WZooyKMLM0NwgYlls3J1DHgrkmMAEyzs0+BCCD0wvoXOOMd6lBmG0Ea7rige/NxI5Sr5/sIyhPln/poyOTTatJz4lXbKGsi3uGpvzE/y5ycP0wp8yf2aCykk423emsFJYeB0597qBUvH59qy62nU3v0FYEl5furSD+c22qtkZF/DjzMcqqTOWp7jRuOtzlqU4+6YrZ8zWe4kfZspVTK2X3LxYulDa6nA3tYFUccnJe2CYsOZ182SwVESk1LNQuGflXSXp66acY5ABSUTqUC4HYISyT9WpLQUG1AuMkm7r3vhfEcc/q1bs21auFlgrCz4wv8OPzy1W2O9/AQ61sx4ZBA6mY8QR8qu8ohkiDy+QNqRDFjGcAY8Y8QMZjZsBjcbEdj2RHhqmN3K3YaAK8Kiw0rCUrt0ui1shdY51p+v86wLr7Ov869zj2XQwAJHrmGeiBbkT2Q48h6JA47uMrAV8YVK
*/