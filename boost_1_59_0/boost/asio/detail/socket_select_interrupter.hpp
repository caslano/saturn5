//
// detail/socket_select_interrupter.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP
#define BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if !defined(BOOST_ASIO_WINDOWS_RUNTIME)

#if defined(BOOST_ASIO_WINDOWS) \
  || defined(__CYGWIN__) \
  || defined(__SYMBIAN32__)

#include <boost/asio/detail/socket_types.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class socket_select_interrupter
{
public:
  // Constructor.
  BOOST_ASIO_DECL socket_select_interrupter();

  // Destructor.
  BOOST_ASIO_DECL ~socket_select_interrupter();

  // Recreate the interrupter's descriptors. Used after a fork.
  BOOST_ASIO_DECL void recreate();

  // Interrupt the select call.
  BOOST_ASIO_DECL void interrupt();

  // Reset the select interrupter. Returns true if the reset was successful.
  BOOST_ASIO_DECL bool reset();

  // Get the read descriptor to be passed to select.
  socket_type read_descriptor() const
  {
    return read_descriptor_;
  }

private:
  // Open the descriptors. Throws on error.
  BOOST_ASIO_DECL void open_descriptors();

  // Close the descriptors.
  BOOST_ASIO_DECL void close_descriptors();

  // The read end of a connection used to interrupt the select call. This file
  // descriptor is passed to select such that when it is time to stop, a single
  // byte will be written on the other end of the connection and this
  // descriptor will become readable.
  socket_type read_descriptor_;

  // The write end of a connection used to interrupt the select call. A single
  // byte may be written to this to wake up the select which is waiting for the
  // other end to become readable.
  socket_type write_descriptor_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/socket_select_interrupter.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_WINDOWS)
       // || defined(__CYGWIN__)
       // || defined(__SYMBIAN32__)

#endif // !defined(BOOST_ASIO_WINDOWS_RUNTIME)

#endif // BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP

/* socket_select_interrupter.hpp
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
*/