//
// detail/posix_mutex.hpp
// ~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP
#define BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_HAS_PTHREADS)

#include <pthread.h>
#include <boost/asio/detail/noncopyable.hpp>
#include <boost/asio/detail/scoped_lock.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class posix_event;

class posix_mutex
  : private noncopyable
{
public:
  typedef boost::asio::detail::scoped_lock<posix_mutex> scoped_lock;

  // Constructor.
  BOOST_ASIO_DECL posix_mutex();

  // Destructor.
  ~posix_mutex()
  {
    ::pthread_mutex_destroy(&mutex_); // Ignore EBUSY.
  }

  // Lock the mutex.
  void lock()
  {
    (void)::pthread_mutex_lock(&mutex_); // Ignore EINVAL.
  }

  // Unlock the mutex.
  void unlock()
  {
    (void)::pthread_mutex_unlock(&mutex_); // Ignore EINVAL.
  }

private:
  friend class posix_event;
  ::pthread_mutex_t mutex_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/posix_mutex.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_HAS_PTHREADS)

#endif // BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP

/* posix_mutex.hpp
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
*/