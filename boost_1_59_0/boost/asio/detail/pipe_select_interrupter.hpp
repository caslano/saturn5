//
// detail/pipe_select_interrupter.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_PIPE_SELECT_INTERRUPTER_HPP
#define BOOST_ASIO_DETAIL_PIPE_SELECT_INTERRUPTER_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if !defined(BOOST_ASIO_WINDOWS)
#if !defined(BOOST_ASIO_WINDOWS_RUNTIME)
#if !defined(__CYGWIN__)
#if !defined(__SYMBIAN32__)
#if !defined(BOOST_ASIO_HAS_EVENTFD)

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class pipe_select_interrupter
{
public:
  // Constructor.
  BOOST_ASIO_DECL pipe_select_interrupter();

  // Destructor.
  BOOST_ASIO_DECL ~pipe_select_interrupter();

  // Recreate the interrupter's descriptors. Used after a fork.
  BOOST_ASIO_DECL void recreate();

  // Interrupt the select call.
  BOOST_ASIO_DECL void interrupt();

  // Reset the select interrupter. Returns true if the reset was successful.
  BOOST_ASIO_DECL bool reset();

  // Get the read descriptor to be passed to select.
  int read_descriptor() const
  {
    return read_descriptor_;
  }

private:
  // Open the descriptors. Throws on error.
  BOOST_ASIO_DECL void open_descriptors();

  // Close the descriptors.
  BOOST_ASIO_DECL void close_descriptors();

  // The read end of a connection used to interrupt the select call. This file
  // descriptor is passed to select such that when it is time to stop, a single
  // byte will be written on the other end of the connection and this
  // descriptor will become readable.
  int read_descriptor_;

  // The write end of a connection used to interrupt the select call. A single
  // byte may be written to this to wake up the select which is waiting for the
  // other end to become readable.
  int write_descriptor_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/pipe_select_interrupter.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // !defined(BOOST_ASIO_HAS_EVENTFD)
#endif // !defined(__SYMBIAN32__)
#endif // !defined(__CYGWIN__)
#endif // !defined(BOOST_ASIO_WINDOWS_RUNTIME)
#endif // !defined(BOOST_ASIO_WINDOWS)

#endif // BOOST_ASIO_DETAIL_PIPE_SELECT_INTERRUPTER_HPP

/* pipe_select_interrupter.hpp
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
*/