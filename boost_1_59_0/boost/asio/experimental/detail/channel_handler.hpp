//
// experimental/detail/channel_handler.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_EXPERIMENTAL_DETAIL_CHANNEL_HANDLER_HPP
#define BOOST_ASIO_EXPERIMENTAL_DETAIL_CHANNEL_HANDLER_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>
#include <boost/asio/associator.hpp>
#include <boost/asio/experimental/detail/channel_payload.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace experimental {
namespace detail {

template <typename Payload, typename Handler>
class channel_handler
{
public:
  channel_handler(BOOST_ASIO_MOVE_ARG(Payload) p, Handler& h)
    : payload_(BOOST_ASIO_MOVE_CAST(Payload)(p)),
      handler_(BOOST_ASIO_MOVE_CAST(Handler)(h))
  {
  }

  void operator()()
  {
    payload_.receive(handler_);
  }

//private:
  Payload payload_;
  Handler handler_;
};

} // namespace detail
} // namespace experimental

template <template <typename, typename> class Associator,
    typename Payload, typename Handler, typename DefaultCandidate>
struct associator<Associator,
    experimental::detail::channel_handler<Payload, Handler>,
    DefaultCandidate>
  : Associator<Handler, DefaultCandidate>
{
  static typename Associator<Handler, DefaultCandidate>::type get(
      const experimental::detail::channel_handler<Payload, Handler>& h,
      const DefaultCandidate& c = DefaultCandidate()) BOOST_ASIO_NOEXCEPT
  {
    return Associator<Handler, DefaultCandidate>::get(h.handler_, c);
  }
};

} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // BOOST_ASIO_EXPERIMENTAL_DETAIL_CHANNEL_HANDLER_HPP

/* channel_handler.hpp
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
*/