//
// ssl/detail/shutdown_op.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2022 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_SSL_DETAIL_SHUTDOWN_OP_HPP
#define BOOST_ASIO_SSL_DETAIL_SHUTDOWN_OP_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#include <boost/asio/ssl/detail/engine.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace ssl {
namespace detail {

class shutdown_op
{
public:
  static BOOST_ASIO_CONSTEXPR const char* tracking_name()
  {
    return "ssl::stream<>::async_shutdown";
  }

  engine::want operator()(engine& eng,
      boost::system::error_code& ec,
      std::size_t& bytes_transferred) const
  {
    bytes_transferred = 0;
    return eng.shutdown(ec);
  }

  template <typename Handler>
  void call_handler(Handler& handler,
      const boost::system::error_code& ec,
      const std::size_t&) const
  {
    if (ec == boost::asio::error::eof)
    {
      // The engine only generates an eof when the shutdown notification has
      // been received from the peer. This indicates that the shutdown has
      // completed successfully, and thus need not be passed on to the handler.
      BOOST_ASIO_MOVE_OR_LVALUE(Handler)(handler)(boost::system::error_code());
    }
    else
    {
      BOOST_ASIO_MOVE_OR_LVALUE(Handler)(handler)(ec);
    }
  }
};

} // namespace detail
} // namespace ssl
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // BOOST_ASIO_SSL_DETAIL_SHUTDOWN_OP_HPP

/* shutdown_op.hpp
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
*/