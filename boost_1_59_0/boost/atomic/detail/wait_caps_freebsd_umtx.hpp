/*
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * Copyright (c) 2020 Andrey Semashev
 */
/*!
 * \file   atomic/detail/wait_caps_freebsd_umtx.hpp
 *
 * This header defines waiting/notifying operations capabilities macros.
 */

#ifndef BOOST_ATOMIC_DETAIL_WAIT_CAPS_FREEBSD_UMTX_HPP_INCLUDED_
#define BOOST_ATOMIC_DETAIL_WAIT_CAPS_FREEBSD_UMTX_HPP_INCLUDED_

#include <sys/umtx.h>
#include <boost/atomic/detail/config.hpp>
#include <boost/atomic/detail/int_sizes.hpp>
#include <boost/atomic/detail/capabilities.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

// FreeBSD _umtx_op uses physical address to the atomic object as a key, which means it should support address-free operations.
// https://www.freebsd.org/cgi/man.cgi?query=_umtx_op&apropos=0&sektion=2&manpath=FreeBSD+11-current&format=html

#if (defined(UMTX_OP_WAIT_UINT) && BOOST_ATOMIC_DETAIL_SIZEOF_INT == 4) ||\
    (defined(UMTX_OP_WAIT) && BOOST_ATOMIC_DETAIL_SIZEOF_LONG == 4)
#define BOOST_ATOMIC_HAS_NATIVE_INT32_WAIT_NOTIFY BOOST_ATOMIC_INT32_LOCK_FREE
#define BOOST_ATOMIC_HAS_NATIVE_INT32_IPC_WAIT_NOTIFY BOOST_ATOMIC_INT32_LOCK_FREE
#endif

#if defined(UMTX_OP_WAIT) && BOOST_ATOMIC_DETAIL_SIZEOF_LONG == 8
#define BOOST_ATOMIC_HAS_NATIVE_INT64_WAIT_NOTIFY BOOST_ATOMIC_INT64_LOCK_FREE
#define BOOST_ATOMIC_HAS_NATIVE_INT64_IPC_WAIT_NOTIFY BOOST_ATOMIC_INT64_LOCK_FREE
#endif

#endif // BOOST_ATOMIC_DETAIL_WAIT_CAPS_FREEBSD_UMTX_HPP_INCLUDED_

/* wait_caps_freebsd_umtx.hpp
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
*/