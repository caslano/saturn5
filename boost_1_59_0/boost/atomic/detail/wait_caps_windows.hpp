/*
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * Copyright (c) 2020 Andrey Semashev
 */
/*!
 * \file   atomic/detail/wait_caps_windows.hpp
 *
 * This header defines waiting/notifying operations capabilities macros.
 */

#ifndef BOOST_ATOMIC_DETAIL_WAIT_CAPS_WINDOWS_HPP_INCLUDED_
#define BOOST_ATOMIC_DETAIL_WAIT_CAPS_WINDOWS_HPP_INCLUDED_

#include <boost/winapi/config.hpp>
#include <boost/atomic/detail/config.hpp>
#include <boost/atomic/detail/capabilities.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

// MSDN says WaitOnAddress, WakeByAddressSingle and WakeByAddressAll only support notifications between threads of the same process, so no address-free operations.
// https://docs.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-waitonaddress
// https://docs.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-wakebyaddresssingle
// https://docs.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-wakebyaddressall

#if BOOST_USE_WINAPI_VERSION >= BOOST_WINAPI_VERSION_WIN8 && (BOOST_WINAPI_PARTITION_APP || BOOST_WINAPI_PARTITION_SYSTEM)

#define BOOST_ATOMIC_DETAIL_WINDOWS_HAS_WAIT_ON_ADDRESS

#define BOOST_ATOMIC_HAS_NATIVE_INT8_WAIT_NOTIFY BOOST_ATOMIC_INT8_LOCK_FREE
#define BOOST_ATOMIC_HAS_NATIVE_INT16_WAIT_NOTIFY BOOST_ATOMIC_INT16_LOCK_FREE
#define BOOST_ATOMIC_HAS_NATIVE_INT32_WAIT_NOTIFY BOOST_ATOMIC_INT32_LOCK_FREE
#define BOOST_ATOMIC_HAS_NATIVE_INT64_WAIT_NOTIFY BOOST_ATOMIC_INT64_LOCK_FREE

#else // BOOST_USE_WINAPI_VERSION >= BOOST_WINAPI_VERSION_WIN8 && (BOOST_WINAPI_PARTITION_APP || BOOST_WINAPI_PARTITION_SYSTEM)

// Since we'll detect availability of WaitOnAddress etc. at run time, we have to define capability macros to 1 instead of 2
#if BOOST_ATOMIC_INT8_LOCK_FREE > 0
#define BOOST_ATOMIC_HAS_NATIVE_INT8_WAIT_NOTIFY 1
#endif
#if BOOST_ATOMIC_INT16_LOCK_FREE > 0
#define BOOST_ATOMIC_HAS_NATIVE_INT16_WAIT_NOTIFY 1
#endif
#if BOOST_ATOMIC_INT32_LOCK_FREE > 0
#define BOOST_ATOMIC_HAS_NATIVE_INT32_WAIT_NOTIFY 1
#endif
#if BOOST_ATOMIC_INT64_LOCK_FREE > 0
#define BOOST_ATOMIC_HAS_NATIVE_INT64_WAIT_NOTIFY 1
#endif

#endif // BOOST_USE_WINAPI_VERSION >= BOOST_WINAPI_VERSION_WIN8 && (BOOST_WINAPI_PARTITION_APP || BOOST_WINAPI_PARTITION_SYSTEM)

#endif // BOOST_ATOMIC_DETAIL_WAIT_CAPS_WINDOWS_HPP_INCLUDED_

/* wait_caps_windows.hpp
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
*/