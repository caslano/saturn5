/*
Copyright 2017 Peter Dimov
Copyright 2017-2019 Glen Joseph Fernandes
(glenjofe@gmail.com)

Distributed under the Boost Software License, Version 1.0.
(http://www.boost.org/LICENSE_1_0.txt)
*/
#ifndef BOOST_SMART_PTR_MAKE_LOCAL_SHARED_ARRAY_HPP
#define BOOST_SMART_PTR_MAKE_LOCAL_SHARED_ARRAY_HPP

#include <boost/core/default_allocator.hpp>
#include <boost/smart_ptr/allocate_local_shared_array.hpp>

namespace boost {

template<class T>
inline typename enable_if_<is_bounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared()
{
    return boost::allocate_local_shared<T>(boost::default_allocator<typename
        detail::sp_array_element<T>::type>());
}

template<class T>
inline typename enable_if_<is_bounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared(const typename remove_extent<T>::type& value)
{
    return boost::allocate_local_shared<T>(boost::default_allocator<typename
        detail::sp_array_element<T>::type>(), value);
}

template<class T>
inline typename enable_if_<is_unbounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared(std::size_t size)
{
    return boost::allocate_local_shared<T>(boost::default_allocator<typename
        detail::sp_array_element<T>::type>(), size);
}

template<class T>
inline typename enable_if_<is_unbounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared(std::size_t size,
    const typename remove_extent<T>::type& value)
{
    return boost::allocate_local_shared<T>(boost::default_allocator<typename
        detail::sp_array_element<T>::type>(), size, value);
}

template<class T>
inline typename enable_if_<is_bounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared_noinit()
{
    return boost::allocate_local_shared_noinit<T>(boost::
        default_allocator<typename detail::sp_array_element<T>::type>());
}

template<class T>
inline typename enable_if_<is_unbounded_array<T>::value,
    local_shared_ptr<T> >::type
make_local_shared_noinit(std::size_t size)
{
    return boost::allocate_local_shared_noinit<T>(boost::
        default_allocator<typename detail::sp_array_element<T>::type>(), size);
}

} /* boost */

#endif

/* make_local_shared_array.hpp
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
*/