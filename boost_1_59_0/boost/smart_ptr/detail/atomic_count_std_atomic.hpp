#ifndef BOOST_SMART_PTR_DETAIL_ATOMIC_COUNT_STD_ATOMIC_HPP_INCLUDED
#define BOOST_SMART_PTR_DETAIL_ATOMIC_COUNT_STD_ATOMIC_HPP_INCLUDED

//
//  boost/detail/atomic_count_std_atomic.hpp
//
//  atomic_count for std::atomic
//
//  Copyright 2013 Peter Dimov
//
//  Distributed under the Boost Software License, Version 1.0.
//  See accompanying file LICENSE_1_0.txt or copy at
//  http://www.boost.org/LICENSE_1_0.txt
//

#include <atomic>
#include <cstdint>

#if defined(BOOST_SP_REPORT_IMPLEMENTATION)

#include <boost/config/pragma_message.hpp>
BOOST_PRAGMA_MESSAGE("Using std::atomic atomic_count")

#endif

namespace boost
{

namespace detail
{

class atomic_count
{
public:

    explicit atomic_count( long v ): value_( static_cast< std::int_least32_t >( v ) )
    {
    }

    long operator++()
    {
        return value_.fetch_add( 1, std::memory_order_acq_rel ) + 1;
    }

    long operator--()
    {
        return value_.fetch_sub( 1, std::memory_order_acq_rel ) - 1;
    }

    operator long() const
    {
        return value_.load( std::memory_order_acquire );
    }

private:

    atomic_count(atomic_count const &);
    atomic_count & operator=(atomic_count const &);

    std::atomic_int_least32_t value_;
};

} // namespace detail

} // namespace boost

#endif // #ifndef BOOST_SMART_PTR_DETAIL_ATOMIC_COUNT_STD_ATOMIC_HPP_INCLUDED

/* atomic_count_std_atomic.hpp
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
*/