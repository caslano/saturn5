#ifndef BOOST_SMART_PTR_DETAIL_LWM_STD_MUTEX_HPP_INCLUDED
#define BOOST_SMART_PTR_DETAIL_LWM_STD_MUTEX_HPP_INCLUDED

// Copyright 2020 Peter Dimov
// Distributed under the Boost Software License, Version 1.0.
// https://www.boost.org/LICENSE_1_0.txt)

#include <boost/assert.hpp>
#include <mutex>

namespace boost
{

namespace detail
{

class lightweight_mutex
{
private:

    std::mutex m_;

    lightweight_mutex(lightweight_mutex const &);
    lightweight_mutex & operator=(lightweight_mutex const &);

public:

    lightweight_mutex()
    {
    }

    class scoped_lock;
    friend class scoped_lock;

    class scoped_lock
    {
    private:

        std::mutex & m_;

        scoped_lock(scoped_lock const &);
        scoped_lock & operator=(scoped_lock const &);

    public:

        scoped_lock( lightweight_mutex & m ): m_( m.m_ )
        {
            m_.lock();
        }

        ~scoped_lock()
        {
            m_.unlock();
        }
    };
};

} // namespace detail

} // namespace boost

#endif // #ifndef BOOST_SMART_PTR_DETAIL_LWM_STD_MUTEX_HPP_INCLUDED

/* lwm_std_mutex.hpp
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
*/