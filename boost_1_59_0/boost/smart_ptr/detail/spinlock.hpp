#ifndef BOOST_SMART_PTR_DETAIL_SPINLOCK_HPP_INCLUDED
#define BOOST_SMART_PTR_DETAIL_SPINLOCK_HPP_INCLUDED

// MS compatible compilers support #pragma once

#if defined(_MSC_VER) && (_MSC_VER >= 1020)
# pragma once
#endif

//
//  boost/detail/spinlock.hpp
//
//  Copyright (c) 2008 Peter Dimov
//
//  Distributed under the Boost Software License, Version 1.0.
//  See accompanying file LICENSE_1_0.txt or copy at
//  http://www.boost.org/LICENSE_1_0.txt)
//
//  struct spinlock
//  {
//      void lock();
//      bool try_lock();
//      void unlock();
//
//      class scoped_lock;
//  };
//
//  #define BOOST_DETAIL_SPINLOCK_INIT <unspecified>
//

#include <boost/smart_ptr/detail/sp_has_gcc_intrinsics.hpp>
#include <boost/smart_ptr/detail/sp_has_sync_intrinsics.hpp>
#include <boost/config.hpp>

#if defined( BOOST_SP_USE_STD_ATOMIC )
#  include <boost/smart_ptr/detail/spinlock_std_atomic.hpp>

#elif defined( BOOST_SP_USE_PTHREADS )
#  include <boost/smart_ptr/detail/spinlock_pt.hpp>

#elif defined( BOOST_SP_HAS_GCC_INTRINSICS )
#  include <boost/smart_ptr/detail/spinlock_gcc_atomic.hpp>

#elif !defined( BOOST_NO_CXX11_HDR_ATOMIC )
#  include <boost/smart_ptr/detail/spinlock_std_atomic.hpp>

#elif defined(__GNUC__) && defined( __arm__ ) && !defined( __thumb__ )
#  include <boost/smart_ptr/detail/spinlock_gcc_arm.hpp>

#elif defined( BOOST_SP_HAS_SYNC_INTRINSICS )
#  include <boost/smart_ptr/detail/spinlock_sync.hpp>

#elif defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
#  include <boost/smart_ptr/detail/spinlock_w32.hpp>

#elif defined(BOOST_HAS_PTHREADS)
#  include <boost/smart_ptr/detail/spinlock_pt.hpp>

#elif !defined(BOOST_HAS_THREADS)
#  include <boost/smart_ptr/detail/spinlock_nt.hpp>

#else
#  error Unrecognized threading platform
#endif

#endif // #ifndef BOOST_SMART_PTR_DETAIL_SPINLOCK_HPP_INCLUDED

/* spinlock.hpp
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
*/