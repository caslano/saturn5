// Copyright 2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_TYPE_NAME_HPP
#define BOOST_HISTOGRAM_DETAIL_TYPE_NAME_HPP

#include <boost/core/typeinfo.hpp>
#include <boost/type.hpp>
#include <string>

namespace boost {
namespace histogram {
namespace detail {

template <class T>
std::string type_name_impl(boost::type<T>) {
  return boost::core::demangled_name(BOOST_CORE_TYPEID(T));
}

template <class T>
std::string type_name_impl(boost::type<T const>) {
  return type_name_impl(boost::type<T>{}) + " const";
}

template <class T>
std::string type_name_impl(boost::type<T&>) {
  return type_name_impl(boost::type<T>{}) + " &";
}

template <class T>
std::string type_name_impl(boost::type<T&&>) {
  return type_name_impl(boost::type<T>{}) + " &&";
}

template <class T>
std::string type_name() {
  return type_name_impl(boost::type<T>{});
}

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

/* type_name.hpp
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
*/