// Copyright 2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_NONMEMBER_CONTAINER_ACCESS_HPP
#define BOOST_HISTOGRAM_DETAIL_NONMEMBER_CONTAINER_ACCESS_HPP

#if __cpp_lib_nonmember_container_access >= 201411

#include <iterator>

namespace boost {
namespace histogram {
namespace detail {

using std::data;
using std::size;

} // namespace detail
} // namespace histogram
} // namespace boost

#else // std implementations are not available

#include <initializer_list>
#include <type_traits>

namespace boost {
namespace histogram {
namespace detail {

template <class C>
constexpr auto data(C& c) -> decltype(c.data()) {
  return c.data();
}

template <class C>
constexpr auto data(const C& c) -> decltype(c.data()) {
  return c.data();
}

template <class T, std::size_t N>
constexpr T* data(T (&array)[N]) noexcept {
  return array;
}

template <class E>
constexpr const E* data(std::initializer_list<E> il) noexcept {
  return il.begin();
}

template <class C>
constexpr auto size(const C& c) -> decltype(c.size()) {
  return c.size();
}

template <class T, std::size_t N>
constexpr std::size_t size(const T (&)[N]) noexcept {
  return N;
}

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

#endif // BOOST_HISTOGRAM_DETAIL_NONMEMBER_CONTAINER_ACCESS_HPP

/* nonmember_container_access.hpp
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
*/