// Copyright 2018-2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_STATIC_IF_HPP
#define BOOST_HISTOGRAM_DETAIL_STATIC_IF_HPP

#include <type_traits>
#include <utility>

namespace boost {
namespace histogram {
namespace detail {

template <class T, class F, class... Args>
constexpr decltype(auto) static_if_impl(
    std::true_type, T&& t, F&&,
    Args&&... args) noexcept(noexcept(std::declval<T>()(std::declval<Args>()...))) {
  return std::forward<T>(t)(std::forward<Args>(args)...);
}

template <class T, class F, class... Args>
constexpr decltype(auto) static_if_impl(
    std::false_type, T&&, F&& f,
    Args&&... args) noexcept(noexcept(std::declval<F>()(std::declval<Args>()...))) {
  return std::forward<F>(f)(std::forward<Args>(args)...);
}

template <bool B, class... Ts>
constexpr decltype(auto) static_if_c(Ts&&... ts) noexcept(
    noexcept(static_if_impl(std::integral_constant<bool, B>{}, std::declval<Ts>()...))) {
  return static_if_impl(std::integral_constant<bool, B>{}, std::forward<Ts>(ts)...);
}

template <class Bool, class... Ts>
constexpr decltype(auto) static_if(Ts&&... ts) noexcept(
    noexcept(static_if_impl(Bool{}, std::declval<Ts>()...))) {
  return static_if_impl(Bool{}, std::forward<Ts>(ts)...);
}

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

/* static_if.hpp
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
*/