// Copyright 2015-2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_TUPLE_SLICE_HPP
#define BOOST_HISTOGRAM_DETAIL_TUPLE_SLICE_HPP

#include <boost/mp11/integer_sequence.hpp>
#include <tuple>
#include <type_traits>

namespace boost {
namespace histogram {
namespace detail {

template <std::size_t I, class T, std::size_t... K>
decltype(auto) tuple_slice_impl(T&& t, mp11::index_sequence<K...>) {
  return std::forward_as_tuple(std::get<(I + K)>(std::forward<T>(t))...);
}

template <std::size_t I, std::size_t N, class Tuple>
decltype(auto) tuple_slice(Tuple&& t) {
  constexpr auto S = std::tuple_size<std::decay_t<Tuple>>::value;
  static_assert(I + N <= S, "I, N must be a valid subset");
  return tuple_slice_impl<I>(std::forward<Tuple>(t), mp11::make_index_sequence<N>{});
}

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

/* tuple_slice.hpp
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
*/