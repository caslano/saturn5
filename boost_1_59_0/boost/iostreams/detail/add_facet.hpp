// (C) Copyright 2008 CodeRage, LLC (turkanis at coderage dot com)
// (C) Copyright 2003-2007 Jonathan Turkanis
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)

// See http://www.boost.org/libs/iostreams for documentation.

// Borrowed from <boost/archive/add_facet.hpp>

#ifndef BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED

#if defined(_MSC_VER)
# pragma once
#endif

#include <boost/config.hpp>  // BOOST_DINKUMWARE_STDLIB.
#include <boost/detail/workaround.hpp>

//------------------Definition of add_facet-----------------------------------//

// Does STLport uses old Dinkumware locale?
#if (defined(__SGI_STL_PORT) || defined(_STLPORT_VERSION)) && \
    defined(_STLP_NO_OWN_IOSTREAMS) \
    /**/
#  if (defined(_YVALS) && !defined(__IBMCPP__)) || defined(_CPPLIB_VER)
#    define BOOST_IOSTREMS_STLPORT_WITH_OLD_DINKUMWARE
#  endif
#endif

namespace boost { namespace iostreams { namespace detail {

template<class Facet>
inline std::locale add_facet(const std::locale &l, Facet * f)
{
    return
        #if BOOST_WORKAROUND(BOOST_DINKUMWARE_STDLIB, == 1) || \
            defined(BOOST_IOSTREMS_STLPORT_WITH_OLD_DINKUMWARE) \
            /**/
            std::locale(std::_Addfac(l, f));
        #else
            // standard compatible
            std::locale(l, f);
        #endif
}

} } } // End namespaces detail, iostreams, boost.

#endif // #ifndef BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED

/* add_facet.hpp
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
*/