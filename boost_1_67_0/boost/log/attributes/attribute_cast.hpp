/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   attribute_cast.hpp
 * \author Andrey Semashev
 * \date   06.08.2010
 *
 * The header contains utilities for casting between attribute factories.
 */

#ifndef BOOST_LOG_ATTRIBUTES_ATTRIBUTE_CAST_HPP_INCLUDED_
#define BOOST_LOG_ATTRIBUTES_ATTRIBUTE_CAST_HPP_INCLUDED_

#include <boost/log/detail/config.hpp>
#include <boost/log/attributes/attribute.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace attributes {

/*!
 * The class holds a reference to the attribute factory implementation being casted
 */
class cast_source
{
private:
    attribute::impl* m_pImpl;

public:
    /*!
     * Initializing constructor. Creates a source that refers to the specified factory implementation.
     */
    explicit cast_source(attribute::impl* p) : m_pImpl(p)
    {
    }

    /*!
     * The function attempts to cast the aggregated pointer to the implementation to the specified type.
     *
     * \return The converted pointer or \c NULL, if the conversion fails.
     */
    template< typename T >
    T* as() const { return dynamic_cast< T* >(m_pImpl); }
};

} // namespace attributes

/*!
 * The function casts one attribute factory to another
 */
template< typename T >
inline T attribute_cast(attribute const& attr)
{
    return T(attributes::cast_source(attr.get_impl()));
}

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_ATTRIBUTES_ATTRIBUTE_CAST_HPP_INCLUDED_

/* attribute_cast.hpp
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
*/