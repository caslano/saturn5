/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   drop_on_overflow.hpp
 * \author Andrey Semashev
 * \date   04.01.2012
 *
 * The header contains implementation of \c drop_on_overflow strategy for handling
 * queue overflows in bounded queues for the asynchronous sink frontend.
 */

#ifndef BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_
#define BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_

#include <boost/log/detail/config.hpp>
#include <boost/log/core/record_view.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace sinks {

/*!
 * \brief Log record dropping strategy
 *
 * This strategy will cause log records to be discarded in case of
 * queue overflow in bounded asynchronous sinks. It should not be used
 * if losing log records is not acceptable.
 */
class drop_on_overflow
{
#ifndef BOOST_LOG_DOXYGEN_PASS
public:
    /*!
     * This method is called by the queue when overflow is detected.
     *
     * \retval true Attempt to enqueue the record again.
     * \retval false Discard the record.
     */
    template< typename LockT >
    static bool on_overflow(record_view const&, LockT&)
    {
        return false;
    }

    /*!
     * This method is called by the queue when there appears a free space.
     */
    static void on_queue_space_available()
    {
    }

    /*!
     * This method is called by the queue to interrupt any possible waits in \c on_overflow.
     */
    static void interrupt()
    {
    }
#endif // BOOST_LOG_DOXYGEN_PASS
};

} // namespace sinks

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_SINKS_DROP_ON_OVERFLOW_HPP_INCLUDED_

/* drop_on_overflow.hpp
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
*/