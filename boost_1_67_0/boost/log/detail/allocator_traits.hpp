/*
 *             Copyright Andrey Semashev 2018.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   allocator_traits.hpp
 * \author Andrey Semashev
 * \date   03.01.2018
 *
 * \brief  This header is the Boost.Log library implementation, see the library documentation
 *         at http://www.boost.org/doc/libs/release/libs/log/doc/html/index.html.
 */

#ifndef BOOST_LOG_ALLOCATOR_TRAITS_HPP_INCLUDED_
#define BOOST_LOG_ALLOCATOR_TRAITS_HPP_INCLUDED_

#include <memory>
#include <boost/log/detail/config.hpp>
#if defined(BOOST_NO_CXX11_ALLOCATOR)
#include <boost/container/allocator_traits.hpp>
#endif
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace aux {

// A portable name for allocator traits
#if !defined(BOOST_NO_CXX11_ALLOCATOR)
using std::allocator_traits;
#else
using boost::container::allocator_traits;
#endif

/*!
 * \brief A standalone trait to rebind an allocator to another type.
 *
 * The important difference from <tt>std::allocator_traits&lt;Alloc&gt;::rebind_alloc&lt;U&gt;</tt> is that this
 * trait does not require template aliases and thus is compatible with C++03. There is
 * <tt>boost::container::allocator_traits&lt;Alloc&gt;::portable_rebind_alloc&lt;U&gt;</tt>, but it is not present in <tt>std::allocator_traits</tt>.
 * It will also attempt to instantiate the allocator type to test if it provides the nested <tt>rebind</tt> template. We don't want
 * that to happen because it prohibits using <tt>std::allocator&lt;void&gt;</tt> in C++17 and later, which deprecated
 * this allocator specialization. This standalone trait does not use the nested <tt>rebind</tt> template in this case.
 */
template< typename Allocator, typename U >
struct rebind_alloc
{
#if !defined(BOOST_NO_CXX11_ALLOCATOR)
    typedef typename std::allocator_traits< Allocator >::BOOST_NESTED_TEMPLATE rebind_alloc< U > type;
#else
    typedef typename boost::container::allocator_traits< Allocator >::BOOST_NESTED_TEMPLATE portable_rebind_alloc< U >::type type;
#endif
};

template< typename U >
struct rebind_alloc< std::allocator< void >, U >
{
    typedef std::allocator< U > type;
};

} // namespace aux

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_ALLOCATOR_TRAITS_HPP_INCLUDED_

/* allocator_traits.hpp
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
*/