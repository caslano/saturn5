/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   custom_terminal_spec.hpp
 * \author Andrey Semashev
 * \date   29.01.2012
 *
 * The header contains Boost.Phoenix custom terminal specialization for Boost.Log terminals.
 */

#ifndef BOOST_LOG_DETAIL_CUSTOM_TERMINAL_SPEC_HPP_INCLUDED_
#define BOOST_LOG_DETAIL_CUSTOM_TERMINAL_SPEC_HPP_INCLUDED_

#include <boost/mpl/bool.hpp>
#include <boost/phoenix/core/terminal_fwd.hpp>
#include <boost/phoenix/core/is_nullary.hpp>
#include <boost/phoenix/core/terminal.hpp> // needed for terminal-related part of the grammar
#include <boost/type_traits/remove_cv.hpp>
#include <boost/type_traits/remove_reference.hpp>
#include <boost/utility/result_of.hpp>
#include <boost/log/detail/config.hpp>
#include <boost/log/detail/header.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {

namespace phoenix {

template< typename T >
struct is_custom_terminal< T, typename T::_is_boost_log_terminal > :
    public mpl::true_
{
};

template< typename T >
struct custom_terminal< T, typename T::_is_boost_log_terminal >
{
    typedef custom_terminal< T, typename T::_is_boost_log_terminal > this_type;

    template< typename >
    struct result;

    template< typename ThisT, typename TermT, typename ContextT >
    struct result< ThisT(TermT, ContextT) >
    {
        typedef typename remove_cv< typename remove_reference< TermT >::type >::type term;
        typedef typename boost::result_of< const term(ContextT) >::type type;
    };

    template< typename ContextT >
    typename result< const this_type(T const&, ContextT&) >::type operator() (T const& term, ContextT& ctx) const
    {
        return term(ctx);
    }
};

} // namespace phoenix

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_LOG_DETAIL_CUSTOM_TERMINAL_SPEC_HPP_INCLUDED_

/* custom_terminal_spec.hpp
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
*/