/*
 *          Copyright Andrey Semashev 2007 - 2015.
 * Distributed under the Boost Software License, Version 1.0.
 *    (See accompanying file LICENSE_1_0.txt or copy at
 *          http://www.boost.org/LICENSE_1_0.txt)
 */
/*!
 * \file   is_debugger_present.hpp
 * \author Andrey Semashev
 * \date   05.12.2012
 *
 * The header contains implementation of the \c is_debugger_present predicate in template expressions.
 */

#ifndef BOOST_LOG_EXPRESSIONS_PREDICATES_IS_DEBUGGER_PRESENT_HPP_INCLUDED_
#define BOOST_LOG_EXPRESSIONS_PREDICATES_IS_DEBUGGER_PRESENT_HPP_INCLUDED_

#include <boost/log/detail/config.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

#if defined(BOOST_WINDOWS)

#include <boost/phoenix/core/terminal.hpp> // this is needed to be able to include this header alone, Boost.Phoenix blows up without it
#include <boost/phoenix/function/adapt_callable.hpp>
#include <boost/log/detail/header.hpp>

#if defined(BOOST_USE_WINDOWS_H)

#ifndef _WIN32_WINNT
#define _WIN32_WINNT 0x0500
#endif

#include <windows.h>

#else // defined(BOOST_USE_WINDOWS_H)

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace expressions {

namespace aux {

extern "C" {

__declspec(dllimport) int __stdcall IsDebuggerPresent();

} // extern "C"

} // namespace aux

} // namespace expressions

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#endif // BOOST_USE_WINDOWS_H

namespace boost {

BOOST_LOG_OPEN_NAMESPACE

namespace expressions {

namespace aux {

struct is_debugger_present
{
    typedef bool result_type;

    result_type operator() () const
    {
        return IsDebuggerPresent() != 0;
    }
};

} // namespace aux

#ifndef BOOST_LOG_DOXYGEN_PASS

BOOST_PHOENIX_ADAPT_CALLABLE_NULLARY(is_debugger_present, aux::is_debugger_present)

#else

/*!
 * The function generates a filter that will check whether the logger is attached to the process
 */
unspecified is_debugger_present();

#endif

} // namespace expressions

BOOST_LOG_CLOSE_NAMESPACE // namespace log

} // namespace boost

#include <boost/log/detail/footer.hpp>

#endif // BOOST_WINDOWS

#endif // BOOST_LOG_EXPRESSIONS_PREDICATES_IS_DEBUGGER_PRESENT_HPP_INCLUDED_

/* is_debugger_present.hpp
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
*/