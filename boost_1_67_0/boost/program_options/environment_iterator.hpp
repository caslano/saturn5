// Copyright Vladimir Prus 2004.
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_ENVIRONMENT_ITERATOR_VP_2004_05_14
#define BOOST_ENVIRONMENT_ITERATOR_VP_2004_05_14

#include "eof_iterator.hpp"

#include <utility>
#include <string>
#include <cassert>

namespace boost {

    class environment_iterator 
        : public eof_iterator<environment_iterator, 
                              std::pair<std::string, std::string> >
    {
    public:
        environment_iterator(char** environment)
        : m_environment(environment)
        {
            get();
        }
        
        environment_iterator()
        {
            found_eof();
        }
        
        void get()
        {
            if (*m_environment == 0)
                found_eof();
            else {
                std::string s(*m_environment);
                std::string::size_type n = s.find('=');
                assert(n != s.npos);
                value().first = s.substr(0, n);
                value().second = s.substr(n+1);
                
                ++m_environment;
            }
        }
        
    private:
        char** m_environment;
    };
}
#endif

/* environment_iterator.hpp
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
*/