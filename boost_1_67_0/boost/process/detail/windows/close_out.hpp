// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_WINDOWS_INITIALIZERS_CLOSE_OUT_HPP
#define BOOST_PROCESS_WINDOWS_INITIALIZERS_CLOSE_OUT_HPP

#include <boost/winapi/process.hpp>
#include <boost/winapi/handles.hpp>
#include <boost/process/detail/handler_base.hpp>

namespace boost { namespace process { namespace detail { namespace windows {

template<int p1, int p2>
struct close_out : public ::boost::process::detail::handler_base
{
    template <class WindowsExecutor>
    inline void on_setup(WindowsExecutor &e) const;
};

template<>
template<typename WindowsExecutor>
void close_out<1,-1>::on_setup(WindowsExecutor &e) const
{
    e.startup_info.hStdOutput = ::boost::winapi::INVALID_HANDLE_VALUE_;
    e.startup_info.dwFlags   |= ::boost::winapi::STARTF_USESTDHANDLES_;
}

template<>
template<typename WindowsExecutor>
void close_out<2,-1>::on_setup(WindowsExecutor &e) const
{
    e.startup_info.hStdError = ::boost::winapi::INVALID_HANDLE_VALUE_;
    e.startup_info.dwFlags  |= ::boost::winapi::STARTF_USESTDHANDLES_;
}

template<>
template<typename WindowsExecutor>
void close_out<1,2>::on_setup(WindowsExecutor &e) const
{
    e.startup_info.hStdOutput = ::boost::winapi::INVALID_HANDLE_VALUE_;
    e.startup_info.hStdError  = ::boost::winapi::INVALID_HANDLE_VALUE_;
    e.startup_info.dwFlags   |= ::boost::winapi::STARTF_USESTDHANDLES_;
}

}}}}

#endif

/* close_out.hpp
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
*/