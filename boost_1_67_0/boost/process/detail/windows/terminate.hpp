// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_WINDOWS_TERMINATE_HPP
#define BOOST_PROCESS_WINDOWS_TERMINATE_HPP

#include <boost/process/detail/config.hpp>
#include <system_error>
#include <cstdlib>
#include <boost/winapi/process.hpp>
#include <boost/winapi/get_last_error.hpp>

namespace boost { namespace process { namespace detail { namespace windows {

struct child_handle;

inline void terminate(child_handle &p, std::error_code &ec) noexcept
{
    if (!::boost::winapi::TerminateProcess(p.process_handle(), EXIT_FAILURE))
        ec = boost::process::detail::get_last_error();
    else
    {
        ec.clear();
        ::boost::winapi::CloseHandle(p.proc_info.hProcess);
        p.proc_info.hProcess = ::boost::winapi::INVALID_HANDLE_VALUE_;
    }
}

inline void terminate(child_handle &p)
{
    std::error_code ec;
    terminate(p, ec);
    boost::process::detail::throw_error(ec, "TerminateProcess() failed in terminate");
}

}}}}

#endif

/* terminate.hpp
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
*/