// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_WINDOWS_INITIALIZERS_NULL_IN_HPP
#define BOOST_PROCESS_WINDOWS_INITIALIZERS_NULL_IN_HPP

#include <boost/winapi/process.hpp>
#include <boost/winapi/handles.hpp>
#include <boost/winapi/handle_info.hpp>
#include <boost/process/detail/handler_base.hpp>
#include <boost/process/detail/used_handles.hpp>
#include <boost/process/detail/windows/file_descriptor.hpp>

namespace boost { namespace process { namespace detail { namespace windows {

struct null_in : public ::boost::process::detail::handler_base, ::boost::process::detail::uses_handles
{
    file_descriptor source{"NUL", file_descriptor::read};

    ::boost::winapi::HANDLE_ get_used_handles() const { return source.handle(); }


public:
    template <class WindowsExecutor>
    void on_setup(WindowsExecutor &e) const
    {
        boost::winapi::SetHandleInformation(source.handle(),
                boost::winapi::HANDLE_FLAG_INHERIT_,
                boost::winapi::HANDLE_FLAG_INHERIT_);

        e.startup_info.hStdInput = source.handle();
        e.startup_info.dwFlags  |= boost::winapi::STARTF_USESTDHANDLES_;
        e.inherit_handles = true;
    }
};

}}}}

#endif

/* null_in.hpp
VlWrMkQDRpW/s41X+W9yMSHmjwi5Pcc/OccTXQ/4PXEeoGPse046Vp9228KDiqxmHp6eslSsbnqicRsOEB+PoX61b6o7PMK3lMXzB6uZUtCnkAeav+c44wvEHgCn2fhc6BJTvWJoyB6U/a4nqq5BFn+F/tztFE97847BUeZLu6cXxQrt55qH7r8axl7LrBmtfhczymViRus1nDO2xKQiXAn7c+LVm9JsdPwt9fEYhG/4/MZFaxe667kvOHHjvSIb8G6rj3ZYQWp6rNJ5L9IYLL+UKGkvgCwds3SEMI56l53BSGaZ/N7XL5qzOKpvUo07Pw2XmzfyBQJBQTl74gWzLChHNqodvhgXGmpdMN8G2gl3j8207Tk7mZbPDZF3uG3dE3RDUcoEdfeibRrWp+pI2+30HhpbswPQdHEeQ9NnmXSsPMQ6ulhfq+EYzyhvwBSBaGCJzUaYztKOs9Ddk0DQCPlNbftPJlwwDa0FhTxth5I5E4bmCcJNO2bNMmDuMswMrWc+6DKX7JuAk+9xU29RJOL7VrpEoh9+ikQQDYvfhURMKf7mskQjjyPRaiS6DomYeowlE3mqAYWQ8DsHkHCVneeGwj/AQX5S+cfCgEGJHrOVw4Rb6+dJ3CtxcVwqiEAjzHI2wJs1uysQgeNG4DQFOIwAvBOvhDnJaK1whIdT0cr4rBLHZoFdxnAqD8UrSwnjDbSySOIYwP7H1EyI/NERSUTrJILkkVrvLENrYoB5bSzQJEd3dcJuPyGsegOY/C3myjOqWyf1QSLQBPCUPRwmNeU1N7EeC/r/9b/gcG1KwK9zwwh+BfbC+o6wF5cpJke8ODkZ3/jDeSVV3U94i8uS5PxNyYm43koASQJr2Acn8lyTyKM4J9Qqtv84N7kw23DDiC/Ki75jE9Ani7nj2zLaUNIIU2IH1PhiHDHGdYSo0jCXtH7uoPKOczN/tgVGICyGrKp45Uhuj6f6T/C1pB8iOHPrI5fMNjiDCgVrOrEhMsZYJuBEpbfM4tn9pBeYrm5gF55qcFCgwASZT/bN7ArCly57PGoBc6fcJR/5oY29jJzhTXS6XmuFZ4QgTTXcf3zcdMEsjQXWyzdOwFF0Ax847qOQWt3Yw6VFg/zkDwg9TW2VdzXjJkYamltoTVAmroWtWK1GaC3s8RlBe5W1umJD2ymUmHdMr8H9cUnD9A1m0BtKi2leeG9qClKRaLbQOoqLCb2s18AVtZuDslngwN3TJdIhebipu6kf/AHv6+GRIp96oOQ6W61Oytjw8wRpv8a2CUPOmrM+Cvv1VxNW+gb5wUioz5hAh7axi3V0lLm7XSnm7iq7jF3d9u3kzw4BE1iRj3fPtzoJbQFIRVOMXWBSyb9+2UlpU63gdfJvF//amLyFxCKNjoczphm7XBzq5l8v/0JUUb4+8IJZz6z6cE6Wt4b9f+9ah3gWhjZ2beT39fy+md838XsDvytSupHfQTzHVkDUh2p0GbtaOe40/0r+xcWpnOXHKxvBYKtyxi6+iuBrCkZRMqkBHLKefzfyL64k5E9/bcJTVi6N7p7YEgzKnsSI33ZD0pIhhlqsAM+QBp6Ksym2Xpl0fSudqHWYEwz3F0uBx4IXFbSUIJeCKU8BQ4NJ+tzL/MLtiFDkSHf3ZNfX0Vv0mZ2mU1gvwycXDz1vMRgoIIMCvsMBm1RAOgXM5oD1KsBJAQEOWKMCHBQwgQMSMydvbbuQsgLkqS85bYLXBgye5mQrg6cE8N4fTyPkvQHuGRdSbE0hhuX50dCR9IpyQn/yzvovAZuOLb7E9Fu6fP8wnRtLeCD26fAN/k9QzvL0KUgVLedU4bYKWE2S9zUQrDOi1ZcgKNNF4ZkETDKWE4HdgVvDDDSiAnab+JCHGSW2PZXJFEbQGf9Jmbz+PtrQr6JYc77THDSGxjOyAY4FiWxYdomP/xVQ5jK3rUykGY0TqFO+vJ9RYzgelJce6TQrYDkhxo4Igyq1OJgwCHuJGg8rRo9ihAjpeaBMXkj/1JwF9gQ4FkHKgYyxwOKQWSbf/ksaexIRGryVOnWH0LbCHFWfyEPLbfXaMpRJfUByJuuBZ9E7T0VhY5qtbQTAbd+G24dQZ9A3XKQMsNomq/6aYVMjScdtptWDu+aCXFk4Lhjj4Ux0LHp/Z+Kd571kNnBwpKDzi+vLGwyqgLv7DpLxEI1qArf3xha+WgL4IlwxcoRQKsIYV6Pc6duoh++sQdOUyz4sM52IrkOY4Hq9f2QD3AkSvrfukuXachtabGUXG4gwyLAK6x4C/lSt+kmaLT5U8BQW+thTJJ2xNGQJLFNwnxIH8bcHUSc4lfIq6eeMnuUZCLmV8vxgJ2auYSwkG34AWWuRUWHrUBQqeEIiivUrFluqzxMs1edwnqipTRL+4J0S4c9lv3KORj/f82aDyCiKxeAolLvB10v75CfXJyA32/g9NyrTVrEXwCb0u/OfsfE7jE4nuen6VFOoT13sNoX6MGexTKEW1hAdH8quWb8Y9i8pj6V2Iz5+mjaj/B5KyTtZHPJW2J6GkCPLzwQrbC6q21HEdnxb5Mp7Oy2bbHSQWj7+yqVR3i4fmZm4UO5dvxQW4Xil8n0H46pKtfheanEx672x2/qKeb8Y7AUOcrhiMVUkbx7H+MoAQh4wN8cGdsJFHZCV0E3FFffcc4/N3A6EVB2z4EqNzjs5Od6YgLr7r0ucczeMBV/e/X866tSpdvmB94t72Gp4yjm3lM+5S0P/n51zu9z/vz7nHh+L1/+vzrkdv+BzbvJ1yljv2JohX6fB/t21UCRzi0pXKI0GXdsrt3Q4bLCnS+jZS7WzCIVJl04ClZ+/pt6cxmvqkJwwC6OdZfAJKLS9tLIA8QI+zasX+i+Gb7LonRTPli0J2ftGcPj2HIAqWiPhqJHa9Ehdepwwp7z9ljFfFg+IeyyOuea12OUqkpnpgkMMZqbXa9izi31r2ZRFL/5sWEyNGO6bkxPOpsqWlKSscxixwTr3rcUbQhK3DcVyk53tBV6huE66x9JEsJI6iLajQ9K5iS/D3GIZm8JdgV9f+bCwS1nIjXs5cjFby1X2FuGiwkvED5DyI+xQuV1mjwO01Z2iPg4yMHMcLtGxsNVWM/XaImDbR+TeGZYALtjR+29MbLZD2GwPeUGytM22o41s7SePiN1cVs4O2e3WjcPnD5sCcpeJXnQKLdt41gn24lI2b/wseI6+8gZP9RLAhs9ojzt2Ow4UW9aU+XpHVthwU5VeGB4Qz1E8SgBSlaRbSszgyyeGMjAySYPOBg+yaKaKzXG4DeNLI6UUL68uzbTxpQ6osg93w30uGqKPKpbnzS42cjycGkmTzbdPSvdR3UCpipLWKCtgsJIKmUgVqVkG67VYkea4xcOL0jbhEXZ4MML50jOS9lG2raYDxqlr3BuSJqrfXsxM2Yzytre9n5rlbd8ts9sSgeltOyms7epnYU8XgP5sy3kCbnsJqtcXYFZsSlijWw4/nBl5exnn7ddtfPaq6Z+a3VYBum13ZEZ2qbRXJ+wemCtX4nKjk/N2C00uvvNTM8WuwOeUMKpnCYRaZBhLF8JIREoxu0s+p5jPbfHOexItLhPn8/b7njtNKcJDxA/w1/j+ql7Ucw6T/y6+YMavLvU9J1UK/gvVJDAD1Jc8QmlmiyNz2i4OT5Gjd5XRgB690mmL7Grn+r+O67K3nLCOjFmSO35nkdaeyMJFNj0zUrOYD3kHoTZiRTvXU6YEH5WhdaVYB+O486xGQD+qZ0z4C2Koml4i4I7uJ/i5dw+hxLZcO5jp+alGXc15bnOeC8p+Y8zHgZoSyZospIhVJXjhlIldqzFQlV3habCb8Zidd/1wn+bWaYnf1xe3PFX92Hyg6IgeC5cUxKdbecPD1Ha28vQTS+cieW2VU3TEM8T2mfg6+/QVJ7WuoqJTw0bK/9DemjVL/j0r0xabZ0eZl0QDlWmfRC2eY4wxCp2zk/ZtL5NSER/n7S/zf0xdL8jx11HX9+8+bxpwx2J5XYIdiqB1JZZBx35xLHCaMSfmVigp8nxn3jF/nWfN7tiiAWZ8VNT8boa/btHMuNNf9/R4+669LIaH30drHa/k7j7aaSx9jMWYPr8wasfO+JXX/+/zQWRb2FLbkMVtaFj0NWpDw9NX23fVfk4+JYPX7m/Qj8YzVHXmilr+VVVzppfxnmfCJk2OZZaT22RwdM+WwZWI7/JqLBm801a6B1GokqbXpBVW0RfMa2MX/hq7OIWyRAIENnE3dNdp3A0lBbdLIfv9sVwwzmlLWM5dgZUHaQvZ300Ay2u8zD3Id5rc1sjrOZAvV803l6o+ft7wMu7shGAAdrgtPCJFFNMD25BLER5ZB+uytnh2ZJfkZJ6UZLI/C/3OTtHxG8uSI0uX91U3VooZCS539R+43YSUrIZ3aU4Bpw1X0DgeKoIRmyOG3lqv4Z7dZmiN5nQ3bdZ0UX4mfl1eLW2pcI5PO60PFVfEAp1FyBM0t3MhdFR3UmrR5F8LE7bh+8QuvkHgr/hNoj5qhktpQ4vbFMD5Rp0FcK5YMnekaV40ReHI6Ek9c8l+mOkz6MPUD0DJ8bP2nSrh6lYcLpN35Hxqzol75eJ3z5sWML2Zgmbfq+auNGQXH4eUmeCeJRye3eb2Xuh2RGJ6gGApw+L74w5RmBM9a7GnaK82hAeDffvZclLl8UZerkCkuwnuZodsohmysJUtckSfT81IZZbt6W9BpSmUNZNxmdbiLpOxnCwCO3eLCMPMaS5HbW5Dbj9R98q5yixDa4V0mIgwpK1yUxyhHqcRlVvl9Lyptfrrn+5jBrK49INxh6mpV2ckkAUuKLQF9CxY426BiUtbji0Iv7Qr7+L7x/BC4ac4JgOvMTvepUVw0CIEHZYx8TyzLO9sQSkAVIKTXAop60G4PBhYFhrYA2E4mNCClf76bpPMk2cAr4tgsRg78oE07Uvut5ZW7LesJOyHZXXxsW9pI1bSI2V5psGvMId1T2TXcewpwiArO3GXTjgsGLPWjVVkBa57zWIxHDPFcnCw33AD+8TtDFuCCdjs1tp6r1vU0NpC2hlI7P0FRbpEvuts/kg7wWdPFIizdVrGdtGh1UnL11SGYCJPL7J5omxW9F0+Nz3RFzg4TFs18j9hyOhPVbbK3os8vdAW/lIEi3gopM5r842p4aAVbajmvxe/hkbBN3WePvwLk7A2ybvwoEsYieDxMabOs9JG6meo3pUp3Rg+XeG/TusCfKXeDCKas+2vYDjcvvO85cDlMhvpdGCdBO7gWwsYpGf51gL46G7C8PuyBQgbMOkzcGMQfQbDNdUZkU+F9RuiaFNFRDrDj9zwKd57R6QjnE4/enlCpLSHWDmOPM+7d/fzvDvVXWTpjViiiaN5fhRxfYloyuLiFIlCaLwMjDztGqqnU7L4+0BqOsWn3eJ0kQ9c3Xo9RaztXAYoU6+5oMIe702LeHYQO9AlKt0h+AanPfmk34VrPG/IQwQdOOVS1EFWJ++sT3dV+WNaVzBkL2Vu0JlGauXZhTf6n3RVjvZs1y55tgc+rWt19amjly5+EXc7DeevC/y6a9HvgCUo8CQP/hbDvgT7oXSXvZXhczhNdMjcURfMkK204n5cGCZ6Ohs2Tob1ttlqZoA0/Uo2kablLlaQTBmgU32Shs3+vgPwNW+/vy58vbmZBbnG7KTwYzssuNtfeMuK2Y6NzbL6RSRlbOVZ0yzyrViIjResSAOJFYs1/YeWybiPMpQGqPo88ecMG8EE/z7CmqILKZfRy9iG3Oo6FGnqo/id4Mnyyvl/OG/G84uKqLBVlEYe/JBzqy9D75K2U+dNVdbcc5eXxTnua8mwiSgC5eYrUoyn4ZzDhigjNNybuOx+soDxOWeeSRB8oQtSXPoYOoBG0/o4dC2GtwIj3nOILeH10w6+BE1opT4+ypmK8TIW51vBG+JK3wreEAP4OMLpc+ZuomB+gm3RdzFfpcMlsW/FeL6pVtfrej9CV+Q6J2hnfWHe/uLIQcL7d7GQyh5jxVicmUuXQR5q7XJIG59fVMTi2XSQYtuv3OxQFvxmD/7UTDnQ5H+u+aJuMfYe3R/OFES6KQz+3rzabsW0Je2QW0o1blHuLs07a7w6F9zCD8LDffOdRCwelA27LkBKA/41EZQuXTXnTYvJFsZpuUiUEKHxPZf/Eh+ej0XMB6scoQfn1MDa88NG9EEq8GHjnYcvQVCkahztm53+J1yVb4nbnTH35u8PiVVve4Tils00vz/Lviz7+3ekFSwrtO/LT7P5zy06KrhBMS6FmtFBOw/ip85dQH/yk6p8K/+YgrslWjdiSV0DlvSAyHedtrBbfvpOsivU0PvEEkxoKYuJLd7Yi0/F9JAtGM+J/Rr5lHV0p03vW7qkbiUFFEnIfdEuFQGX/O0uGJ0ijCFdnt1+3mTahUBDFzUw1fPYkvaVtstdBOSd9X+gjhAxOQcqxXBom7wPUZJVvi1KgD/CqNsXqeOJCDBaB+MI55qCIvIgf4bVZ6oqXhPjfHCBTRu+soltmjf6Cs+E3ZEdOEWIJjmEU/UQn6oRnKpEJgyloR41h/CtxDiPanZBUlnbS6VAj67VCOCiGgIi38Pp702cnSV7Da02PNsXaAy7lUIzdIbjk0Sg3X++aqCI7E02XJyHP+PjdAQb+vrIvjQYKNY35dY56iPacaehbYzp6yxFPiPQZKnHtb1nTx7MZ7YrqAezf9SQj8DrWQbTUOGv+EQ1NuuX1Q2uRfF5uhvUthwYj9ZA27twoTrMfYWLPFE2f7gMp7pl/vBFIPgx99f9gTNV/akTji1MowQwkuJ8pEYdyQMilYdsemqHRwmBhPYSeN98qNEWc15hVLIKtLbMCCyP6YsTBjS0BlE4zy8wGZ4oTBdahXqiEh8PHbK1fYiWlLT7L9AA7uAB3IEBdJxDIy5Qw8N3+2gav2EhjUS3CTT7FWge7xaNIgLy4+iF3N2OfYa2M1fNwRE2NbeVCRQ7vVZuNgI1MZ1+m+K3UBmqsNwDr6QWQbl2I3Fgdcw9Bs5d9VVG5UojsCamr2THqQ1Wt8BYgHvmedwOqoKXaTjlSw0WVinGRwRq4XSbbdbSoNg3bIh9d0Zsm/qEl+Qxgvpa2UQTFtjriT5B8LCtDFI4j29JIDSKDMKCz9ufdxJr3CXWotnx/mJpS1/M8JlwhljLY9Qd4OA0YmmrFfCNMt+KzfQezvet4EXkTWUbhL+St18sRTxh5C7/0bA9XzBV63mzwbGCZ2UFyovd18c5p4fPTSjugLAsumgy5nFYdMqHXHQymOE+BFhCtjI5+7fKVkH38RNhdodNHw3u41JwKISWYzDjQmjDjKVgeMSWAkgRkp8l06Dfc7ib2zS3nPlSAA0s8tOW42Gmbd1KH1n+5J9oRicdJjClmuhDoEu8zJ2oEyswWTF3oSLXifDojEH51WV4E3yPmtN8CTOqphpYylAPbisg1s/npcvH1Gs4w1L2WpAjhgNviQQ6TJhley8ohzmSCMz1W7CVDSYiBqViMF4rAt6I1K6/9BulzOGpLsKGZ9ZVGNerqyEUuXCRpxr8Q9Z6GjeARpK1gfxl8r3bCHD3ZX2TI7qHYm/PTgTE00QdVTyYIjIp4nqKQFBZUMZxVxBwQRHeHqmbURRkF0w96UvGxsEqyBBLQa2IwbFARxEu2F6YASMcuiTY83Q3mP+HXR3qP+jvtKnB8kT/BbjDA+aJfsTvjHVH38d7ZTuNot5eFq/q0f5nrujZfk/1i3ZcxnMfHkJkg3yDOt0GD67d1X/bqj6bqo/39y1cSKcdzUk8Q+TPM2DsqJ3GK4elXfQOcyX7dcOBMi+HMsVpRNvAKac41fYw4Rz4C9Yf5KHi1ykchArpJX/61wxbfLC1EnIFY1BIWIESQLEE5RV2yxRxAoVp+z1qPCxPfUxnbm9wLx57vEsZBWDmA9F4cvwncOtadZMob4xfL/b4Pww/AW7DULVmWjYnVKoEhG46Eu7p/B/q71kMjPKOt5cj6fTYRdPIFms58LB8dRg1prgCpsG6UarEmGdRgn6Dk2PeS559g85/LJwB1qB3DOJB992aEGM5JJvmdTGX/A9uy0KZorR8s53hcb7ZrgUjy0SBU0xYHe9HlANkDjadO2eKp11RU//nZP9s1xOteSfnmAucsmIjRARmO8W0LGO225jtlU99cME0ZmfNvndPaG7NW9iCdjcbQxTNIuAmYC4EpIaJntZ2GpVbaUIyg/I9oODaVjF5pOhY8lfmvhDI19b4ngqHcaFhtxmTR/oqh4X7+nZgZ+kJw+5lBGBqwFXYKX/+K+BoermVokTJY80g4PgNX2VOWPNVZuv5VMPP4fgjnCkn/vwiDAMPRLGjKLC/Tf+SHIXANEFlKsuZG9i26E42IYnzj2JeO5M1xBurbN1Ap8VrHfROLxv4DmiDOjjyan2T6dB+A5tkMh3jG/ASUaf3K3jXNnuicwkseLZPfsKz/c7H+0KEzCLY7pzHL8FYYKPcvQ3SUDthy7Be66I0NvnsVg6q2Dx4iJfotIX0aQakGSBA1C46Ibyu7UwxjAeGNSUvk3erfKWyYGtiFWys1zYu/wfNT21np9kGNIY6p+zObkC7q1ne5Kl5pqf6ZiDn6Lboiw4nzHnmn2uaFNxwrrkId4RW55Wp2byzDq2RTl6fTl0Favnfu7pKvo+OjMuhXsUC64iwBT32HbRZp+6vUmLMdmlsoZDOmLYOV2uLtkBsrMXQaky9ybJmu8DqMxbFYXkPpQBMmb4FslxsmLae8l5JxOChc5bT4MCqem0VD8PbFBSfpBpBQ2WOG4nWUM/k0Caia+BsCXekbIFWRXKqnESq/7zPzVVD5CBULADenb7z3OSRWNDhfhFemLbXbJQjnP7aGJQAeV5z+hgILdWMpGhr8RLqW3MNPiuz9CtERsVppD1sBkdZdt0H/BLcxhoxeTTAem2ROe8MTD9Mr6BjO5OahYuS4CheiPoMtfb0uyiclp6e+RqaHAzGb0o0vlV1Jyhvej/R0YSp3c90tDUo3e/DwMhWeFUM7ARbb6v0/wbMyzW0SeXLLgIpOTal0SzHdDls9RlZv83y5gFsrljfFw5IgRksmgaJgVUAnbvW8e8a/gVmIcV3CQAyF99gRr2x6xBnBCGUVUHzt3ADi8sBrZKtWqcp/0cFAH+SRxBQqgKAP8ldFBA=
*/