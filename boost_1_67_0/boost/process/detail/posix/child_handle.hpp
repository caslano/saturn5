// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_POSIX_CHILD_HPP
#define BOOST_PROCESS_POSIX_CHILD_HPP

#include <utility>
#include <system_error>

namespace boost { namespace process { namespace detail { namespace posix {

typedef ::pid_t pid_t;

struct child_handle
{
    int pid {-1};
    explicit child_handle(int pid) : pid(pid)
    {}

    child_handle()  = default;
    ~child_handle() = default;

    child_handle(const child_handle & c) = delete;
    child_handle(child_handle && c) : pid(c.pid)
    {
        c.pid = -1;
    }
    child_handle &operator=(const child_handle & c) = delete;
    child_handle &operator=(child_handle && c)
    {
        pid = c.pid;
        c.pid = -1;
        return *this;
    }

    int id() const
    {
        return pid;
    }
    bool in_group() const {return true;}
    bool in_group(std::error_code&) const noexcept {return true;}

    typedef int process_handle_t;
    process_handle_t process_handle() const { return pid; }

    bool valid() const
    {
        return pid != -1;
    }
};

}}}}

#endif

/* child_handle.hpp
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
*/