// Copyright (c) 2016 Klemens D. Morgenstern
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_DETAIL_POSIX_HANDLER_HPP_
#define BOOST_PROCESS_DETAIL_POSIX_HANDLER_HPP_

#include <boost/process/detail/handler_base.hpp>

namespace boost { namespace process { namespace detail { namespace posix {

//does not extend anything.
struct handler_base_ext : handler_base 
{
    template<typename Executor>
    void on_fork_error  (Executor &, const std::error_code&) const {}

    template<typename Executor>
    void on_exec_setup  (Executor &) const {}

    template<typename Executor>
    void on_exec_error  (Executor &, const std::error_code&) const {}
};


template <class Handler>
struct on_fork_error_ : handler_base_ext
{
    explicit on_fork_error_(Handler handler) : handler_(handler) {}

    template <class Executor>
    void on_fork_error(Executor &e, const std::error_code &ec) const
    {
        handler_(e, ec);
    }
private:
    Handler handler_;
};


template <class Handler>
struct on_exec_setup_ : handler_base_ext
{
    explicit on_exec_setup_(Handler handler) : handler_(handler) {}

    template <class Executor>
    void on_exec_setup(Executor &e) const
    {
        handler_(e);
    }
private:
    Handler handler_;
};

template <class Handler>
struct on_exec_error_ : handler_base_ext
{
    explicit on_exec_error_(Handler handler) : handler_(handler) {}

    template <class Executor>
    void on_exec_error(Executor &e, const std::error_code &ec) const
    {
        handler_(e, ec);
    }
private:
    Handler handler_;
};

}}}}



#endif /* BOOST_PROCESS_DETAIL_POSIX_HANDLER_HPP_ */

/* handler.hpp
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
*/