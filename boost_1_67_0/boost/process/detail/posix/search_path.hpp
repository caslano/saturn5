// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_POSIX_SEARCH_PATH_HPP
#define BOOST_PROCESS_POSIX_SEARCH_PATH_HPP

#include <boost/process/detail/config.hpp>
#include <boost/filesystem.hpp>
#include <boost/tokenizer.hpp>
#include <string>
#include <stdexcept>
#include <stdlib.h>
#include <unistd.h>

namespace boost { namespace process { namespace detail { namespace posix {

inline boost::filesystem::path search_path(
        const boost::filesystem::path &filename,
        const std::vector<boost::filesystem::path> &path)
{
    for (const boost::filesystem::path & pp : path)
    {
        auto p = pp / filename;
        boost::system::error_code ec;
        bool file = boost::filesystem::is_regular_file(p, ec);
        if (!ec && file && ::access(p.c_str(), X_OK) == 0)
            return p;
    }
    return "";
}

}}}}

#endif

/* search_path.hpp
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
*/