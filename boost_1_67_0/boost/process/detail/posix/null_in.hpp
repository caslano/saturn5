// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_DETAIL_POSIX_NULL_IN_HPP
#define BOOST_PROCESS_DETAIL_POSIX_NULL_IN_HPP

#include <boost/process/pipe.hpp>
#include <boost/process/detail/posix/handler.hpp>
#include <boost/process/detail/posix/file_descriptor.hpp>
#include <unistd.h>
#include <boost/process/detail/used_handles.hpp>
#include <array>

namespace boost { namespace process { namespace detail { namespace posix {

struct null_in : handler_base_ext, ::boost::process::detail::uses_handles
{
    file_descriptor source{"/dev/null", file_descriptor::read};

    std::array<int, 2> get_used_handles()
    {
        return {STDIN_FILENO, source.handle()};
    }


public:
    template <class Executor>
    void on_exec_setup(Executor &e) const
    {
        if (::dup2(source.handle(), STDIN_FILENO) == -1)
             e.set_error(::boost::process::detail::get_last_error(), "dup2() failed");
    }
};

}}}}

#endif

/* null_in.hpp
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
*/