// Copyright (c) 2006, 2007 Julio M. Merino Vidal
// Copyright (c) 2008 Ilya Sokolov, Boris Schaeling
// Copyright (c) 2009 Boris Schaeling
// Copyright (c) 2010 Felipe Tanus, Boris Schaeling
// Copyright (c) 2011, 2012 Jeff Flinn, Boris Schaeling
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROCESS_DETAIL_POSIX_TERMINATE_HPP
#define BOOST_PROCESS_DETAIL_POSIX_TERMINATE_HPP

#include <boost/process/detail/config.hpp>
#include <boost/process/detail/posix/child_handle.hpp>
#include <system_error>
#include <signal.h>
#include <sys/wait.h>


namespace boost { namespace process { namespace detail { namespace posix {

inline void terminate(const child_handle &p, std::error_code &ec) noexcept
{
    if (::kill(p.pid, SIGKILL) == -1)
        ec = boost::process::detail::get_last_error();
    else
        ec.clear();

    int status;
    ::waitpid(p.pid, &status, WNOHANG); //just to clean it up
}

inline void terminate(const child_handle &p)
{
    std::error_code ec;
    terminate(p, ec);
    boost::process::detail::throw_error(ec, "kill(2) failed");
}

}}}}

#endif

/* terminate.hpp
+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
*/