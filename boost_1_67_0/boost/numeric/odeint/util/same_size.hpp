/*
 [auto_generated]
 boost/numeric/odeint/util/state_wrapper.hpp

 [begin_description]
 State wrapper for the state type in all stepper. The state wrappers are responsible for construction,
 destruction, copying construction, assignment and resizing.
 [end_description]

 Copyright 2011-2013 Karsten Ahnert
 Copyright 2011 Mario Mulansky

 Distributed under the Boost Software License, Version 1.0.
 (See accompanying file LICENSE_1_0.txt or
 copy at http://www.boost.org/LICENSE_1_0.txt)
 */


#ifndef BOOST_NUMERIC_ODEINT_UTIL_SAME_SIZE_HPP_INCLUDED
#define BOOST_NUMERIC_ODEINT_UTIL_SAME_SIZE_HPP_INCLUDED

#include <boost/numeric/odeint/util/is_resizeable.hpp>

#include <boost/utility/enable_if.hpp>
#include <boost/fusion/include/is_sequence.hpp>
#include <boost/fusion/include/zip_view.hpp>
#include <boost/fusion/include/vector.hpp>
#include <boost/fusion/include/make_fused.hpp>
#include <boost/fusion/include/all.hpp>

#include <boost/range.hpp>


namespace boost {
namespace numeric {
namespace odeint {
    
template< typename State1 , typename State2 , class Enabler = void >
struct same_size_impl_sfinae
{
    static bool same_size( const State1 &x1 , const State2 &x2 )
    {
        return ( boost::size( x1 ) == boost::size( x2 ) );
    }

};

// same_size function
// standard implementation relies on boost.range
template< class State1 , class State2 >
struct same_size_impl
{
    static bool same_size( const State1 &x1 , const State2 &x2 )
    {
        return same_size_impl_sfinae< State1 , State2 >::same_size( x1 , x2 );
    }
};


// do not overload or specialize this function, specialize resize_impl<> instead
template< class State1 , class State2 >
bool same_size( const State1 &x1 , const State2 &x2 )
{
    return same_size_impl< State1 , State2 >::same_size( x1 , x2 );
}

namespace detail {

struct same_size_fusion
{
    typedef bool result_type;

    template< class S1 , class S2 >
    bool operator()( const S1 &x1 , const S2 &x2 ) const
    {
        return same_size_op( x1 , x2 , typename is_resizeable< S1 >::type() );
    }

    template< class S1 , class S2 >
    bool same_size_op( const S1 &x1 , const S2 &x2 , boost::true_type ) const
    {
        return same_size( x1 , x2 );
    }

    template< class S1 , class S2 >
    bool same_size_op( const S1 &/*x1*/ , const S2 &/*x2*/ , boost::false_type ) const
    {
        return true;
    }
};

} // namespace detail



template< class FusionSeq >
struct same_size_impl_sfinae< FusionSeq , FusionSeq , typename boost::enable_if< typename boost::fusion::traits::is_sequence< FusionSeq >::type >::type >
{
    static bool same_size( const FusionSeq &x1 , const FusionSeq &x2 )
    {
        typedef boost::fusion::vector< const FusionSeq& , const FusionSeq& > Sequences;
        Sequences sequences( x1 , x2 );
        return boost::fusion::all( boost::fusion::zip_view< Sequences >( sequences ) ,
                                   boost::fusion::make_fused( detail::same_size_fusion() ) );
    }
};


}
}
}



#endif // BOOST_NUMERIC_ODEINT_UTIL_SAME_SIZE_HPP_INCLUDED

/* same_size.hpp
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
*/