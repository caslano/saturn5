/*
 [auto_generated]
 boost/numeric/odeint/external/mpi/mpi_nested_algebra.hpp

 [begin_description]
 Nested parallelized algebra for MPI.
 [end_description]

 Copyright 2013 Karsten Ahnert
 Copyright 2013 Mario Mulansky
 Copyright 2013 Pascal Germroth

 Distributed under the Boost Software License, Version 1.0.
 (See accompanying file LICENSE_1_0.txt or
 copy at http://www.boost.org/LICENSE_1_0.txt)
 */


#ifndef BOOST_NUMERIC_ODEINT_EXTERNAL_MPI_MPI_NESTED_ALGEBRA_HPP_INCLUDED
#define BOOST_NUMERIC_ODEINT_EXTERNAL_MPI_MPI_NESTED_ALGEBRA_HPP_INCLUDED

#include <boost/numeric/odeint/algebra/norm_result_type.hpp>
#include <boost/numeric/odeint/util/n_ary_helper.hpp>

namespace boost {
namespace numeric {
namespace odeint {

/** \brief MPI-parallelized algebra, wrapping another algebra.
 */
template< class InnerAlgebra >
struct mpi_nested_algebra
{

// execute the InnerAlgebra on each node's local data.
#define BOOST_ODEINT_GEN_BODY(n) \
    InnerAlgebra::for_each##n( \
        BOOST_PP_ENUM_BINARY_PARAMS(n, s, () BOOST_PP_INTERCEPT) , \
        op \
    );
BOOST_ODEINT_GEN_FOR_EACH(BOOST_ODEINT_GEN_BODY)
#undef BOOST_ODEINT_GEN_BODY


    template< class NestedState >
    static typename norm_result_type< typename NestedState::value_type >::type norm_inf( const NestedState &s )
    {
        typedef typename norm_result_type< typename NestedState::value_type >::type result_type;
        // local maximum
        result_type value = InnerAlgebra::norm_inf( s() );
        // global maximum
        return boost::mpi::all_reduce(s.world, value, boost::mpi::maximum<result_type>());
    }

};


}
}
}

#endif

/* mpi_nested_algebra.hpp
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
*/