/* Boost interval/detail/x86gcc_rounding_control.hpp file
 *
 * Copyright 2000 Jens Maurer
 * Copyright 2002 Hervé Brönnimann, Guillaume Melquiond, Sylvain Pion
 *
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or
 * copy at http://www.boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_NUMERIC_INTERVAL_DETAIL_X86GCC_ROUNDING_CONTROL_HPP
#define BOOST_NUMERIC_INTERVAL_DETAIL_X86GCC_ROUNDING_CONTROL_HPP

#ifndef __GNUC__
#  error This header only works with GNU CC.
#endif

#if !defined(__i386__) && !defined(__x86_64__)
#  error This header only works on x86 CPUs.
#endif

namespace boost {
namespace numeric {
namespace interval_lib {
namespace detail {

struct x86_rounding
{
  typedef unsigned short rounding_mode;

  static void set_rounding_mode(const rounding_mode& mode)
  { __asm__ __volatile__ ("fldcw %0" : : "m"(mode)); }

  static void get_rounding_mode(rounding_mode& mode)
  { __asm__ __volatile__ ("fnstcw %0" : "=m"(mode)); }

  template<class T>
  static T to_int(T r)
  {
    T r_;
    __asm__ ("frndint" : "=&t"(r_) : "0"(r));
    return r_;
  }
};

} // namespace detail
} // namespace interval_lib
} // namespace numeric
} // namespace boost

#endif /* BOOST_NUMERIC_INTERVAL_DETAIL_X86GCC_ROUNDING_CONTROL_HPP */

/* x86gcc_rounding_control.hpp
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
*/