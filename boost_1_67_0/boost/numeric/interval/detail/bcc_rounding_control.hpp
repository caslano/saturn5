/* Boost interval/detail/bcc_rounding_control.hpp file
 *
 * Copyright 2000 Jens Maurer
 * Copyright 2002 Hervé Brönnimann, Guillaume Melquiond, Sylvain Pion
 *
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or
 * copy at http://www.boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP
#define BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP

#ifndef __BORLANDC__
#  error This header is only intended for Borland C++.
#endif

#ifndef _M_IX86
#  error This header only works on x86 CPUs.
#endif

#include <float.h>      // Borland C++ rounding control

namespace boost {
namespace numeric {
namespace interval_lib {
namespace detail {

#ifndef BOOST_NUMERIC_INTERVAL_KEEP_EXCEPTIONS_FOR_BCC
extern "C" { unsigned int _RTLENTRY _fm_init(void); }

struct borland_workaround {
  borland_workaround() { _fm_init(); }
};

static borland_workaround borland_workaround_exec;
#endif // BOOST_NUMERIC_INTERVAL_KEEP_EXCEPTIONS_FOR_BCC

__inline double rint(double)
{ __emit__(0xD9); __emit__(0xFC); /* asm FRNDINT */ }

struct x86_rounding
{
  typedef unsigned int rounding_mode;
  static void get_rounding_mode(rounding_mode& mode)
  { mode = _control87(0, 0); }
  static void set_rounding_mode(const rounding_mode mode)
  { _control87(mode, 0xffff); } 
  static double to_int(const double& x) { return rint(x); }
};

} // namespace detail
} // namespace interval_lib
} // namespace numeric
} // namespace boost

#endif /* BOOST_NUMERIC_INTERVAL_DETAIL_BCC_ROUNDING_CONTROL_HPP */

/* bcc_rounding_control.hpp
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
*/