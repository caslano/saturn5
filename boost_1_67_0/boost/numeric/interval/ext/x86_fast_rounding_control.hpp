/* Boost interval/detail/x86gcc_rounding_control.hpp file
 *
 * This header provides a rounding control policy
 * that avoids flushing results to memory. In
 * order for this optimization to be reliable, it
 * should be used only when no underflow or
 * overflow would happen without it. Indeed, only
 * values in range are correctly rounded.
 *
 * Copyright 2002 Hervé Brönnimann, Guillaume Melquiond, Sylvain Pion
 *
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or
 * copy at http://www.boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_NUMERIC_INTERVAL_EXT_X86_FAST_ROUNDING_CONTROL_HPP
#define BOOST_NUMERIC_INTERVAL_EXT_X86_FAST_ROUNDING_CONTROL_HPP

namespace boost {
namespace numeric {
namespace interval_lib {

namespace detail {

// exceptions masked, expected precision (the mask is 0x0300)
static const fpu_rounding_modes rnd_mode_f = { 0x107f, 0x147f, 0x187f, 0x1c7f };
static const fpu_rounding_modes rnd_mode_d = { 0x127f, 0x167f, 0x1a7f, 0x1e7f };
static const fpu_rounding_modes rnd_mode_l = { 0x137f, 0x177f, 0x1b7f, 0x1f7f };

} // namespace detail

template<class T>
struct x86_fast_rounding_control;

template<>
struct x86_fast_rounding_control<float>: detail::x86_rounding
{
  static void to_nearest()  { set_rounding_mode(detail::rnd_mode_f.to_nearest);  }
  static void downward()    { set_rounding_mode(detail::rnd_mode_f.downward);    }
  static void upward()      { set_rounding_mode(detail::rnd_mode_f.upward);      }
  static void toward_zero() { set_rounding_mode(detail::rnd_mode_f.toward_zero); }
  static const float& force_rounding(const float& r) { return r; }
};

template<>
struct x86_fast_rounding_control<double>: detail::x86_rounding
{
  static void to_nearest()  { set_rounding_mode(detail::rnd_mode_d.to_nearest);  }
  static void downward()    { set_rounding_mode(detail::rnd_mode_d.downward);    }
  static void upward()      { set_rounding_mode(detail::rnd_mode_d.upward);      }
  static void toward_zero() { set_rounding_mode(detail::rnd_mode_d.toward_zero); }
  static const double& force_rounding(const double& r) { return r; }
};

template<>
struct x86_fast_rounding_control<long double>: detail::x86_rounding
{
  static void to_nearest()  { set_rounding_mode(detail::rnd_mode_l.to_nearest);  }
  static void downward()    { set_rounding_mode(detail::rnd_mode_l.downward);    }
  static void upward()      { set_rounding_mode(detail::rnd_mode_l.upward);      }
  static void toward_zero() { set_rounding_mode(detail::rnd_mode_l.toward_zero); }
  static const long double& force_rounding(const long double& r) { return r; }
};

} // namespace interval_lib
} // namespace numeric
} // namespace boost

#endif // BOOST_NUMERIC_INTERVAL_EXT_X86_FAST_ROUNDING_CONTROL_HPP

/* x86_fast_rounding_control.hpp
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
*/