
//          Copyright Oliver Kowalke 2014.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_CONTEXT_DETAIL_APPLY_H
#define BOOST_CONTEXT_DETAIL_APPLY_H

#include <functional>
#include <tuple>
#include <type_traits>
#include <utility>

#include <boost/config.hpp>

#include <boost/context/detail/config.hpp>
#if defined(BOOST_NO_CXX17_STD_INVOKE)
#include <boost/context/detail/invoke.hpp>
#endif
#include <boost/context/detail/index_sequence.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
# include BOOST_ABI_PREFIX
#endif

#if defined(BOOST_MSVC)
# pragma warning(push)
# pragma warning(disable: 4100)
#endif

namespace boost {
namespace context {
namespace detail {

template< typename Fn, typename Tpl, std::size_t ... I >
auto
apply_impl( Fn && fn, Tpl && tpl, index_sequence< I ... >) 
#if defined(BOOST_NO_CXX17_STD_INVOKE)
    -> decltype( boost::context::detail::invoke( std::forward< Fn >( fn), std::get< I >( std::forward< Tpl >( tpl) ) ... ) )
#else
    -> decltype( std::invoke( std::forward< Fn >( fn), std::get< I >( std::forward< Tpl >( tpl) ) ... ) )
#endif
{
#if defined(BOOST_NO_CXX17_STD_INVOKE)
    return boost::context::detail::invoke( std::forward< Fn >( fn), std::get< I >( std::forward< Tpl >( tpl) ) ... );
#else
    return std::invoke( std::forward< Fn >( fn), std::get< I >( std::forward< Tpl >( tpl) ) ... );
#endif
}

template< typename Fn, typename Tpl >
auto
apply( Fn && fn, Tpl && tpl) 
    -> decltype( apply_impl( std::forward< Fn >( fn),
                 std::forward< Tpl >( tpl),
                 make_index_sequence< std::tuple_size< typename std::decay< Tpl >::type >::value >{}) )
{
    return apply_impl( std::forward< Fn >( fn),
                       std::forward< Tpl >( tpl),
                       make_index_sequence< std::tuple_size< typename std::decay< Tpl >::type >::value >{});
}

}}}

#if defined(BOOST_MSVC)
# pragma warning(pop)
#endif

#ifdef BOOST_HAS_ABI_HEADERS
#include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_CONTEXT_DETAIL_APPLY_H

/* apply.hpp
V4F+lbLgR11k8qdp7kfBW6/DV/HkzoBjkf2X+ikdhDs0VJ2GLq6m+8WPpTdu+DA5NZpyEPaQ347ug59InWR4bOIlPVFcyNcGN+psk8rzn4/mG21rbU+47G2DrtPrKzOZ4ODnjL8I/H0OUgfdcQkxP+3Xxe33JUmPm/9DJiF7meTcWVunbjIzu8tID9WbeZotn6Vuy/hj4ccF+qlK3Nue+71yy98Fb5OVV7OjjzqN31UTdhvu0pdON2Px1TSstzrc9uvjyQs6+9vFe/fF6OLEjZvqWA2e10GHNroPG4xGywbN5+NykjR4WV10bFT7WgdXoajjVfJFE3ReNgcp6+P9uyAzEr8lfw/VX5s8fyZNQElnTaZrdJ5rsLopO358HN7v6Im/SRyvy3jD9/DGWd1FXw+SMoJPmlmIHoOj/ByanR1ez4Vec/tBhhv1pcYfqrVaFC/3+kA20IdTaluD3c3O9q2nx4JQN+Q2hZb8opeHw/rIpFQGUidFe69D1MylEtuwpWItGCoeVgxPN6879ON9qTbrc/9O9CthpK2kNF4GuVAnPafd2QPKjjFtjNRi5u1xM46+EqE9PTCm1ihsCks2/22TmeIt7Z4H69/mtPnFzNriXs+L8ZQddzg6VL4yxtpY3eX75En/YRpipr/JN5MVl++F/BQ1703NTyOY/WapjXvT3iv7ZOe17v1Uk3R5jXh3eCp+cvUb1pb9Ze5lxU6SEVsWsN8sOwk47QSPgwDjQ2hZN1qIHt+XbFKvtt5z9A8X1FjNGVnUzyrP0kco5t1CKJ41w9HZypxHfpHr9kBX10kmXhkZ3c0mae1HzF9+nvAsp4x0O5lzhiLb9MGx/3IvTNhw296f5A25xiLTDNsi+AbymaOllLXpMDi3t11ExO6Fs71rbIXqYGFjyZ4d7rybhOppD5HsYEQrbpzH+ddfi+VEkj0f20kb3pOljOJtqPOB8Mhfp9YG/3eyatkiNRpGmH7u0I2F+koTm6uKLDgZNZvlS2uHNSj5lys/z3N4E6W+q1ckpjKb3cZ5rP1r7NOFi+tEG5nrMfNO3GesjS7P+6z2Vq38PNxuku1XxTv5keEe7peehO72R1FBED4dLnod9+s/g8vLblHjae86N6drKNpL91FqM7+H7zWw2uno88TfFzHx3TY+4wxP4jNJ/k+yE4Pn7MrKyqnF1TF/7aUWu92xve5kFvmf3LGwisNHva0geBN1X5wvIfu6rRr+TRafzDX4Xl/bbHjuM8d/2kgkSQLe7HLcgLILuB8fQnF4zKZaKPNu6ZB5YT1u/OmQuz1+cVzXwB+ceebwrWtV8fnnUaPdQYW/b09ZNKWnmok2+BlGWBmjIGUZts2jF7DHzSlpKSEpMC60sjiDxlJDqN87mrPtHG2CX7TWPmHv7n9Upy4+UuQ/HG7q2dEu8E6dZeIAOw37B7t1mekEbOyiug9a/FSlpysmWoymM9d8tI1Ak33QXMpORg1fp4XrBapTsLeB5vHfGX8fyheDS3eMqJhdV2DPcol58XIzFs6O9llzsHMtTlfP6Vy3fx3fX4/5c1Gv8nbe7/pxzHexP7fEovH3lOhl3d7tdeEWM6d7YbfZX8/WfKD6zV3ObjZ2p/eOfInBQsxbKbqnafbquXacG29yBn6iA820aZ19at1nOw1/9sxjzcu9jKWdR+Y35qYKAzrZsfJ9XPvhj50L2du7t/VGAhIua/Yj3G+7uY3vmT2iW9BnfOpFNR5mrr3N/vfNuOYitFvyv6ZGZ4zi9DVFyWDdKDV7ji6nZV2uh88pISf4mjjalZ2WZmj5W13U9ynicLrnmZDqrI27sq51G0zOXd6S8+TpmzO6ai3XL+BAyVGlfoXIOwMX5D7jRa8TJvgEUbMykHYQVFptd+sOQikStcJRRjNwj/joJFZaF9P9CWNQ66KayCKcbk3jxwiIWw1DHo+Pj0HOiutxg90b642yx/4S/dGgS8A5bEjLGt7tKyZt0cVEj/YQHnXC2wg+ODsIAxIWoSKb5z/7gyksW/s/Zrb2XNVuLtrm3Ses00lJdpLMpmwiqrSb0OHyTOYmG6Q7FwJ+57+4SDOUF5CYaOJeyPgVR2WgYBTx9cWaOGRVFFyFDenAur+IYkB+D+ly4lnVaSpnIxs6pf/83sSX/0TsP1+/86M33bx/hUbHRkSfdR6427xcn+aqbBuEvVwGkvhHaSA9D+IXH7MVVUt0ai9HKtGmZmn7tjpmMoIaQ2/61jkuh5uqOkVuXvyN5VZ7//GudV+0uE5T22qhkW14kdVcWu48Xjfw8cNoscs5OckqvHRmI79Y9tU+0+qduw+yn8bcmLTZU6nNfJ+eOqluzvWhyGmzW8vs7Pt79nVRcn17O8vsTHKW6Kep9/Q6+w7UrqaxMV9+f8Kqy/bkOGrrXzm3nriPuG/dUUry52a77rSV0ObgsfxFw5Mvk0G1+Wet+LrUTSeHi5X0YSncd1WeK8xX80Kiz5VUy2ISpvfcR3ktNnKOnoBfs7fOdT2c3dxmd/GoY9dufXsHs+eCRR4/TN6s5rmXzOiWDlz0pDQHpaVLSJOIEsI2xPCKciVkINwNZ2UYeQi1P6HcDRBJwBLB08rGdL68F1K0FWYn2tFydSz97O9c5lb21xjvH8l8GRImcvNujORnX6B0pkfzwzvArutUFa3Q5X0PLCCE/5Yv9Gd3dS4UTbHp5q122Z2XQevxah5tfG3Gj7F3S7Yht7rEMcLkBsHw+jTw7OxxubqORqKQfDPEfzml7JU0su7denNJvn2q3910NxYUONvcvlpupU1XXVLbvf3klN3h2T6oDrj3xSvZ5bSRj7/NP20not7ld2Q1+4Vz2MeY9hXNXDBTf9n9+CjCqqosOH9sqwl+kdLrSt3cnz5MfMp5vvXS0kJWQNNf7fVdPR+ai3413lRoI4Nj1v3uu62zjzhrR1kNXEqIeZMMOts8r7eGnh3qw+o+v+4ggodNCMUootcp34n+LU48VYr/8cOr4uruly20vfQM2iDf/PVcDnPnn+14fPZXr51qttrbjeR8m6x06qOoN/60YqP/djsvLkxGoyry+7x65nciq7LvVUauda8PNsrk7VnvmN+9Gslaq6mY7Sq8mCTRrPnumkVdCBlSe2xvesVjy+uu47A8yqUX6qf7eBmVP/cD4701/SnjqYs6z8IgPcZ7YGSZicpWBahjpZgiZzrhXGiyTak4U90lNjHVfCRJcG1fOLDCc+ic/RkhjmzQYJJp+y31lFAsa6YT54sEOO3CL7EId4n941Bh+Tz4Y09PJ+845PeCw227PZ7izsyXJ9lpd/sVuMPU5qbv6XqYOUPXNyf/yJvOFJ17lsj/8PzLuQ3v8pz52230CDaaibIEPUv7cVBlnPYQufFvOR9u4P8cdwdtOWWblvdsWsKqc7VP3eHjYexgOK0qk3P/OW3DN6/Sv2X3mc0ItRvi30m44m6K/3qOb5vx+E1u8ve6vcRqGXxcymvBkqUo+fKbCK18iib35x28AVjxjhB8ur3cze5mN0Gh0cBguTm3892nJ5S20/VgtP/rIp4qq0S+CKndI5+6df0rtHsu7HWmG3aJymU8rWuJTpv5/r1vaeFcq3Vt53svy861LQsy1V1Vt4nIfFiYPdjdLN47r1trgu6lG+fd4PTYOcBsDKRnbT/sShivCb8lb8rFWxYiNrO9FBT/lYXPSrLtw7+GAnF5o4t/a515y8KMjVvdGhLBVudXZwrzS5MrFHexgRySYw4v1iSbj1C8QHvRf/N47/M6mKIT1dbTZLC8WwiKJC8EApO5wpEBd73WvHOo0bTUlN2aaXmyLCbLdF7AlHgry6e7UEZSWV4yBd4pVnCLkuRikJ2lZ2FKXymg3/myrwXbyYGWFt/sczREbKdhjI/pw47x19iePw+cFpgl/fU779zvdJj+Xuz+93idmsvqMrU3lNoGYi+N6MNrwopB2Uuh3TX37LkM11ZDzF7a+mP2a/3lhvfYW+9qFelx+hbcQQhcoz+ds236mXotu2Udlm9/letQNdTeFVey0HP6jR5Hc13ahfXfP4HXuuACyJJveyXaAsc8ooK6lFG0pUCcAkLI0FBI9WKkIQJAhAMkzcoJICNhRFTl57lO69jlOaDQr1E9BxcbRFE33zy8PU80e9d2QlQjd/577n9dWxTJO5me9rvT3Z7cXR89bVF5s6G4QtSDHh/e0hfqceHLW7PnlMx99YT8dB+rx6HwwjTGvTjcSR9+MuHF8epq/HMyjZbYBL7HJ0YrlwFXxn/7SXbxHXvLNtr9nnfulrunAvy9Z6lS/GniA05fT7W81mGE5mgu+Qn4Yvw32tpnrrKNYBvy/ptPo2pb4mNSu2lqrxTFko+XY9eu+VRt2E+MK5Fn/nFMrp6Byg9tY+uWS2N160rvdk9PoqrIcq8G+GqNnidwrYjMW9wfoqJocxdtg/aG6NlI0ouRotZg6HqlFLRuAVWCHZgwyahlv4Vg88O+wa//zqlEQTuch4bbmMqaV3zvodg6NpvYULgb7S7STdRp/4GCnuu+Rtehc6nYcno3efsl3cXX3qY29HElEbtIbCoBTVSr0nGWOrZweaws0nFmoQbDgbSzoo7P87K1Gj3HdoQihRVUTdF1ezLYtnSIGiVuQS4aD0TwydONcdxcsBndlGnf1eTeoY74a9FofLLc9a8qPAw33e4g+1umOqrwkDvurHXArTCqOV/XfrVkd56kDC1WKcJNUXDv7cw19i1RPr6XjzX6zoktmaVuwnKxpOVNym2Y7vyNckh+mSjpjSfLrapesddM32Kt1HhMP8d/0Ik2CdNzL6/OwU4QzGwTwPsxC26rKbmKOcwSds4ONsiLWTimuI5RHAdrqirMrSt7m6fXKIRIvG5x9Juz736rv06bFlUIn9WtHx16EB0vhu2l++f7HYeXES7Rx+psWkvKuLX5mnKuHtnT0ELoIh92B6ecOR8XPdlv3ECX1GAqylEqSkunmtmOSzFb3/hoKKbc1/UX9Impqn/u+QWYHkJmxUXJEnBfWmlg3zz5Y1BoCEeSluC6nYmXeShnsEDlss1KDAQps107czAPtaRP+lcqa7xNdg0M0WcohMvxteXPRZ88o0btHc/yGm+8jEa9sYEb69V4OdNSB7rdvNv9/hRS982y58NFh8fCnr+evuO8FgI+FNGLxkSeK+byzfpT7X3Lzbzu9uV+Peg4WeSoz7dT88NPpT539Q6aahKxdx2mZCvrrI7UnZmjvuWytVWufqyujmDjQ5FI9qkuwxbfazedwfIjVOSoGeMmE3NwGg+D/e3KqRcVH/Q5v6E1+y6ysjwKJ45FbZflL8pvFld8JvHQtkWDUbR6bENTW2Df7/xLssJWp26/O2oCte9TUKntOi/2yZaN3sLEmuw84C1s0gZnyu/wTlq5lDcOmg3Dd123pITVYrd8Qwx05q1ZLRI3+Lm5UnAIZL2sYPDZBqKhY8KLxw5yq/IPt4wsgozybbrSMwVXbeXaMmbHcWsVTxGgEFYqTgKhZMc8cBwxisSJPCFeVGEkQiEeOLAhwcTAS6qxtWZnjY9AgIAKniHkT7+XgN3rStCMZ6uHBWkZBU4sxG8Av4UIgh4djJ9pZhygdQkF+uiyK3zI02Sul2h/vYxov4xo6xwIzAXcc2CdUj3lAoULUDXH+Vp/5f8ghF4YJRs7fAp6GuA661cxLbDw7ojt1K+JxRUScIORpEp+JGixoXEVhwUB2qBJSokXLRyKMlruvo69BMWKwjwI9IcflaD5F2xgxHG6uT6NKBCBEp3mrg1ymcf9cwggpR+RV7VHgjmRLqlU0o/CgiNqdPD9O88u1onFHhbuNG9S/+HE/KJhnAsNIfYX3oRrLh1eWrd7ef9wzp14VLH1457TBlnr0WF6kKBfiWpc8dMBLpYhflZaRBJNyLKJD9IC6O870ADyJBlYMMFwugbzz7D1LIDNCy5IRIFMoUbFYQErqINrnJEdDjEDmEV+d/9xXrHNCuOUeQic0628LcRuAUIgsOzCi0eBEeGHbJ552z843DNjnACldtGWpQAugAzQqjsLpEicvgEzgAVSVVo2VbAA6rIn8CuNRawRT1cQC8kX0QG81Es3LzGDxmmaXWSXQl7lBUtiPeMrshQ5NpEGnOQVC0n21DMBsk2170N5PP1xpF45AkYSYXQSka9ebIHSUYcTP5K/UT5KhtB84PU6hbjqxIcS6FXKiFGfKuwrFEMFmyghiNtEUscqCUcSXeooQHHJIX2IT5aBnPBIKRlRVxMB8F0oaX4c2IcREg9jOtUyYrEfl71AMMQAH2MOPQLpnSlPAMROb5iEBAF2qooQGJuDbzQcxB0kFltKhChxv6QezjiWRYIL/ca0WySF4ATaM8gPgh0NIthJmq9Rngw4R1BeMEqsSlY0HIRGACR6Yhice42Dbt0wsDmQnl2STkZYe1hkHqKiNr6B1Uw8qIKMVDo1KLYizsYLN2jLGr/wMGVR4HVeQMO2RmErvJc+Q4R4iULm2nYsgz4QlsJtBqwVTayOdR8jvp94yMdoxoH7BmsmTC7rgGyJlQULtg5qJcgZpe8ciyJp2Mr4Z2gVl6AcdfOY2x0Lax+UtzmseS/LuJ1w9Af4pQ31GM4XcFGAJjekBFNDK6Iku+EZRKLl4cHwG5dbwb2cN81tdBFPYxNbmlJjclgJaRnMCfgCPQFeIrc/isBQEUSyX8aBwZ6WZQ+8Gj4apyZ1jP+O0HtdiN7O7wrMOHL1urzilhunGhDRn6C4YUch+CAWvQL4Fqx8x7YwxAmx7wB0AAHy5dmeAgaskhbVSG5+kypLiEatkWOpHUA7iKeDEupFujI2urB43yp5OpUME/1fQ+JKOp6tIQo3hIVGggQcXXVWNCSWy4IIH8rYHT5OIZ2gKxOERZWGHNRRFLLSQOOK3qOEhiyu1HMJCgRbsXMQzshDfBvYTFRNJYYb9yf6uNnaWo5i7oW7ufv6ewGNy7rU32DoROKRP97PJPPgzxARNEjYTb8PBj3ENeqeAfEaaJjM3zGAYK7BuOAX390QNsIzXALUKjyMpvK9Nf3t1Nm/ldDIrJ/0SPmQ8FtN5QZx/g7hcf7R0A/690DGr7PyO6KdfXNZtsS6De44wCWs6iZ/uF8Zfssa2sG+7Mfk377PDCGF0JFLtHets3LfGta/X+zeVcN9sSLS3tVSD7FgLkcM9mV29Fz8bDOfSsmCuFP4l1Anm8V0LqhmtGI7UoiUcUDc2waagdfQ91aZK0sejKsp/1PlmofK0sLOkImV7r+ns0n0mIm1dnwX6dGMuFhH596Fz6Pr2AUQA20Nvn3caNvLRLOLX3J8kD32Eg/k1bv894mFQ1vTT48tjgTUp76BrcbCT8FIz0fHqjsmabOdul829o5n1sA20vtWkN20/i0kD20ge+l9W8hu2v874Wt+dBsvWC1Y+O+sx9aQP87u6/D4VBEQOEV4I66q9LftBX0Q6JbtRIOXxxaF0zGVF1xL4l7t/J6EwjbcpzYouvB+oaL50bw+HR9yIHY/9FbL7fTc7Lcgqfv4XPy1wr1+nuu9BX/A7+RgXWOutsVGAELpt87Cz00ttnf42DaSn3eb9ndR0qy2j/QW3vbt91PTYhF4k8153Tvqs+4OmY+OT3qTJouJTcVGkz06nM3Nz/fs4c5J5v0y0MCbK/SuhpqvzgbbjfAvC3P6tmFlQoFo34xsLGbmvclTqD2dlzPc6nWNGq0/ugG/sazo6PftaWoF9xfvA1+/1YlbMxuXccDJ9TeNfz5yWzUQWs2OMrObQzyfMHBNb5b63tqB6MlKd84wiIn2SelEtBlntW692zLBHmW6SO1L3h2qqS6ZFDzK2hvWo5Hu39NOYvpszKbfZBcO2JDzXutuK+eX/XcsQjvLPBfueSN6rmVMfwn9xYnTZqNNb7B+b4fuFuzaat/EC9s/ODU/287rfIxLzKaa7j+Dx9D7vDH3zzn6vZuvL8bN3y9TE+vR1mziKCNpe3VdnaQF+pkahyf5Oo6nSS/ecyzW+heRdPk72gtqqi0NPKwjZrux8uiJ7+aDozFmr54Mnqt1rNuvEDWz3cBwjRF79LjftaNJQ5e9hbUfPlPbx5apLqVvVUAnascbdmmjjW6Q0i3CsTNLXGGqXm39zzjVNBFyfZyfqaOs4ZDbG4pC30jqfLPNOxrKW5a7z9dIS36SbYxMv8Fp2ua5oPwc3Ovb3I4l++vBVE9PNjZjYLy132fj9IeeKvkwDl49E3Qza0GprIw/M7h43NunW3fw95PRx3Hd3DqSHT0/ZUK4kp5mL66a26o+mN/XbfNDe3xdG8xftiHgWP6fswP7uu+J9y0o4O+api7G39ZT5vs2csjvG/yQvpt5pe8ad+n7toOZI/syf77fVzfn9y2I96aHtqC5sb1fMyj/6IJzTPBUpxYq93CpDvFUbunULvnULkg3wcA8qpHV8ClqfDT1cpQP1yY2Hq1uvRKNMqVpZUq4cpSpfXpVqBKpwFPeWUrPZifYcWXKs8Hmz8Yf12gUqhEy1ganf47AVCNIqUY1Uoy6M9YyTzcVTilUph1U7kVU7Oi8/VrCW+wzOrJAZfs5U6qTdwqD26SV25kaLZoCg50rW3hotAvL4BdSAkp9tdcHrVSwf7IUNUaJUoqVSrOjn4XUwLvRQKlGqVKKIW7gzesLGkTHfrNaHnwx0Ul1FyaJUpl1thqJdZOKLDAbQ6hNV6fXA1lrk4rp7HW/X7quztHzgJV5in1qgbAIfCzc82zO6FVOawW2VFWAyLmfpSCua/guCv7Wv8GVPMEHAbkt8paw4IqasgbekDZ3+bE3ssev+FgLRDb0akskrW8rc75QOsrd4DP1CN0+m75Ks3/gNndUuNO3gWT1Pah4YZwgven9e0jv2kD+0vv2fxLfN6D/s0fzfdPvWdPbxcLfddZKyC0cd6JZPLGK60R23wbym/b/U4H8pg3sI/1/FG7x/LoNPEu744bftSGF1zZjNXr3+a4TC97kh/TRejK22wtqTnz4uFXOsPY5z/kHBFOXknSV8XTN+e/GLdq5NS49u91MooIuePOCaFKPQMP17VA+xvvmZuI7qH/u+50Zt8JbuakT57vxOZRee6b6eO31TACT6o6Wka/Z7jrqsVZ+nsY/OLzuF/ZkLnWU0c62fVk6q01ema718jkbjmDCX0bU9tE=
*/