/* Copyright 2006-2009 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/flyweight for library home page.
 */

#ifndef BOOST_FLYWEIGHT_DETAIL_NESTED_XXX_IF_NOT_PH_HPP
#define BOOST_FLYWEIGHT_DETAIL_NESTED_XXX_IF_NOT_PH_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/flyweight/detail/is_placeholder_expr.hpp>
#include <boost/mpl/if.hpp>

/* nested_##name##_if_not_placeholder_expression<T>::type is T::name unless
 * T is an MPL placeholder expression, in which case it defaults to int.
 */

#define BOOST_FLYWEIGHT_NESTED_XXX_IF_NOT_PLACEHOLDER_EXPRESSION_DEF(name) \
struct nested_##name##_if_not_placeholder_expression_helper                \
{                                                                          \
  typedef int name;                                                        \
};                                                                         \
                                                                           \
template<typename T>                                                       \
struct nested_##name##_if_not_placeholder_expression                       \
{                                                                          \
  typedef typename boost::mpl::if_<                                        \
    boost::flyweights::detail::is_placeholder_expression<T>,               \
    nested_##name##_if_not_placeholder_expression_helper,                  \
    T                                                                      \
  >::type::name type;                                                      \
};

#endif

/* nested_xxx_if_not_ph.hpp
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
*/