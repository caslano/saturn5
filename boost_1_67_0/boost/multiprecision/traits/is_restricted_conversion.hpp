///////////////////////////////////////////////////////////////////////////////
//  Copyright Vicente J. Botet Escriba 2009-2011
//  Copyright 2012 John Maddock. Distributed under the Boost
//  Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MP_RESTRICTED_CONVERSION_HPP
#define BOOST_MP_RESTRICTED_CONVERSION_HPP

#include <boost/multiprecision/traits/explicit_conversion.hpp>
#include <boost/mpl/if.hpp>
#include <boost/multiprecision/detail/number_base.hpp>

namespace boost { namespace multiprecision { namespace detail {

template <class From, class To>
struct is_lossy_conversion
{
   typedef typename mpl::if_c<
       ((number_category<From>::value == number_kind_floating_point) && (number_category<To>::value == number_kind_integer))
           /* || ((number_category<From>::value == number_kind_floating_point) && (number_category<To>::value == number_kind_rational))*/
           || ((number_category<From>::value == number_kind_rational) && (number_category<To>::value == number_kind_integer)) || ((number_category<From>::value == number_kind_fixed_point) && (number_category<To>::value == number_kind_integer)) || (number_category<From>::value == number_kind_unknown) || (number_category<To>::value == number_kind_unknown),
       mpl::true_,
       mpl::false_>::type type;
   static const bool      value = type::value;
};

template <typename From, typename To>
struct is_restricted_conversion
{
   typedef typename mpl::if_c<
       ((is_explicitly_convertible<From, To>::value && !is_convertible<From, To>::value) || is_lossy_conversion<From, To>::value),
       mpl::true_,
       mpl::false_>::type type;
   static const bool      value = type::value;
};

}}} // namespace boost::multiprecision::detail

#endif // BOOST_MP_RESTRICTED_CONVERSION_HPP

/* is_restricted_conversion.hpp
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
*/