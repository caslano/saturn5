// Copyright Sebastian Ramacher, 2007.
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PTR_CONTAINER_SERIALIZE_PTR_ARRAY_HPP
#define BOOST_PTR_CONTAINER_SERIALIZE_PTR_ARRAY_HPP

#include <boost/ptr_container/detail/serialize_reversible_cont.hpp>
#include <boost/ptr_container/ptr_array.hpp>

namespace boost 
{

namespace serialization 
{

template<class Archive, class T, std::size_t N, class CloneAllocator>
void save(Archive& ar, const ptr_array<T, N, CloneAllocator>& c, unsigned int /*version*/)
{
    ptr_container_detail::save_helper(ar, c);
}

template<class Archive, class T, std::size_t N, class CloneAllocator>
void load(Archive& ar, ptr_array<T, N, CloneAllocator>& c, unsigned int /*version*/)
{
    typedef ptr_array<T, N, CloneAllocator> container_type;
    typedef BOOST_DEDUCED_TYPENAME container_type::size_type size_type;
    
    for(size_type i = 0u; i != N; ++i)
    {
        T* p;
        ar >> boost::serialization::make_nvp( ptr_container_detail::item(), p );
        c.replace(i, p);
    }
}

template<class Archive, class T, std::size_t N, class CloneAllocator>
void serialize(Archive& ar, ptr_array<T, N, CloneAllocator>& c, const unsigned int version)
{
   split_free(ar, c, version);
}

} // namespace serialization
} // namespace boost

#endif

/* serialize_ptr_array.hpp
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
*/