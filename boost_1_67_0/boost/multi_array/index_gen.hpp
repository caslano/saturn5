// Copyright 2002 The Trustees of Indiana University.

// Use, modification and distribution is subject to the Boost Software 
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

//  Boost.MultiArray Library
//  Authors: Ronald Garcia
//           Jeremy Siek
//           Andrew Lumsdaine
//  See http://www.boost.org/libs/multi_array for documentation.

#ifndef BOOST_MULTI_ARRAY_INDEX_GEN_HPP
#define BOOST_MULTI_ARRAY_INDEX_GEN_HPP

#include "boost/array.hpp"
#include "boost/multi_array/index_range.hpp"
#include "boost/multi_array/range_list.hpp"
#include "boost/multi_array/types.hpp"
#include <algorithm> 
#include <cstddef>

namespace boost {
namespace detail {
namespace multi_array {


template <int NumRanges, int NumDims>
struct index_gen {
private:
  typedef ::boost::detail::multi_array::index index;
  typedef ::boost::detail::multi_array::size_type size_type;
  typedef index_range<index,size_type> range;
public:
  template <int Dims, int Ranges>
  struct gen_type {
    typedef index_gen<Ranges,Dims> type;
  };

  typedef typename range_list_generator<range,NumRanges>::type range_list;
  range_list ranges_;

  index_gen() { }

  template <int ND>
  explicit index_gen(const index_gen<NumRanges-1,ND>& rhs,
            const range& r)
  {
    std::copy(rhs.ranges_.begin(),rhs.ranges_.end(),ranges_.begin());
    *ranges_.rbegin() = r;
  }

  index_gen<NumRanges+1,NumDims+1>
  operator[](const range& r) const
  {
    index_gen<NumRanges+1,NumDims+1> tmp;
    std::copy(ranges_.begin(),ranges_.end(),tmp.ranges_.begin());
    *tmp.ranges_.rbegin() = r;
    return tmp;
  }

  index_gen<NumRanges+1,NumDims>
  operator[](index idx) const
  {
    index_gen<NumRanges+1,NumDims> tmp;
    std::copy(ranges_.begin(),ranges_.end(),tmp.ranges_.begin());
    *tmp.ranges_.rbegin() = range(idx);
    return tmp;
  }    

  static index_gen<0,0> indices() {
    return index_gen<0,0>();
  }
};

} // namespace multi_array
} // namespace detail
} // namespace boost


#endif

/* index_gen.hpp
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
*/