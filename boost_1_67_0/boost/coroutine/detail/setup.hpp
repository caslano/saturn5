
//          Copyright Oliver Kowalke 2009.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_COROUTINES_DETAIL_SETUP_H
#define BOOST_COROUTINES_DETAIL_SETUP_H

#include <boost/assert.hpp>
#include <boost/config.hpp>
#include <boost/move/move.hpp>
#include <boost/type_traits/decay.hpp>
#include <boost/type_traits/is_convertible.hpp>
#include <boost/type_traits/is_same.hpp>

#include <boost/coroutine/attributes.hpp>
#include <boost/coroutine/detail/coroutine_context.hpp>
#include <boost/coroutine/detail/flags.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace coroutines {
namespace detail {

template< typename Fn >
struct setup
{
    struct dummy {};

    Fn                      fn;
    coroutine_context   *   caller;
    coroutine_context   *   callee;
    attributes              attr;

#ifdef BOOST_NO_CXX11_RVALUE_REFERENCES
    setup( Fn fn_,
           coroutine_context * caller_,
           coroutine_context * callee_,
           attributes const& attr_) :
        fn( boost::forward< Fn >( fn_) ),
        caller( caller_),
        callee( callee_),
        attr( attr_)
    {}
#endif
    setup( BOOST_RV_REF( Fn) fn_,
           coroutine_context * caller_,
           coroutine_context * callee_,
           attributes const& attr_,
           typename disable_if<
               is_same< typename decay< Fn >::type, setup >,
               dummy*
           >::type = 0) :
#ifdef BOOST_NO_CXX11_RVALUE_REFERENCES
        fn( fn_),
#else
        fn( boost::forward< Fn >( fn_) ),
#endif
        caller( caller_),
        callee( callee_),
        attr( attr_)
    {}
};

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_COROUTINES_DETAIL_SETUP_H

/* setup.hpp
XtHiumF07WqsdTtVvPvckWzZmha0OwhqKajL9Gr7vqGGhno5pwmMYvvCk22NOaci6PMaOkrCyyFfrqt6SP41q4CXq0bhc6h1OPp/oENpTN3F/jKuTb7kemp+Cq8Kocw+IBpZ3l1tUV7MNS2rtL93MleFEuy0enIiHJBKG4q0+Wkwb594swIKHr0BCHImsd8518b5APKX8nvr8drzWmrzm5ZxaZDKZBtvKawZT1Q1w8IiSzWy4jSQfN8nfl8HHlvOI7nHbriNxE6GWN8fpURaI39mwA1OTqK4/pcXG8F8//OOudxn1V0xAwGQhSKg6dG+gh/E/1iCxKwqDIeAfTuEovjj7WcBKpDJyns8iiTDw05gie3/euX2qQ2IBXSWtTMkdNIcbsNu9hkPg+2d0r7/wOPr5RFWwMYpFowSl6C2zPF5v1z/lX5VvdmMUxsZTPJK17ERVTbxOy7Yz0fPkbelRp5S4o1TObNjEPeWtWpHIx5uiB2QiskvhzPaaWK/86p9gFUCc0pcKa8zT1+QI3TpzkGTmh/QF7694tgfyYL3dB1fG/uNwaetivTkZNXcAv+0ng2nQpg48RmfwDf0UoMN6AkEofPhMAFM/QIGOjjaHZTG2Pa4Q9zK9Ssf9gQgAcRUGaDwMFLu9zypWPRjCkTiHrwpGHDNO8x1fAshjO5Pj0dwdT+qZEsoIJXfCUZYfq5D1mSj9zibISMcVpK86/JvQ+KMmF7fRHK60aSsxjBacRsi2hwYf5m6DjBcHOXUYhcAW0zVTvF9g9aqAd1oOAp1xYgDoNqtGUNXtO/Cv7CnmOU9WWnDemMOQ4+04XphECLIwEV3Z0Bxd6Q97S41KDnHRbZueJyO9+dXw++HQD3U9Xqy6DIqYfpJyMbbDyu9lPkvRoHeqJ60POHkv65bGAACQWd9IuSGB5qwf599J4cIrRSFo38e3Q5VATItLAHUSuKkE+2LH9TDunGAZ5Ke0lovG4dpcexfqKqmLAlqhszyRTXvQPXbySwJwUE+i1jHlEzheMF7ba4uo4it50bVGKLpr02LFkO0RBsQ7I1fQ2wIkKY1alNn3KKlROoJGw3DShMDipZAVTsTebXuKCFiuh5pE5pmkL7VjiZUqZ1hb4KRhXmDgG5EkFcsEITBDnYrAtMo0O5zAqjFNND4R5sqIjyiYsbCueguvxl11mKNwmsyiHQN6Kf3kbf2YTUIyFpNZ5c3x2iHinwdzqRp6mDaaD2jpTzztLFJPPdrXBM3MmoBXYRCiagXTWXM+6vg9gTeuFeKThKt0rg4EuifLvqBffvqrw1Ebr+9bnvIBNU9UuDSrrDVWD48J7F7hA1GtTMY7cdIAkVCosefEmiFNP8qXk2yESsSJTDOb+sulHUc2YKDQWbAdmC5sdWGPvvMg4JGzQK70pNN42OQtP+pC83/lShGD6n8fN77mjAho+oWOJ4t3zHEDvq6buqsBrKKbpwXUx77b9XiSvaWwYPmj4OuiVk2K2FKhhi1sXBR2NUHCqGBtARONT1t7F+DCDQwJ2/GS8eqwOORBal27gEoCDrfAtYWJeXtrivQ1cIUhDGlttYXhSAnLpEsQQj8cAMN5ek1JqZC2BaIxTMeIv+Fh9gmpQG85MKt71t2l5GRD05U33u/SyOaOCloogSctbVVfHXddv0ygGnZJyhoE1Q3olka+ffyVnEhKFOZqqE/atDjfi4Gw67MIPZxW0F6WchKFr3ft4uc6MuM/rHuisIaeEcTFrNKwXs/u+KlzMwGVuIksyro5dyuFxX685B+MTGU7gRRMQey+VU3oezotYef8WfAc0Ly6+HQpDYkOuCTsosGaMBcTnPVVHPkD+nHJtqAitg9VUiXHjZR24xxeRlua+PohmVoOJIvRTm3YBqSsRE66sYjYB5ghd8nNC+ylC7n4MXjMIMWTo+l+WE6OmtSblFUTC4MBhydssJONQuCysbcXLtwd7bQckvU6PiYOOnQ3O3gJHuuF2YqQ4KsHWygy+C0H+U346hyBZYpf5jA/QzbM7Di+bQ/D9NW4M3nGG64VFfK0DgMla2+g2EOcD144Ej5ZTxniyK12/imK8lnCMIrjmgz7nAVhnq2WoKPY9BLSsCSj6X8az1tHfxarVRx9SjRgqFKVpH9ILwCyvvjUc73W84bIbUp9S63RVcY8Z0jVPkQxSxA79ZgSu2/Xw2geM6xAoUsrBfSi3vyGxA7qzgzOanWWCpiP1yz1sJ44tU/K6IwHIMz0QUIQ9BBsL+CrnTS1ReW0STR/5W26qTtEOtFm398dHhdXVvWSlSxOLSrBEdFQ3JcTnmKNbOiD7MU+ptvXRFwRvJiy5aZmaJBrTCBH7NQZBAtijGEQ650RwOKH6rSNKnrKJadblahf1uyaIzi9o07jFiAvnMHFexaBWclYAytvmDvh16/6YoFZJqSYFk8IrmExN90QS9YofhMtM0PJR2uN/gMP4DWBT6p9+Dmncr2MIl5fQHHStAly3NjpuEDr8k8BRInqwXvi0aXevNsMV9E1NLQ+wc/f1kLFw9QzghZcNGjIuJrtE91LTQ5L8vWI/PNpdi0M4L0QIJmENZTTNAALA3HQ1hhUxeoQJvj2Q3gKuxknhKO3uRBRl2UYzxCzKn+GeADc1VnGZSrRNIkSdO7qUSEG72HaH5islHex5XaVoS1BLNo2m4jicYcEpdsGMJEGbH2PaQi8znqqaq5YPE46R0FmPAb2kDiv1kuSCDWbMyhZ7F2b5rY72FKJm3CkjDl9l1cQRS+o+XiRGWRKq+RhDeriFJOOSAA11zDzc520Zvd1A/5hMirA7c+G/hGgD8tqKr9huD0MQGE3fcTvUTUkIudrfq73yUMu2rBAHUA+nEzbSmCj7UCi9MxGdw5PS45o9YOIw7ODsPWow4FhzoW58pixbpnbr0tGbwDkiaB4ElD1ej6p9ieNrIAG5V8NFA7pNBAdUoNug05omytZ/vn0wTgf2b2qEXN4yes9C80uvXfLRImMxDG3wAwj3Ceb7fvk+UfMu11Ocp9H51OnuCcLcpzav6QL45pL/nzHWVuC/0EfvYLPwpJYt53XSlh6DFhtiEU0QOXTZcH20nuniYVJQCotXAlR3uaCSqEjPNZvJiH04a8Oc1pnKeXpCgoD0/tkMPyj5VxC38AjRXjXsN98MVIczflB58MTOWkLjXApoaT4zNloYio1+0sE745OqI6W1IZbDLVT03b/M7bYYdLMo/FlyBb92btmoO3zHYr+z75bBdgut8yerZ8CFg3U+sApa4bV/vxIj632t+ynMkpUHzA9qtFvo8hSlLId448ir9wjX5sv9E9weCjFpds+azQ5Yl3I+HCw6vVPD9vHdiajF1rVrd8uINKj7EAzajd9BWifGw+BEWho8N9IAE/ROArB+KF5NOTDF8wGexZalVs+M3OfZr12Ad5ok/2pxP89E+K1YWCPIz4ok+KqfjSxUvLglrZWqUzLoCP1DMWbGsdMH+5x0/Z0qMC68S+xte8YKHSc4MurkOgkoIvu6/NqE3CKhJTsyiuWB/B4TqAFegjN3U3uUz6/DGN0JFfS1Dph2k5Q7d0q/rUyoVJ/VmYh19WJFwgYQgenNSGG9auLtcNpioTpUZ08KdLGc941H8PAqPgp5V6GqBKslvJ2Xk4YPTB1ydFkEQmr3CpyPB5a3N9fWkfOW/vFkmMuqjiIqJccjxS1n1ui1yxQ8NuVXSJwIZXZZClcgc8Xdxw5ZLGWuNyBQnArImZADF2pfSwzRfWUWEFteOvw+19RZdt/pxZEtiobkHI3DdHovc0mqzk4vN+MMnF9Dz0Vu+6WyyoPzu7U30VwPAAsfqJyFbYis5sagJITd6blORSP2sv1DEM1Ykj21dxzfgW6EI873wT1dokJB00MpknNHY5kgCRrL6SDb+Sxr5q4hiefvX88JKv3jfJHLCAYP9fTHXi3CzOQAKP9BpXe8cpuLgPseR+8X5pBTRFSezBjFfoITEmjSOJA7Ojsvv4O9/79Jfm8dwSOW1Cx3UrySWEMZAer2g0mlodBvIZO3XceXOJ28EQezx3dpBwkNYrdFplSarwZeOq/2Fnnlktk2iFBldWTTd1dm1qgi+P+asc7xeZFivm6yrHL8wk48Sf0Ajd72nk8CCNXMigB9RJ5WPhuVllAB+ytyuPRjn8Jer8Ax/l2w0Dkq9TIFjxlidTQzo5/JIpOziMXm3RxsbGIi4+8gPCccj9UjGUJo1BJZdIAVAsVzeZhz8W3ZshKJOpfdcA2eZK3YclH5pB3MEb0+jHIiYfRCHWam0hzPo42VJfBKzz3JW/2pjxbhVj7wqa7xz9NSN1y55HDhxmyN/6p4a4c71MsgTsUUGZbOgMwGklhygGuaOd2CcG0lenaGXB4koGmIPuREzA4dGsrjhgIiSsRitgA9ZZigRkwFtKx2IVEzw0wKyhEzIALjGZBjlqVEaipEUni+FYWn3IMRiZW02bHLCoqUBKFu/frY4o2uEycYqhWJRMH27U5wVJW1wGENSrSAMDeFspP00VxliTXhFElU4gwrDfKk0JkxoM3tXobq2bTNhqTDGdw9BVB0amFXXeoeALsttKjdqO7c9vuQY7Z4mRl4Rd6Ydndx4K+D1iM2fimyxVIaUGvmc+z0AWd5JiRKi7WtY4hhRoLvo3nZrv117vyLTUjL8mBCGYiHm4IWFlDzXTIrmaiIbgYDmUgrz3MY8mLIWHT3kxgHJFhwn7Bh0S4m3gcWcf9xhYUq9FKeKDiBTHmXKa9sMseRh0ulPR9s9D1EZ8ltFE0vT+GpXHfsKYtRVxJuFiR/pPZ1iddE5Ki3jHnsBPCu5op5hTAkF0qFMyPxdCesiM9lR8IYButUwdEoh0puXCFPPj3R/ynC8HoHlni7mVZ9FHdLx2ORWpL8d+3lrIWmoV9aMo/jCPP8l8WSdZWv5qabEUCss7lYJIvCOoVg3A4CIB0NoKFENREuOcea57ZAiRtlSOQrRTYHAo8f+ggLILt21QQzOCVUuOQ+OuHC2U8ZcRUqxIvCOwehFOQyIhRqXY1yVbYtA8s+g5phhcPGkj8oXCpvlqBm2FNaZIqX/3VacpaE6b6+GIC3vQK+0Fni0BCky51wQOOHobFcZqOux1gW80L4/Dc7Gf0Q4KBD2Q08htB1JtYb7ERkykFRSORx5JzASzkJngHYy7phwbeg7ULtzlXN6OkgJdceOYvhm6TIhK2TSCvYeBPqOwkvu2IySu2b30cJgmoqBHeGvKMkG5d/Vf6S1Un5fvKP3Jm/KwGZtlFqO4k1BEzNxlIxXZaPef+j51ED278eN+tysZSPqpencSWS3yUvWeDVzWDNTDF3h5vD5+pU1gTz5KmRZddpHSYq7cuW5FSuaeBsvZF+3XWmA3rZeugc374g8qy5gs/eqnc7T1A5yqhkvK0efrBqxlNaEl7ZuWVMotOQeQB7PMi5u1h5Sm91JWsUKhrSqS5I5wbYp3tYHs3G/KfrG0icL27X70hgjsMrmebcfqdiP8BubOSFQcOfrtZbcmYFRRNBqsXpggr5p+MVIAaC6FStLL87sd4tfiVtwU6o3Vkl1NcOUcse24WnbdzTBDzzd4eob6AJA+43CxUgD7v2cUZ7H3R4WZW2+HonMYyhLnI2FkQJYIXmLWRmgiXXk8ORMyo2qdiDkOAm9oRQ8fGyacjTuWvmSPF8ryGqEW2kzCI4RhOiUDCv63wJCe8+4enEivRGXiKIQuxETDS4X3+gXIMfqX1DPbpPbULQrXM12ksb3NvEeeifs6HPBGjfKiEXsDTaKMtjl+rHt+HBTje+k1guO2d/XGy+71agHTDmEbJ8cVFCkCsKpZPPB5AdcpIRLwnLIntmFdmYUpu8FtyvNk4Vtn6O/t8ogF7iNvoJAx0rw2iwzX024oCgBE0Vqntm0bt7Zt27Zt27Zt27Zt27p9WF8wySSbbfS/pHPG0P1zcYFjFoXKd7vxtuPNtXBry//uaYRlrPunJSLxTSDIzrRYH9EcwbPuMXdg6E7h5qAXwjVk8NFQXZvwKFyAFPY0n6dvsr7BfAzhFVc1Z0h4TP9DJMy+2l+ndesqCecHrT7z1Atq2voaH4G5e49uJk/ng749+5SS/4SHXZa6tS/FyrlXQZupahrnPdI/1/d+CrMMOkITD3hYlhElWn+ld/qFfEs0KO5nj6e+481sHKYCe915T6D+QfAsB9ZTY80NzjevY76zJO+tS3S68gr3/iRkNh6quNdG+X5A9wreAFqG+ZoCFpC7r9uOixnvbMCZSq699kVX77arU4IgSouP6xBiK8s0xjoEvozs9M9TZTMGOcQ9RQT3sGVZMsOc2Ufs50yxpcg6ACbr6xgpZ1Mv974t+RdN4NwL0/0sox/88rB5Ekq/N8SsQ3qsvlmxUH3udFXKzsxImWCLTld5bkME/xI9NJ04uXJG9ISde3fLKGDHtkP+1TqP2uDOk2ahiYXvfcmvt8ViWkSw4651UYZjkB5jyNuCk4O47HQSyKz5SE2t0EkBMmXlVpqN5STpVWyBMtJcgCADBwNqgM6f5IBrYkG6EHXVtBx5UmkeY9o+RbfxvPfmy691MWtuebM37Bl7cEYOVYzHecb1aoEwNRazcz6PWP6JlDuUS/jRXK8ebWo09wulzb4mgxl4mdWAHyTe0uS14iBkC6Qut/ao6xvoqDVhzWerqNwF9nMcRtGYxJZAYlp5wNcVK306DSaVnlIlkYQr2zKjpvokDR2017So5kJS2TBcT3A7blEtEtuDdABLIbGrJOoAB/kMgoo9o0eIEOqU4ohEOS1hovZuiGqtI8jRbeW2ZQ5Dx2aoVm3CK8d36VXy2qQsT1fC7OdqyAaMmOvi8R/7WJJIqQfml0XV+omquiUSKKzRm9fCTDPumCmFEvpyw/ygALStcb1FpmibdG6LTmR7JzdkHCp//QW+m3TTUXgjNaMV+X5Ikd6EBeHPP+Tul0QGpqcIRNw2KvrVtX4txguEfE+EO2pM+NKIs7U6OB8x9cMULff/iHEMfow9+ocKLgVrwEB2jHsdeGNpww2olZHYuyKcOx9/iMsPTB5KprrRLqhkYDLDP8eqZZ5UQQy26gdOb0eutkza7bTrT9EMad6HcyTveUwIN3Rp/n1ByPwUzVneL/lZCsLQHDa9wWr4NLY1pvUtgM2gKdQErUzrt9r13glrVBv7cqcSM3c9d9yNo5tZ7NRL1wYGlRAszOMQnpdnEsBapg59obTiVwZREYStgHx2spHtXvJYISwaAb9BSoF5DaTYChT2UXBVAEV78Iiqoh22jNE/qO4s4yjOHGdZU6uuR0VtSgU/LdFU2AbGGf/AjnCTVZoS2RIolNSRPnhbsG/QSyXfEymEYKZ6otZcGlF4f6HC5x5ReQb2X6Myzsa0Wypf40nN7+jz1l7BLUma55aDppXQAyudSXA7MaPIAYlOyUKmIx8e80grSokzwzFxJrq55WAaGbf8FBJ9gNwf7/2TzBZrFaprReHNQD96hQ0sFVcG/myiVOQZNFdLcE1/bS6h706ggXMd7TzheV5ulaIOobVAKVkqTBZ6DV/7BQ9a4CCFcQ+RYbyerLWW30W3RujwrEtwoWvhipZBJyRElXihyCOfC15HF34qinoFgfr3grWvKxzGey1jN2SQr5+6CDBIEHEMBqFrTHIJ12UepcaEfh0M+6lOb4ZuzalIWkBcpHeBBoy6uHYJAJJaT6kE2w3n6IXyIt+W7vce854wqMXpMHVos+wPI2OvwWw8E6SRaOUgv6K/I1/ToKH9vbjq/EBbSic27hPHIgTAduhTJWj7MIWbO5gqwgfSmVYeyX4Ybts+RCqkeT4D+kmcxPPsB2Qx65XFmnN1BFuaXRkLOykHJE7uOntPlt01i/i14L3e27WtiyP39d9gTasQhixEKohlEIE+o7WjZMUjPuYNM0YSKNy98lV5Och4uRsRbzWMgFJngo1r7Bzzd8+k/6Mro7jrMTlW0ja9xYHv3H/klBOESWVBySoteHEicShBCxdhVl8jhUxrbXMgpaLHav2ImHBwUs0/0fGzlxTs2bgwYA/uZl5aO98MfjhBOkPTNJNq1+jLormKM26la6/FiVU9WIO5vJsWbivI3MGA62OVM84Y+3CXANI8HAiStWuem/o2TViM+0JV2CkMvUvnptiLtHOv6SjhKaMMHy7CPkq6xHLDRl++FM4z1SoEIiy3RJ0EC2gfYqyy1DWwjSOwtkeW7cWayqXaGu+i7B11Yblitzk9kN1ZO+9x5wlLKGwOs90XaZz16EV7KgwvkCh9Ku678DHg4RSf12Tqa3WUhExCGfJ5N/k73F+bIq8/Umh8bHKtpBVzG5KFhxj9Re1oB9lmVJ/6NvAIeA1Al/t5aHkmAJXXuYYrTozTE/1D4enfxi6NQl/q2SbYxF+3LrWe3uS2uDAMzc2Z5r7G2vL0wUuk6jO850ngAfZ8H+5+WKh3FpyCleGU9nfVErvlWurgroSDuxIycxK/0epBvKEqrEpKe4T1bycElJ7ZynAdRvgwef/6z7lwuVAnn3nLqgubv/xPMNs/nvqY6sWgx1j0NKLqZz0b07ftTC3+CeLhor8AU9LLMUeMYQyaNsXL2T12xlF+Dn8t07OxUT4hIVPwDBDCYJWcapk1EBerRxCf1++LfiuYlhWsElNGflX8W9+QJt0vxqhlJ4RdduDVOq/9LwfUwO0S/ht8ue19pXI88oZ1XEbQyNQxrumACQ/wIXFGlc7gJA2tVAO91yn4NQFARDyYA4OggoAEneapEe2svNEx8oYRX3gqwj20IScjcGN5xEB+Tda6mJNuBnkdkEQFQY/QpAopI+jT2rZUaFjKS1xTtnaHqZukieepoXBqVQ6V/MyIM9hIzCZEo94MmrvykQvuq138XwI3pUoTwH/ZPoIBjIQ+zXMpYsm4rlXiBfAYbLZqTFKD1r0rSRdeRnUU+pKUFSrWn2IkZTxpwGvp43Q0P+P9eXE1eHChU2VHQ+UHD/oo4wUvPNPnZPafm4eFblSvZPmKx5fGzG+6xvA/raqXolR+IeDIArePx2zH7pTVLQL4cMMSaswBvD7RnXK/ks6yOtHhPIaDRRLBIiCILK9+I6E1SkdT4Y5rGYTGS4xva0lBKOCo/uWSpBxeu/pwvJp7PwAjNKybC44JBlvA3TZwF43QR4g=
*/