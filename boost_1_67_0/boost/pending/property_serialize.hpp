//  (C) Copyright Jeremy Siek 2006
//  Distributed under the Boost Software License, Version 1.0. (See
//  accompanying file LICENSE_1_0.txt or copy at
//  http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROPERTY_SERIALIZE_HPP
#define BOOST_PROPERTY_SERIALIZE_HPP

#include <boost/pending/property.hpp>
#include <boost/serialization/is_bitwise_serializable.hpp>
#include <boost/serialization/base_object.hpp>
#include <boost/serialization/nvp.hpp>

namespace boost
{
template < class Archive >
inline void serialize(Archive&, no_property&, const unsigned int)
{
}

template < class Archive, class Tag, class T, class Base >
void serialize(
    Archive& ar, property< Tag, T, Base >& prop, const unsigned int /*version*/)
{
    ar& serialization::make_nvp("property_value", prop.m_value);
    ar& serialization::make_nvp("property_base", prop.m_base);
}

#ifdef BOOST_GRAPH_USE_MPI

// Setting the serialization properties of boost::property<> and
// boost::no_property to is_bitwise_serializable, object_serializable,
// track_never only when BOOST_GRAPH_USE_MPI is defined is dubious.
//
// This changes the serialization format of these classes, and hence
// of boost::adjacency_list, depending on whether BOOST_GRAPH_USE_MPI
// is defined.
//
// These serialization properties should probably be set in either case.
//
// Unfortunately, doing that now will change the serialization format
// of boost::adjacency_list in the non-MPI case, and could potentially
// break software that reads files serialized with an older release.

namespace mpi
{

    // forward declaration, to avoid including mpi
    template < typename T > struct is_mpi_datatype;

    template < typename Tag, typename T, typename Base >
    struct is_mpi_datatype< property< Tag, T, Base > >
    : mpl::and_< is_mpi_datatype< T >, is_mpi_datatype< Base > >
    {
    };
}

namespace serialization
{
    template < typename Tag, typename T, typename Base >
    struct is_bitwise_serializable< property< Tag, T, Base > >
    : mpl::and_< is_bitwise_serializable< T >, is_bitwise_serializable< Base > >
    {
    };

    template < typename Tag, typename T, typename Base >
    struct implementation_level< property< Tag, T, Base > >
    : mpl::int_< object_serializable >
    {
    };

    template < typename Tag, typename T, typename Base >
    struct tracking_level< property< Tag, T, Base > > : mpl::int_< track_never >
    {
    };

}
#endif // BOOST_GRAPH_USE_MPI

} // end namespace boost

#ifdef BOOST_GRAPH_USE_MPI
namespace boost
{
namespace mpi
{
    template <> struct is_mpi_datatype< boost::no_property > : mpl::true_
    {
    };

}
} // end namespace boost::mpi

BOOST_IS_BITWISE_SERIALIZABLE(boost::no_property)
BOOST_CLASS_IMPLEMENTATION(boost::no_property, object_serializable)
BOOST_CLASS_TRACKING(boost::no_property, track_never)
#endif // BOOST_GRAPH_USE_MPI

#endif // BOOST_PROPERTY_SERIALIZE_HPP

/* property_serialize.hpp
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
*/