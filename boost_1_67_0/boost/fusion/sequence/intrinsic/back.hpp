/*=============================================================================
    Copyright (c) 2001-2011 Joel de Guzman

    Distributed under the Boost Software License, Version 1.0. (See accompanying 
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/
#if !defined(FUSION_BACK_09162005_0350)
#define FUSION_BACK_09162005_0350

#include <boost/fusion/support/config.hpp>
#include <boost/fusion/sequence/intrinsic_fwd.hpp>
#include <boost/fusion/sequence/intrinsic/end.hpp>
#include <boost/fusion/iterator/prior.hpp>
#include <boost/fusion/iterator/deref.hpp>
#include <boost/mpl/bool.hpp>

namespace boost { namespace fusion
{
    struct fusion_sequence_tag;

    namespace result_of
    {
        template <typename Sequence>
        struct back
            : result_of::deref<typename result_of::prior<typename result_of::end<Sequence>::type>::type>
        {};
    }
    
    template <typename Sequence>
    BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
    inline typename result_of::back<Sequence>::type
    back(Sequence& seq)
    {
        return *fusion::prior(fusion::end(seq));
    }

    template <typename Sequence>
    BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
    inline typename result_of::back<Sequence const>::type
    back(Sequence const& seq)
    {
        return *fusion::prior(fusion::end(seq));
    }
}}

#endif

/* back.hpp
//TCZG7T8LwjTG9625JEAk0pL02qmRw0Afo/O8cEOPyZqt28o0xBurPRDjnANcwYgUEpxQDzgLV+qCg0v6cqui2BYdQkDP3yzliHfnYns2gGL1YdmhGp2lJNs7SaByC8P8CiWXDOnF6K5/Sf+Lo5+qcaRaO5JVK1hiaKPPpSpsnCChrNNTRRyyySzDlfYS6WWRyaMRrWMhafR+w2ExSs4gSlq1rDE3bGb2NEl7RDqnpL3rEsznz5vT00/kTrh0LfD1v2UQjzo+YcgG2gpB6mt3DCfOqxYT755x3RzgNLr/8xTCgEpvJWv9ChpsUuc1Y8uKPfADRGbJ/vfxLhItrN/icxOrQp4ga682gD9pio7R5AmTy6KMXaEDXYFdnChzppn3vEajzcaCcVB0/Lm0efMM7S0POO9DzIwrlT3tdGy6e+3wy+FV9mmvnGFlP+hcU0qUUGO8U88rtEEroEZtBz8NFRWyq3+VGmO/3QRsMY9TRcUUq5bsaaphTFk+zjRuGD7I7L+V5ot0Jn4fOoXSoDfWT88Pjd7f1GD8QHTVoP+8bBW7YcZ7BeVlJ5s2AyRHiZIcJrGZPENhUsDQoWFSkd6NKcMC8t2UMttiLxyu24MtR0RM1VLkbUzCOUS+rM8Jv4kDdSKjbesEFtn3+uN9u9aj5MAm+wE+Qu2bubSShygRtTbk90dwSAS7ZpjqGEJ3ZzVsa+ngvNiJ+YC+FQWK5ISOhTIQc4NG08b3zm8olDEf0V098ktfnhu5ThQi+7f49HZBjJk1BnWmhTGn0JV3neZjajFmqFud6chk9vsJm4b3O9QfmP+V8aNQoEIZuPEy+aT/nQ7pc2HSbW7FUYVzgSL5kEc0ijvWHYTfCzcxijnjgfUK0KGIJa3aUcWCertq1svgQFO7RLndqGmoM2HU+PSny60VZnHfc3psj3h7vh2lQJ16ZslFj6UJxBLFjTvON9O+W19nO5dd1tJEQPHHEkRg/sdwyOHuh1xAJZj6tulPm7cI7j6ybNulVMLfDPPqFbc/4lPlHlr3ABC9bUGRyYBY+8evnNfezpmR1+wjvAlC7eIWwFuSzhGErZmdlLgm1tptWejXWr+DGuvDzZSolXqeIluYWjClT962xc/SQg3npVAWXMtMZa+gKxa77x9HiHzZaYVrnhk7yhomkZlAClI5nCJZt/hlT4IrFNjya16UEwBJ2jSU8a67hJ9++0nC6eYFR0Z+jHTluozaHYkyowrV1dFS727EkTFYjTrijq6Fw6xwRz4MZutNXHW7tOrrqXKvk8Nxm3ulx46RBbYhtS02vwp/SEK+CN7wpXuOSzLbQ0jJG/abGUfe4Uk6qIXVcGtzldOKiafMtpjy35OFi1zauJbSOT2ubIGeNtIN44B5TvtNyww2qcN1Xj+IypZtvkqLbJDrc5w22upKb5gWn6NpumJtY0BXXyrqXcNLY01TS5svwSbhpcYLdBePHgRFG1TDZaZiUN3mhALr8PRSjgKJIs8xU86s1rbku6owepTHGHIqGaPnm0HlFNF/7OM3i0sgXKt933PgmHBfVigIkzbIFH0CQ4OXXeRNJHRkvlfy3NhO2vv2+K165dwLa/qwUPbpF+c7Vlu49eYF2LVNvpavgRNRWAfrYAg9wc4lYJ6mNjc9K75vFmFer4Y5etxtddGp7vNJtADcBzN8F8V+JAqrHG0ZwkUgFAPlCdKz31/tVAmm1xi0eANRsIZrc4fEY0lbpclNAy1cnrSHgFwxBvOD3MlgBINtcYBpcDYIhf0lCyah2ODC4d8JzDEE2it2jWWV0OXAxyKo7jUEWuLSORq8JUabXQZoU2KjP6NNPQPI5ND+OYVtc0VafCG0ltcF9S5y4wQOyLjpYpzUwlJDJUqFwwSPdImXEl0Vgsh8Vs8DmeN65o5NGE4eCz44KhgX3dWKo89JetPNID3+p3isnsja40jn8PbeTO1hqUKqIvxPOsG+yDwxLrBR7x5P2mXww7R23Wr6+hNrphG06E1G4asQTjICnyS+cmxhIMT/L77yyJLvZ1s0CB+1UZAzTlKCp0vJHP6vKCkdVAB7Ai9eivAAu4NOYwWgDS5ynucytCx+Mf27QXYYgqviS6hkr35qlhWP4K1Mlb6TeeM5a8asVvONXxZ5wwi+OBdxzcU4wovBIA4LXO4qxt27Zt27Zt+6xt27Zt27a9e/e/D9+kadKnaTrTpOkjeZ7xNL0H3mCV6QLD4avNQJjOulnCxP0cgNyQTgP5UiX+kgIvKqXMZPaP0KP+Ov1646l6VKvPEzUT9PcdScAPUEayl2xFBrS6q+uC0SvBtiI7ev9lNq60TmTsBWmPX+z6GBraCxLI9tywaIkMmNPOFnGC4ulBduaYXUfHiWcCPK+nrMn62A10IMhTfCRojktgTaBgU8gK6zoGA1Y4j13H+VF8V9dwwFsL7LCZ/dIifXGmTz8WfMGkP93iIiGq9mGzcIY5UX4dy9cEYjY4ny4GsGqIRhZ5I7ykKszfrliS/J6lsp1KrmT2OBbyTY5dxsUgCK8i7SHF/L9oPmVMtC6lf+Pj2LrHGR8VFwtgUG/VryHSUXBvAbl62Ymu2F7NtHn7THWZIMEHqzEMp+CLcn2D4p74GVzEYFyvAeVYU3MFkxIZdrpsLHSyPLOu1x7LSCtSnvMZYZ/ncWhLaK6DTtAGBJPMt+oT+K71VaNi4DPEinWCHgrww1SeumQXOEb12M+wN55kvbKwdjn5P3hBqwXiB5yOL0Tky+rmB2KzGMBVcfC0VAG8M0xFX/NvgcCdZgfpVBZMsmuB87OgpqK9hJAd/mrzCAA6y1q0/ZGCwjWS20ZVONclYO4/lajFvtNjfJpQxQvM0mf1wyzmEMDU1eeapxdv4xQCU3YuJ+zM5zPf1gk5zj9zbpxxdDnZLMQQ9IHC7vTc9y9ZCpuC4PaOUH2EbpiGM4tqQJSBU2UDAWZ4sZawd/0EM38O+T6evQbuWfmXy9AunPJk7TLPU9inJsJ7fb1xOacQOOcb+FyjHIwsoAmraJNi3yvdfEaCzxIaU0iW0LNK/cT7gtkaL3rFGr1ui9GCW/X0SM3ZNI5YGZO90jJW/cNFxuKpuGnrlH81vJfk1g5qU3ESPuVp/JM9C8+ZC8BlMj0saNIAK9igENy63rs99/mdhDepydLXw4Da3aXaCx3DNl/9IZsWNEQQGI6d0HBrfbOhlR8ND633Fa+N+R0viAmVa5GOsgcOdbnsB/h3i0mYGdZFXtl6EDsUxV2b/JOh4Vly+1I00VimG6GChjNp4RP9vWMrW2cAXaEfxrY3BgXvrGuyj4FLW4nttCTU12PQhiJ7k1ErOgrUgDI2ylXWbbpuZZRCEgLfPCY2odioCm7EAVJvh0YvnX6D9eoIqRl9LFin7Sb6QGTmrwXFa3bSKHYbzh8o4Dhc/4F3tV3715WtGYcsdcL8NRRrIaaEO26jMTketvEH53dzXbCXzqrGyI6CMYbqGWZ26aWa4PMUZMBTZna0jL+gxfga0d8apX9fRvzYvLL8B/ietqP5FXrDWBz0tHv0dUr87dHo/SLKtghxVs2v+/SZuGEmoDHa+awGbjbgm30qFHMhQB+xFijk3WlvH+SBrHvb/llU7F+7YWbfXjigBRDnu2OW8ub8+MZgMpV6eWdWodLz8gXkoi4rZCypLPgav9rSBzqSOdagspHAMhY49TUgQxBcx/DmhzLZ4n/dm53lfXCxUCfwT2Hp+UlnHT+BmEk1+2+xiC7Od3qEhsjYYOoZOMRhTG+ni9Y6ExBTV6YeNnh7J+r6dwzo3/LL47heH6hDbf7TUUWSOTHbU95ckpsl1UeSwQSW0MurFY9n7ZVmIiP1KQMrWkjWqlYK8hmUCO4FToQ6Op07+woUtXtcB/GUpeMJoEy44v5D3WgMN9XFhSwOhMBzOT9lOLl9lHNPf7xH7909DQVd1+vH00OvqfKjtafV39XtT+wFU1adk3Mj/zq00AlzObatfKwM4LNhtgViMzXSY7KJEdtflRZ+lzhAEq77w5SAzoLODppCeQbXyowW3wSxpoAjlx4RlCZyMzX0l3EAd9FunqF9XPufbz4XJvRYasxC5xB21lRMzJVkF0UZu/pwRlzHuWqcHJ34UPjaWbDSOdDPBZdNl8Cte3wXvHz2EOPF2U9+2vJoRz7UbTIolD04SQ5rlTk9Ts+wgQITJ+g/l+EBXJjvhjxOsbmd6o5PAXYlgBiixqhnAddw6B2XdS6eTsiBzlR6q9MJpjBtD11qGMDOhgNv7oS5p0WxbUlK742lMr53ctemGMOUxUgye/2Rj0K/vDaBLHMw8bjqDC6XI0DWMVj5zX1q6Ca3EUXIcugQ9eniHJ2M5CmZ2sp8pOE5KHLgf6m0UjhdSUweKZ+S0duXjELnO5KIQhbi92TQw3QjCoZdcYg3Zelh/STjcZbTD6tigxbbIJX0TDO29ALMYXMGPxc/FWjcaXvyizN/C3Qko46/iBIKsEupEmbnbStAnUS7dF3bOHdPlEVpqRN72IcUuTFBBTiiFBG+lp74Q/Ap41+yDST183I4tDsGajg3fIKWJYQvabhf2HDGfUUf79mdvrYXnCFCQXnRuAtKCIVYoRYLtKYQVSDA3BMVbSZCTt/ChxA5A57AxhNA14t51mcU/SPK0UuphPfY+SWQhDEvij6T3x+sID+PpptvDqKJHP6UoSHqcFcDzJgFSzmnq8EpjdLpuZ1+K2bKE6534GUvUGHM+ucWHM2EH/1ZPvDn7DkavndwO7h3grXNhKFXo6IUbfiiTWXzA3NnDXSU4dHKxmJ9PNroUtJlPN6xHv40ne1wcEUP+XG2azhNuwvbJ2qrLRQBq3lbh2ABAd+2ShYlTjKNpKxV1pSrIQjBBcPtvKwYDFfaZVJDIW1eKArpPFAKIYY9IFxvO3wa7kHV2FnSRPqhzBBATXddRfIAWylIh/VtZelrf3RCoNoxNO2978JYYYR9heYdmW3d+PkncrHh7X79jNqb/s+D5H57XOiw626vBel9WTPKOwn6yHR80UXG/2yZb6BESifzij/iSUJRHen0hLx5tGfPN8sgls0tQjqffHk/y+gO/ucIFuEa6insfoxppYd8blGsSDszCAeCP7YZhNVDSuiEJPxUI+/xaK1TKFE//DZUzYGCUFPAt4NTJ0gjD+gmMWaaweWNRIzHfQHQzr+eSReyaHnxKS9lnmZWcEiQ8qhmHyjhb0me5Epd7opIaBpMUk16a4yKfzDEibaULGtpy2QUV+Xtz/hpBHezEIBQHH1s2e75lb5PhwajGJ+soiTdcuQVOfSucDRgXfFt4daVb3+dXIKGcESZ5kl/76tRBNSG6WL6WiWqsqjSXMUQjSVgsUDQusPi4Uq9WPeCD1a9l4suKDVeygLD3tNKfD5jpo10A33yDlMwwTHh042BmnAp3SeWs3yDCz43IO3JXRmp4k6dYFmJMpHWBTUf+LzKo75N1qKrYscpgVKLQLv8X5XkJAJlbyVI+D/+Oq4fEfzcpawV2wsZSuuzHuaKZI7Gj8fjxnIBEeYdGVc5+4tbeU9tUqgZsAcFbGXl4F6V8Z9bPh4v9Xtzdyo13ZKoEevTJRlTi5trlTtLwir3vadrKeKeXEEd8csXNWRzIYL1wZQSk4ask8HNGvFpB2uCsR587qBIH82K1WtM9ZSdjUsBx/s513OMZwTmuYiA3TIf2K4fphRhPSCc+nWB3y88MaD8hdfc0ddRMDsuEODnm0uxjk7WLB0dLTUKsif1GnHSEuzepNj8WKabHLefyhxIqbhbhZaVdSe9Nzc87egWJFMr/AetCPrFEkCV2hP+Pn9W4nvd0ucmouS36YmgNdBiqUVXBbWb4njTzFeqi9IJoFKZgj3zyMmOuEYLklnBev9RNZToMyi2G7SeAidzL2/c5AEiU+kVCjMTiD+qug+cPfZEyCz6xDNBH6fdkjbU3s3ppVP6G6iJWauqAFHTcGRWI+9pyHcrYPyhEqauZ1pW9rs8rLhlWbKB/aodXDaLfa9KpCIQzxnhkPUVNvWcX1Hfz1HIh4GRJTcHQYCIBcsNEzAYJ4Vh7ez28UUGLqnsjhujWs4o/yFQv3juTf0ut66l/6IH7WU5W+g7+ev8BNXj8igJ1TjelU4PnDTCEcRdwZ2/WQADzw4gORYOC9+A/cqyIW8YZcFCnUXdEq6NvWXdFlcmIuehywrNx3K+MIVImzpfgDpdmpJ2jF0FEepRB3y3vihE+9LQlt2g7zEd8GYqyKjAYh48UTRt6xpHoYOVKPs5J7T/Li84dhWlaf9EylaglPymZy3aopPmBuv7wLHOrDWBwt0xLvwwKJsYqXPNms9OkAXVWIw31MhaR/iF6JJxZQVxCzGRXBTb33sMbwdq6qQWElwkAk5hdYsl+SJZFPrNiw2dxLn2iM85gTSIJ23zQPWcFpxmNokfdwZ6zx7u1mKSEzDfj3xiGiU5PMLjtQeu7NTH9dyng5iNRniWXjr65PzRnALG0raB27vPiH1Y/30W8wqJaIDlQ0IB9ZlE+siZe5xzQVSdK1NMJTcitUf6quygO/w3iCSaecASK5xUluEmFJpf+58T/R/UFlJkvNoyZuzClgXtTnCek7n5Jd8XorxR+ko90ZN5Jd2T41yt23J9aBM3RFLkA+xXqp2NNVMy3Y7TLKtla4OUdzv26QKU+9uaP8yc1hp081p81L7oMD2UvAchPfytQ1OkNsUOKEm7onrj4cYrX5v6uuo+FAo+FK1Nn5zzyeNidY62VLygOYavzXAghEekh38S2Nn0nwLeNlgnXo5N1zHOrdFfJmS7dyyJNDQHKOxYK3upkGiSw9+FiamrT4B0Ld2DdYwNhjLoaN/FrKDhX8Q5BR83FzqlTm/KEfHVWX3pbKW4qiOr2nNFS8GfKcE9sAyeszy+UZlwKExuvgjDwTeiQoqZzFreg2cTs3X52gwkKzu6gCUMNz0wK2MTcY0HqDv12Oigv7eKHV1bnXvRnHkbp+4R3+xGcEZrzrMQyXjLS0DLiURUvQ/M2FjmBnklihiWpST0SaM+sq9YB89VrYtHzPWztHzOVkJuN8cPubAG6Nma1eWUy2Xoi9/3CLMP6RiRc2hZzv7ovcBksTTynT7SX62PnrshHcbvTbTsrxTTYj0e6fJt6fpg2Me5llh3hvmM79gCzjtpLxLnnNiaht/hTnpAp50yDtrzovZu0YPdik96lUez6EuGLk2ohlBiP3NmgCIWljKkCSnCm2jsUrb5nhwI0aOMhEMvPd2S9M7lMPFASBzYDvSGKDPzeSjAgxONVdvwaHZKJcLJnd8ryuHKuKBxHPDOEnLejfL5XJR998TQF6fTX1UNUG2Th9C9sUr4dmDAAEMF5urYCQwWwUGJhSIu96kmRk75RWgU6GcVhTBPKzoMqbh/HDsy7QS8dU+zsTOSm0ykARyqZo1ZtXARSQjZakPj/xFNLyi8SNAvvVT1J0k5hkA6/xncG1urJffl4eUvvXElhnrihjiT/HsmqpUsBk4Y+/klUZ5xTQDpLbWndFiOt5MpAtJ/h3CUOIFLj1dfJBkuohYc+6d2iW+/bZ/hrw+kG654b8CABNAx0UM9dwvjScKxGkx2Hy3EExNYyhYXxGUvB3TPsSsb9IszeLdDC+MOACEviIsZDQj+ku5wLxwi3s5pi8Ft+ve+qt0te47h4WD1rVdoHVj2dzGvKBOy5IQiWsv73x8vVeh15G5wyNCLOkGncbev7x6FYVbd7yL9t1EqcRB8NkFnvKUSqwJ9JdWOnWqHcGr9klIH6/O71p1tHBJqVm4cnVam40yw53jP3RymN2PFrtdNJTIURRhef5z6P1/2j086r+0yU4r8M5hWTFtT7DnI7kuZD2W6S4z/wrRadgzB5sOLi490V818Z1o439cZMKzvaciITnaxy6tFVtW0u1z4pdTpSQyOMQt4CoULTbmyl7iJ+hYOa0xN15Nb2u2qz6/RxunNYU2wT9x1Hlf0VWp3jz70C/VydoHiZN6rFZV6dwMdEU3/aS45ZQMnQX/JBl9+J+hzNSBYJRYGEWbi7g7P3E+n7MUOkm0q1R/z4hmz2bsdUVxYmnUJtLRKdo4LDVJqIrmHxe6UeKEvY+GYgOKGPKdZsyB8Q9PCoRmQOUBazUMVnJ133GFEQneckY2unB9W0KaBGqMD2MNnd8a/gaJO8gpGPjivLH2csDdRfhpuoF9MoRUZK4pbYDRDd25spupHrQeW2m4y0iNl97kqGHoELtbaOR2ERdHx4uBEogo7Cmcw3laxgN2h/XAMAgWF1Gn1+IcsNvnXPBLOrRyhOotfWG2JkKySv26JA8vgz3c/tNKLTS9aU/HH46vED3BOSwkUBCrGCUlxAzgL1VlZJd1c3mBnpoIt3EtLKd+uP+kOl+EuNmVz1nwwvEnpvdUpi6sUJ1kZBxSYchf2A3aI57WMVMu4rz3P6DvS9x59f81ZDm73wjJuwwE6+cM1dnZniGVhXPsyZPinlplTaz3edrH7Y797QnbTSIPT8+weEth+4DKH+BP5412nY9CjAPUAXoegKeCGgevrK2E6YZ3tAcQ77QsUbeuWCZQw28oMrK4iItOloFgOQB/1+wMjrmzh7vHRFbo7cndWwHXh/tkYKqPBZOI+59JsI2zQX1hBV2F7NlEMTjqjqKTiRRnuGuuybomyJnJr5uK3iHhPq0HYqKNWgTus0LqEAAiM7muKKqnKgaOo8/Yx6SHASTXiyE1MhSV3PGiSbrGQ1BAVtCZRKvi502CO2CMj4YQh7wjlgPux21n72rqOsbUUeyVRO+Emebyw7EzE8s5OiQ/amtixZLCmJ8ujt7NfGNFTrzsqKr3NtJ731omgxhikniIfNoiEl94ACEpNFS1v1ime4oZ5CMZqwNsKYhJ8Z7KHc4F9QepT+uYxl8THAA/5nKrpAUNLIW22mw5fKgNEO7lw5XEsVc9mk3EughwEQKXuJVLP17onHJHBDImSyo9evCqxggpuK0ip1gdMJK5QF06fVJs8dygElgUpuuJ9XSY+trUacdkUs4T8GRS5PGFl+JBcROxpDKIdS1BK7UsHn46uqM9p0J9O6ch2vC05aQM04eIJpjv70qUjZfj62eSj1S36mcF7zooijXrarZmdT+UYMBqXw8KXsx8YGJSjCw2ixFqUNZ0d3/rbE2YbyhM=
*/