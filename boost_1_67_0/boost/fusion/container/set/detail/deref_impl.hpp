/*=============================================================================
    Copyright (c) 2009 Christopher Schmidt

    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_FUSION_CONTAINER_SET_DETAIL_DEREF_IMPL_HPP
#define BOOST_FUSION_CONTAINER_SET_DETAIL_DEREF_IMPL_HPP

#include <boost/fusion/support/config.hpp>
#include <boost/fusion/sequence/intrinsic/at.hpp>
#include <boost/type_traits/is_const.hpp>

namespace boost { namespace fusion { namespace extension
{
    template <typename>
    struct deref_impl;

    template <>
    struct deref_impl<set_iterator_tag>
    {
        template <typename It>
        struct apply
        {
            typedef typename
                result_of::at<
                    typename mpl::if_<
                        is_const<typename It::seq_type>
                      , typename It::seq_type::storage_type const
                      , typename It::seq_type::storage_type
                    >::type
                  , typename It::index
                >::type
            type;

            BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
            static type
            call(It const& it)
            {
                return ::boost::fusion::at<typename It::index>(it.seq->get_data());
            }
        };
    };
}}}

#endif

/* deref_impl.hpp
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
*/