/*=============================================================================
    Copyright (c) 2011 Eric Niebler

    Distributed under the Boost Software License, Version 1.0. (See accompanying 
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/
#if !defined(BOOST_FUSION_SEGMENTED_FOR_EACH_HPP_INCLUDED)
#define BOOST_FUSION_SEGMENTED_FOR_EACH_HPP_INCLUDED

#include <boost/fusion/support/config.hpp>
#include <boost/mpl/bool.hpp>
#include <boost/fusion/support/void.hpp>
#include <boost/fusion/algorithm/iteration/for_each_fwd.hpp>
#include <boost/fusion/support/segmented_fold_until.hpp>

namespace boost { namespace fusion { namespace detail
{
    template <typename Fun>
    struct segmented_for_each_fun
    {
        BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
        explicit segmented_for_each_fun(Fun& f)
          : fun(f)
        {}

        Fun& fun;

        template <typename Sequence, typename State, typename Context>
        struct apply
        {
            typedef void_ type;
            typedef mpl::true_ continue_type;

            BOOST_CXX14_CONSTEXPR BOOST_FUSION_GPU_ENABLED
            static type call(Sequence& seq, State const&, Context const&, segmented_for_each_fun const& fun)
            {
                fusion::for_each(seq, fun.fun);
                return void_();
            }
        };
    };

    template <typename Sequence, typename F>
    BOOST_CXX14_CONSTEXPR BOOST_FUSION_GPU_ENABLED
    inline void
    for_each(Sequence& seq, F& f, mpl::true_) // segmented implementation
    {
        fusion::segmented_fold_until(seq, void_(), segmented_for_each_fun<F>(f));
    }
}}}

#endif

/* segmented_for_each.hpp
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
*/