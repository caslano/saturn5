/*=============================================================================
    Copyright (c) 2010 Christopher Schmidt

    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_FUSION_ADAPTED_ARRAY_DEREF_IMPL_HPP
#define BOOST_FUSION_ADAPTED_ARRAY_DEREF_IMPL_HPP

#include <boost/fusion/support/config.hpp>
#include <boost/type_traits/add_reference.hpp>
#include <boost/type_traits/remove_extent.hpp>

namespace boost { namespace fusion { namespace extension
{
    template <typename>
    struct deref_impl;

    template <>
    struct deref_impl<po_array_iterator_tag>
    {
        template <typename It>
        struct apply
        {
            typedef typename
                add_reference<
                    typename remove_extent<typename It::seq_type>::type
                >::type
            type;

            BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
            static type
            call(It const& it)
            {
                return (*it.seq)[It::index::value];
            }
        };
    };
}}}

#endif

/* deref_impl.hpp
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
*/