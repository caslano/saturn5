/*=============================================================================
    Copyright (c) 2007 Tobias Schwinger

    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_FUSION_REPETITIVE_VIEW_ITERATOR_HPP_INCLUDED
#define BOOST_FUSION_REPETITIVE_VIEW_ITERATOR_HPP_INCLUDED

#include <boost/fusion/support/config.hpp>
#include <boost/fusion/support/iterator_base.hpp>
#include <boost/fusion/support/category_of.hpp>
#include <boost/fusion/iterator/mpl/convert_iterator.hpp>
#include <boost/fusion/adapted/mpl/mpl_iterator.hpp>
#include <boost/fusion/sequence/intrinsic/begin.hpp>
#include <boost/fusion/sequence/intrinsic/end.hpp>
#include <boost/fusion/view/repetitive_view/detail/deref_impl.hpp>
#include <boost/fusion/view/repetitive_view/detail/next_impl.hpp>
#include <boost/fusion/view/repetitive_view/detail/value_of_impl.hpp>

namespace boost { namespace fusion
{
    struct repetitive_view_iterator_tag;

    template<typename Sequence, typename Pos =
        typename result_of::begin<Sequence>::type>
    struct repetitive_view_iterator
        : iterator_base< repetitive_view_iterator<Sequence,Pos> >
    {
        typedef repetitive_view_iterator_tag fusion_tag;

        typedef Sequence sequence_type;
        typedef typename convert_iterator<Pos>::type pos_type;
        typedef typename convert_iterator<typename result_of::begin<Sequence>::type>::type first_type;
        typedef typename convert_iterator<typename result_of::end<Sequence>::type>::type end_type;
        typedef single_pass_traversal_tag category;

        BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
        explicit repetitive_view_iterator(Sequence& in_seq)
            : seq(in_seq), pos(begin(in_seq)) {}

        BOOST_CONSTEXPR BOOST_FUSION_GPU_ENABLED
        repetitive_view_iterator(Sequence& in_seq, pos_type const& in_pos)
            : seq(in_seq), pos(in_pos) {}

        Sequence& seq;
        pos_type pos;

        // silence MSVC warning C4512: assignment operator could not be generated
        BOOST_DELETED_FUNCTION(repetitive_view_iterator& operator= (repetitive_view_iterator const&))
    };
}}

#ifdef BOOST_FUSION_WORKAROUND_FOR_LWG_2408
namespace std
{
    template <typename Sequence, typename Pos>
    struct iterator_traits< ::boost::fusion::repetitive_view_iterator<Sequence, Pos> >
    { };
}
#endif

#endif


/* repetitive_view_iterator.hpp
rJLEEmC3dm7Pn+SJT8L+1lVMfxxR4+2QVSPjnqzv4MKBY6KRUDbMy0ViQc68rBfoKjkMPEwPWFIlscqaeTWlC5BIPOGS4D5dwCXv+FA0wAEkCS+OG62HM6ojULymWohuWRcZPs87t1hr4bGIK8kPvqkHTb0Yt3x7ZGJ6pj77xQbjQieuVIMZbQ8/ooEdMB1f6hpJkBo1ZWUYSLJLBqoy0HduHkbtHmeU1OW5QOBrJ0hh3UnIHdfRheXAxvQqE56cBCSS0i9zEqHo9qJCqsIJIoXS7r1Y2+jkpJbGn0csn/vwgXiQvmv1sydXOOyyvTD3WCLgusIkX3e8B+z7WbIgnVFOa4otPt5jFykt/KhS2nBR0SZbqg9bbgvLcEuLy9A/cBQj+AN4iyHmvkcGNJBaEvzb0zBrjy6Ud/BJCQnvl0hRKdTC2/c7mSdW5QZh9BeB+L2qHLYnomk49CMctmb5MYZDMTGFUqnrT01eFMkN2pd0q7BZJEzkYg+s+ByHw9oUxqZKUsJIVJwwlc9krmK0HTAGfpVOfQfCK6rLkJ7nKBVZ8byrne3tZ4Sk7efPcFoUxldKIEhIIgPPzQDOaZSAFsUiMkmg7liVNGRPbOQTGzDUXCMS4c5NdiNWCIVL/J2sDfw3J9+a/HmmFHgqSd9gOpibfyJCn9cIqS7eBBHgkkyg+J2LhsUpjiiBBrjp5jEIMUUl5kIhwJp8SNotCxiERGPEIdZuVVaRvWllVxNSIVyv2qesVsgwC07dcJNsCzQhmq1S8Akhl7uKNTwoh+AG4DbFNjTiyqrBDawu+9U4mB+A+0wHYGE7DubAeSGT29Oj2UQKYFZBkd2ddQdmHfShL+00Bmgn6fB4X1ekgUdHtO8L5D4LAns2s1yrwlaw/KHcj3Dmzg5RwdV4j5nBHmVJIdCYBG+N/zbTChfs3hQNZhkPLF2yAjEPbM5L3SnveB9rIdyargVzV4EuKsUIHWef1eq6ravKeWaeZuT8dUggklng7f42ktIST80VhF+ifUWC5bUAADcYlS4NuHkKj8G/Ze6I12TSaLviGfn5jDrYd2SqQy5+9kXxCo7SKxfIK3OgGqNBS2wD8KUeQ2UUP+xxokwuDY7ynjVxTjuzubH07vAcL79B1lWO6Czb7Syra53zTenqUz3LKOkvLV7URMjz5Ugz1n/hMvSV3nS02JulkWXkv3eC2FuTsBMWHp9y6nz+YSIY/kH3kXr5GZj/gati/5Zj95zrvUND/0MiHjRFse+k1uIut0qCJC8e3d8Bz0XFgOoi//EpzshLYMH1fJMe6NKKQLC8Z47e2bXtq5HV2G22qICpWPTCPOW92SP86AbYnn+PuRPwigg2TnE9GvaqL3Y7TSii/fdTc9LjxEmRHtF9a7OmfUVxy2yIrj9Jd62Op0/7mC63orrQ9efPjM6DXeCbmtfUsUHWj5BXH/t3NV9JCeUQHWOhuC1fsa9TJqEoEGmLj2MVpxDEotWLTIHBoGBc+59lMVpvpSLOeDqsJ3f8e1Pp2pw7Ekm8goronj/X+VYWuZ3cYjRWmNZSfPZXPDQV8BSKXp9fMgqaSyYbTZJpzUWgspvsT0EFggbPKA/6Bg8uFOdhzg0XJrVLt/SqxHI3ADZmU3Zt246hbbNf2l3pEpF2IlIHp5+APKn72s4qXFPpQ1glLMpqTa/x8C8RnlImCkfolkqnKZJ9WrHJ26OAfrlDk8JEB+iSFVrhVzUKMhQWj5zoCghNMT+gBqGCNApxo0KNIGwwjwgFJZtqHHZa6nJRx0kPBAPNoKn9dnLHwQvimBatbkw3vgn3XylRjwMsUXzYrX7pE8Cx67V/40YU0D9bOPvEzbCwA5XmSUpQhPpuPbAEJ54ngDTNMYTuwBBCIfbdTbbK7hF9HHC7fclpwGQSTCSnyTCleHZ4L5uNmwHYq98rFowOVT3M9Z+MEadLSyD3oHAtJyPCPzIgsdCUV9uCT6osL/PiXC4b5gd8QwsN1u22qbK03JI9Kfd+Ey/K5tqZ7Sw80xCPq8dGdC9JvT8qsWEGjVIL0tqFI51mxkQTvp8bTZqoJbbREG6L57gEI1YO3/WgGBZslH+MbceVMdCBaXrkv+V3n6WC7hXbVgJOlvVHE3JpyuvjywmnzUliKwcXRJuC7xfPis9gs0SJcw1h9gwmdbLtUf+XlTrqew7Z0f7IbPSq5P3dMMRSNnOr/XFb3Xqd5p+RmIDP3te4o79BN3zjyUO9vaURkddDIIDyYDUGMyGGjnfrir0gcwMbmwNzuc0IPIpWN0MgzQmp4XGFSGiVCP2+DtcjNjlaMsgY7oH9Tzs3R+DHX8H2L4Pte592p+9ivDU/Impo72xhP/zol1e9K+Wdq8yKG3HfQB5XFeR1Xx5qyoZab+ILHmqlIwo5nTnpmWH6UfwJkOGin8fvTZh7q9J4QI9LVvkEihZ1eTSc+NodrzmgLPNvM6An4q0+ssJHSZSSS7lm/H1IaAhZk1hkGF1v3ZNQM/hA22+fS1E0rL3MWItFwzvfz5ZxEI0FOcGcpCvBwI0PZ8EVUWhCt6m40n/xZKxkyu8H1WgsOeBjvrmJi4EGt0hvF3WynDb0A6IefHds2posjcLdwWVDVIObXqePzGEt9z1VGgPf0DhPHirj+1B17NnHBoMTo2tOp2e11DZpteBviu0LvcAHOatsSOc7qg1PrksvLrzA0zkLt2+At+fUVFfadmODg+94YGhPnII5ala0vo4IeefEgDDueMAUTIepiMQweWBmVPLdy+Rhu4gnZQpe30qmH6oN7m5WZotH1wXFNOO+PSeeoN1EO7cIUREtx9pV1b/X1E+qsZkk1pfBwET8YiFm4EsW6lsRSjzaQg6lj7UIPyBRQ8A4FWbIS123zwipvr+5qkwbcnAPSRoWu4Vy0kEc9mcqHEJM17oHxSw9wZkcGgkYxk6KTZp0z08rxg2aawfuzcqRsbcOvkQJPK/2K5l4mZeloO/O16yIFdurLTrZv6DJt86XE5MbiZUtEkqIUVICN5/RIXqm4NWro0lzxtlua27I9MLQNEn3D5419o7fT/W4qfcr3Rx+0DT09yU6hEL7E9/KmF4vcGtppa2NPNfoYj+vlgzXR9km+84kQ8Pf/jV/0/j6OI6TCrm9jHmF+neoGhPfBj5tnaBlJkZTHQS7Gy9y/g1XCq4uP4jGt4IxzpsgkQbYAua3+IiTQ0ag3KbKVFwTvk2lsJ3xUiiIXCzOwwNrfWimpBRuOLbISgHPQY89OXWDn0Wpc7TfYL2zkTLfIRZthEn4FNk0Tu4dtLJOrrGGJV+PhjlMXpcNun1yCigPqbThNvbL+NPhdvpSKRi9FBGcQKMbvyl7oINmNzyMlhsG9n5hsYKteUVbISRWhJltXReD8U30Oj6CNLx+9bmQYKcpVZQmHWjhw9QwJznfu6xRfuarHUba7QPhojqpZvlGdTdbRvdGn7pY7nTI8omL1UuF4QBzRAE8rR+SCLscb2C8qkddwvcoywqW06wGhUSU5zYVF5mFBambyXOpJ7SMY27kWUKl9oc4qYonc+VAXOQH6btDqVKNHocnUuam9sWreaHeIy3CwL1lmYh3JVoWuQxxhKjjK6R0OEA8eCsge6SXad09RsvHB6SmFt7+C3tMYH9qQJuhc9sz4qli/FiN42cziF3JT6fa8kopQPOSJPTm4o7KUCGRmy7gPNdGOfebxMWp81FJls5YmDB/1N8teRY5dIUzMkJjz6AnGciHCbc4i72Br5K5bZUSd3xwFBSMByQxpH2odPDR+IAAI76r4JEKPnCAL9OK1rb9Zu+bvNmPFRwxp0A36W+5xUCC2If1BcjOwVc5go0HWk2hdPnknSjD1sEbsYY1GFPYgEjQm3Hw1bZAYwz0W5k03kIUmmkeVzir8h5+zyVKS94yK/Kf535o2chrA3se8IWUP1be8Tj01DUUrh3Ec52F6xGrD4rrsge6pq1BRPDNfwQjLgzmltf7hfufDQXXNhDVSji2+bEVjGHUW6STmcxzE4Z996yZVSpg/e0q8uhTRm24tiFYa7rfg/+MBUp9WaklY+Raf7KalqmzRr3iz4dVmFNkCs+wlDBxrRG4TGnX6tLxv9xI/4UvptaS6+mN42FGjpMjQSdHEJOHvzB49cTrPwxmY9zKWR+Ub9HEMCq66Ec0ET9D2mIKuW1zUNAE218eSVwJStlpqYK08ZuGrFGlMar33UPRxKUWNpWFPUAwpJuLYuJYY28d84jTmjdZM7lbGawxZHu4lIegcAzUw7zLT2n9PqrS/lKTpH7D0+p9WldmNv9AVp5pPX9k7gXrWQxZH+tMapSOprLF56XDfockDDfOT2NSm0j6vGLk69yuzsp9K7BxUA379uTy7Jl5ITnHwgKtSkLAwjLhM9Mi9MqoRh444RPX0/RtacmKjgWZCPDEWA9JHrQ/uFdsl/iJ4JerQEyOswEVTfDUyFoaB/t+9nwRzCvjxgXQgRGy/pjMPepFbtLcujX8YcRs9XtOz7Hz5+NVp7qpKPnYOdujC9/JSWOZgNCY20c3R2mB10vZ2mZXa0n1u/CQaw3st/3edYAhQeCR0t1eOzVMTt/z/i54FHuYoxuZqE1saxixmIu/YYrYGXgIcSpycdOW5dfpkUj9ugluqj258pA5+xnHrpWPuMztLn15r5dT/tbYLISl6bZ56/h0MOHSI/x8AJa6rD1825heSpGW4EIBNfcZFX0PHZHNZ+FKMx4u7Qj5d4IH51aqRDKURjl+lXOmGptJW9XLWKb2Npep6ViJJ+3TsNfK8/2y15LzYPAmIOJxI7/vfPeC+aJjr/TyVftq3cybk6uZSfJ5ddnrp6QEJPdxtE04drZv9OPDr+T+cevi4fi36ojua6MabxZe4QXd1deVkJmQEanJhO585wbXMwtqug7nGtcyq86dR7rsPjsKjvXv/peU6LFWui4P1FRd0+mXnkMr5taMTqUAz7dVdZbqF5/mPTcrFWL21I4XKzbed4SWZqxfxWJIZXYf39DzpXmvfU3TxJdSxkXS9duL57rNCPRVqtgLXtDT+0ckEx9X9UlakFdody98QFNOJN9kqF1E4HctrKy1X3qVmR/xU+4COvzLqyF5D1LQVG+g/EGRS9nXwn3rwX4IAC4DD/rGk3epZ/ZBd3vDRhYP2JNfpX51FLdtv6SurTeCM9qztvU/txxba0Rn1Wdmsw/UlLouz7YR5CYunVvbqzXDNzfFGO1jDgfcmn8/cm+9jaZ3INmy6LE6naM2vtnfdyAKfhd2ah2lHy4ZUUO1Tee41f9+7tyHT4Q2XKdYsN+6Fa48a65W0rHkEPZR6luxHi8VMOTmTpc61PlenQ2iZkd7opkV4X1f+Nb2POs7I729ee9tNtVfojlL/729D1xEcnrzftoUVb9HL0br8MJz+PHWIo5aloZNqoSGQlt+zrThBWoy1TzAIuLBH+EFQjT+S/8n+PKA5Mc7iDi6/DN+HsNe04rmmaX07vY+gu3tlLCu49LWi0F6erjWM8WgxbG66swze3/hHM0m7nafVdPa2al/+ERwSsn60N1NQXyatNZDzeTlY0iw+nrs3JBxQs5231Y7uiHYzKNHd5uF5sfwb8Kt4fz7RI+DzavYT+flp6pK682v8jO3Imnky+kZWXP2c0arpKLowa8f9itoB+Ur9btMVaL9G/9R7HbDbyNSCrMb0h0Jg7g72i1F79U2J3KMQV5EQvLhTRZJJTkoRoQ/H6MrPG+3b4xNOEqcQl3b4mZX6q4IsOgAK55FsfJmKzA3PAdPK2Q914ZB+YHWDGaVFcVVBhB/sRZ+2zTO/8aXLj0xxfJjW9zATBoqPyFEQRQQn/GouXs2QyenErsnb1RqJIKK7TrXyGij8YJAVFSittLNOAkxJSIDVk6IsnOBPR+AkD7n0de6bgRxhhktjFj1aHIQRkTFawVYjERpsoOcJ2ZcwnAp7woMWRkrasUlitgu5PSZTuidEJK9rKWDj1xMa/bFGb0CtJkIsKgStgSDZSQ0V8K5BYac3NbeFT2jPoUzwwZ4lfCQ0V6LGYvcyO2Vcdxn1dKlJiBANJ7e/zMJKorsO70dGl5af8fL7Y+U6aUtcKyjH+4kOu2o3n41tgFdL7nlS2tHu20OdHGVFk8i9b+/9cJs2a8Pl7NOTo6+sRxPCR331KIIb4vkCKCi4lLiUqjX+mcnpSfeYsfeSdTB6CmvTsgOpPthnI97MsxjvMZTn1K4ep5FO5jddEM0qrVPFbNAZkts+0Pc/26hFujJV4IxsYkOn1mt7uk7Ubh8Z3KcWrVmEy8gevcwe7eeCDJWMa+hQpVZdo7bd1pXzLos/7kl3Fb3Dzmyxx1X2LoRcCMJw5giyeJniuqL80ZmhAcBkdLCkElbWyONV22Z6p7imkZAKYXyq39ImWA28tBPJW3P1mqUWefgqlaWSj5lvtGuonbV1Cp8WvaPp9EpF9qfThTlGCP7hJ8mt+4RRtrcdYuCVWZNyQcExvz7J5D/omJSSilhnTHiKzuWuFvhZM/36dudbLyA0KUaL8PcHtU42qCu+T60Hc7DKX2gqbZ2Y8gpQkqKZlGiQUpldtOAnyVZZu4SDQ38nOWM4emqt7UpyAPpZdhA95hiGtKDvr31x2KjfxJp72AwL0FYTd26M06v404Qzc7NG0ut5PPPh84psubt2XsX/z97gUs4LBVhoJmHCnD398NKaeypQEt1iOWmrn2KCsVgzoH7e1sKQ2KwgNJQG9FSAk6TcN1qSHyK3cryrhpYVyClIoWuQqWwitLKkY37oz/fBC3raUzf4oc56AWaLGIqTlREOel1beFV/5bwdKBK20DyWPxQizNKOCXdMYLzDNwgZ8XII22NdHR2axjCKv+4uGoswIRUBCS1bgpPRrVwCd8KsWhp8dCpu9Ba6bb1+KuuINScf3h78h/QCIiJQhZGxMI9iWYq0zT3Cuizs7cABriuB+bOKArIuUiGvnN/NlLDtqRTr0TeM6Pbbi601Hk0CzNysPH1uh8hVQO/+OgezuTy2fxtyL1lTprV2nUhRPuZ/AT8kntf+bxTUrHa41sbjvlpifwqhd4dSGcIdsMeZL2woBGpQb1kCUezvkHJE6Q+P2BjQAVSeA7BOxUFSETmre6YwNpHENsl5mG3ljbLvAYK2mRzLi68bq/MQL71v63lSwlkYfZUZqkg+vIVxjohujHCIK348gbj8eoB6grEpDVjWkX8iWyb/yn5yWWndJzyyf8J973yW7Sjnw5cHY0C4DBrZX8KpOE0x2UEQrgaLOld/5wfWHZSXPwU0TBa7GfEDE7dW+8HR0BvjardDTF/WA7r5F56EDb1opkVThL4kpSR7KG09ljrjo7iThGc9hRqXH3ufe//fouBetNzZmUJQPz8KUr0NKVsx6uPxQDlJnQck08vrklY/RlRCU5so2AkFestnAmcYPoiV3Zh8nlrqKkKyKlFAAUUBx+tGhFEDkaYbGg5uU0yInHiSgCLbtjgJBzOFj/1gyWzOCG9D3K62/crRoYEADD8jMS/1c5j+lbShjJkslABBegLBQIACAEAmM31exkF8OeCBrCvgAe4LQEGUI+BBzLs60Wn/N5wmy8mV7OoCXmbX6xq8jhr0TmeG4rPhBR608IhQ9rMzuJCHfIBn76SiAmmu5aOAPlrhJv1w/X3tZUeJEDa2JmXnZq82OJS9nvuS1du+HFd+EdT8GExo3NL0o1WVFZG7ALmZu0jMrSfX237wmTgy+TlTyvAjv40VETcjtfzVHhGAp/wH4M8edie74yqh23o441paX1a65vBjcVBiXL5Lrx4dKBawRHHs78xAnaMs6qldGipcejvoxzSbjQI/sGPrXI96VCwm7N2JacFo4MivC4DtLCqsqGqfTwIvl44XDTFDmRipBUfYMCiJAYMWn9Y+SY8VUWrdDvGK8tc1cmciMX7AqBhKTCxH3GSi33/UJENZPFhENaqE9bczSXf83Hr3nNzXYvqnIPkvPdE7z+URSFH6AdSh5gfkCLLVvG4HFRVqRqBNqqwCnz/tSbJ/LtfGka8OjoaaTkjodmpKIa74/fChw0mUuYS1MOYkN1AnJe1tJw3hlbSnvyc0skPEBNcXQwCSyrGGaYT/0KE/zzQtudfxqNEosrNqz9CXDPq71Av7p1RpdKPfxBcB4dU/m3OaUmuJT38+a8kDYC3jQgFhTtnRaUm1N0pqla9jrYfJGO40NDeH9PS72mZfMz1fbiyuGhl/24I5zZRgmR6rxkh8Lw2FJFRNe7tiFsd1V89pMDOVEfYduVGqKw+aDdIkIUwtqLcrtd24/B6FDKHRivSQp/+/g/xexwFCUD7SeTTzsNCtr9+LJ1wW/L7Y+EFc14YQ5EMR74dSL2BiWnD4qtpF/kJRQ//Ow1g2I4iBIxQmWIj66Pdmt3JXhPtwyvFZUxi3BO2upA95c2NSVN4VMFvUR+pi9VD8hBbkfeYHq8Y14no07rk6bE0/Pmej/I5P1NVYnBh0PnqozlXBUyhYylo57+3XM7pOrnUvtmybrZ+KE5QEK7Caz1f8fiLljw3X+b4FNurY88AZboOfQEL4PPwxM04skiC8Q/wxzJwkQcJlHUV7XpZSoZEQAkPfcHN6RwsGTl/B0wYHBsxIMx9/7GjU1RAVNAze5ULjf5z9b4Lr/E8XNth87LToidPtzGiNwPPPws0fqfI1dOTGh/iyuvRuvMtm71jx16zXRcd20dcFxExzQWbN5m2H9pjHMInh/+FhwRAZ+bRD6Ibn9tYNxbChxV6u3pNx+oIcAkwoFji2H40fgetgem3o8S7Wb4GzJyGhhlhXfAJ3h0pN1ExuJnCtb7/tBUzhG5UrLardhMgqZHNrFUNQmt4VbN+kVD3IeM5fMd8erG/sr1CFHg+7CA1si7O2PmU7XlhjqTXAAIs/dMD0YURhOCeB66del7gWudW+Q5g+guoW5RSbp7WyZ51eFgTozAlFehrz2G5AZh9Kn3ks5Tzul8KapjUOag6iHQvMdT2hHUYWmIa4NsqYI3FqdyhV7HE0tzR7WlnBEfAMFaUKfEzLV3V0CarM8Ff/KNY3yYicvKlkAzQLApOD2Ym45dhB+DtQeFPo7yLI6HBroX34TVziTl/lJXyrQbMAw4nvMvKIb57qf8AfHlOf6xYD/tkANTC/F7D+jbVbQzv0zA=
*/