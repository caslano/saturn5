
#ifndef BOOST_CONTRACT_DETAIL_CHECKING_HPP_
#define BOOST_CONTRACT_DETAIL_CHECKING_HPP_

// Copyright (C) 2008-2018 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0 (see accompanying
// file LICENSE_1_0.txt or a copy at http://www.boost.org/LICENSE_1_0.txt).
// See: http://www.boost.org/doc/libs/release/libs/contract/doc/html/index.html

#include <boost/contract/core/config.hpp>
#include <boost/contract/detail/static_local_var.hpp>
#include <boost/contract/detail/declspec.hpp>
#include <boost/thread/mutex.hpp>
#include <boost/noncopyable.hpp>
#include <boost/config.hpp>

namespace boost { namespace contract { namespace detail {

#ifdef BOOST_MSVC
    #pragma warning(push)
    #pragma warning(disable: 4275) // Base w/o DLL spec (noncopyable).
    #pragma warning(disable: 4251) // Member w/o DLL spec (mutex_ type).
#endif

// RAII facility to disable assertions while checking other assertions.
class BOOST_CONTRACT_DETAIL_DECLSPEC checking :
    private boost::noncopyable // Non-copyable resource (might use mutex, etc.).
{
public:
    explicit checking() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            init_locked();
        #else
            init_unlocked();
        #endif
    }

    ~checking() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            done_locked();
        #else
            done_unlocked();
        #endif
    }
    
    static bool already() {
        #ifndef BOOST_CONTRACT_DISABLE_THREADS
            return already_locked();
        #else
            return already_unlocked();
        #endif
    }

private:
    void init_unlocked();
    void init_locked();

    void done_unlocked();
    void done_locked();

    static bool already_unlocked();
    static bool already_locked();

    struct mutex_tag;
    typedef static_local_var<mutex_tag, boost::mutex> mutex;

    struct checking_tag;
    typedef static_local_var_init<checking_tag, bool, bool, false> flag;
};

#ifdef BOOST_MSVC
    #pragma warning(pop)
#endif

} } } // namespace

#ifdef BOOST_CONTRACT_HEADER_ONLY
    #include <boost/contract/detail/inlined/detail/checking.hpp>
#endif

#endif // #include guard


/* checking.hpp
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
*/