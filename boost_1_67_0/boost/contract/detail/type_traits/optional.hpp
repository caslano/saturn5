
#ifndef BOOST_CONTRACT_DETAIL_OPTIONAL_HPP_
#define BOOST_CONTRACT_DETAIL_OPTIONAL_HPP_

// Copyright (C) 2008-2018 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0 (see accompanying
// file LICENSE_1_0.txt or a copy at http://www.boost.org/LICENSE_1_0.txt).
// See: http://www.boost.org/doc/libs/release/libs/contract/doc/html/index.html

#include <boost/optional.hpp>
#include <boost/type_traits/remove_reference.hpp>
#include <boost/type_traits/integral_constant.hpp>

namespace boost { namespace contract { namespace detail {

template<typename T>
struct is_optional : boost::false_type {};
template<typename T>
struct is_optional<boost::optional<T> > : boost::true_type {};

template<typename T>
struct optional_value_type { typedef T type; };
template<typename T>
struct optional_value_type<boost::optional<T> > { typedef T type; };

template<typename T>
struct remove_value_reference_if_optional { typedef T type; };
template<typename T>
struct remove_value_reference_if_optional<boost::optional<T> >
        { typedef typename boost::remove_reference<T>::type type; };

template<typename T>
T& optional_get(T& x) { return x; }
template<typename T>
T& optional_get(boost::optional<T>& x) { return x.get(); }
template<typename T>
T& optional_get(boost::optional<T&>& x) { return x.get(); }

} } } // namespace

#endif // #include guard


/* optional.hpp
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
*/