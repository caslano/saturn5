// Copyright 2015-2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_AXIS_INTERVAL_VIEW_HPP
#define BOOST_HISTOGRAM_AXIS_INTERVAL_VIEW_HPP

#include <boost/histogram/fwd.hpp>

namespace boost {
namespace histogram {
namespace axis {

/**
  Lightweight bin view.

  Represents the current bin interval.
*/
template <class Axis>
class interval_view {
public:
  interval_view(const Axis& axis, index_type idx) : axis_(axis), idx_(idx) {}
  // avoid viewing a temporary that goes out of scope
  interval_view(Axis&& axis, index_type idx) = delete;

  /// Return lower edge of bin.
  decltype(auto) lower() const noexcept { return axis_.value(idx_); }
  /// Return upper edge of bin.
  decltype(auto) upper() const noexcept { return axis_.value(idx_ + 1); }
  /// Return center of bin.
  decltype(auto) center() const noexcept { return axis_.value(idx_ + 0.5); }
  /// Return width of bin.
  decltype(auto) width() const noexcept { return upper() - lower(); }

  template <class BinType>
  bool operator==(const BinType& rhs) const noexcept {
    return lower() == rhs.lower() && upper() == rhs.upper();
  }

  template <class BinType>
  bool operator!=(const BinType& rhs) const noexcept {
    return !operator==(rhs);
  }

private:
  const Axis& axis_;
  const index_type idx_;
};

} // namespace axis
} // namespace histogram
} // namespace boost

#endif

/* interval_view.hpp
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
*/