// Copyright 2018-2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_STATIC_IF_HPP
#define BOOST_HISTOGRAM_DETAIL_STATIC_IF_HPP

#include <type_traits>
#include <utility>

namespace boost {
namespace histogram {
namespace detail {

template <class T, class F, class... Args>
constexpr decltype(auto) static_if_impl(
    std::true_type, T&& t, F&&,
    Args&&... args) noexcept(noexcept(std::declval<T>()(std::declval<Args>()...))) {
  return std::forward<T>(t)(std::forward<Args>(args)...);
}

template <class T, class F, class... Args>
constexpr decltype(auto) static_if_impl(
    std::false_type, T&&, F&& f,
    Args&&... args) noexcept(noexcept(std::declval<F>()(std::declval<Args>()...))) {
  return std::forward<F>(f)(std::forward<Args>(args)...);
}

template <bool B, class... Ts>
constexpr decltype(auto) static_if_c(Ts&&... ts) noexcept(
    noexcept(static_if_impl(std::integral_constant<bool, B>{}, std::declval<Ts>()...))) {
  return static_if_impl(std::integral_constant<bool, B>{}, std::forward<Ts>(ts)...);
}

template <class Bool, class... Ts>
constexpr decltype(auto) static_if(Ts&&... ts) noexcept(
    noexcept(static_if_impl(Bool{}, std::declval<Ts>()...))) {
  return static_if_impl(Bool{}, std::forward<Ts>(ts)...);
}

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

/* static_if.hpp
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
*/