// Copyright 2019 Hans Dembinski
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_HISTOGRAM_DETAIL_NOOP_MUTEX_HPP
#define BOOST_HISTOGRAM_DETAIL_NOOP_MUTEX_HPP

#include <boost/core/empty_value.hpp>
#include <boost/histogram/detail/axes.hpp>
#include <boost/mp11/utility.hpp> // mp_if
#include <mutex>

namespace boost {
namespace histogram {
namespace detail {

struct null_mutex {
  bool try_lock() noexcept { return true; }
  void lock() noexcept {}
  void unlock() noexcept {}
};

template <class Axes, class Storage,
          class DetailMutex = mp11::mp_if_c<(Storage::has_threading_support &&
                                             detail::has_growing_axis<Axes>::value),
                                            std::mutex, detail::null_mutex>>
struct mutex_base : empty_value<DetailMutex> {
  mutex_base() = default;
  // do not copy or move mutex
  mutex_base(const mutex_base&) : empty_value<DetailMutex>() {}
  // do not copy or move mutex
  mutex_base& operator=(const mutex_base&) { return *this; }
};

} // namespace detail
} // namespace histogram
} // namespace boost

#endif

/* mutex_base.hpp
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
*/