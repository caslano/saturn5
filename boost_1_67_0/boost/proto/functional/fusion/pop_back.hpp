///////////////////////////////////////////////////////////////////////////////
/// \file pop_back.hpp
/// Proto callables Fusion pop_back
//
//  Copyright 2010 Eric Niebler. Distributed under the Boost
//  Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_PROTO_FUNCTIONAL_FUSION_POP_BACK_HPP_EAN_11_27_2010
#define BOOST_PROTO_FUNCTIONAL_FUSION_POP_BACK_HPP_EAN_11_27_2010

#include <boost/fusion/include/begin.hpp>
#include <boost/fusion/include/end.hpp>
#include <boost/fusion/include/prior.hpp>
#include <boost/fusion/include/pop_back.hpp>
#include <boost/proto/proto_fwd.hpp>

namespace boost { namespace proto { namespace functional
{
    /// \brief A PolymorphicFunctionObject type that invokes the
    /// \c fusion::pop_back() algorithm on its argument.
    ///
    /// A PolymorphicFunctionObject type that invokes the
    /// \c fusion::pop_back() algorithm on its argument.
    struct pop_back
    {
        BOOST_PROTO_CALLABLE()

        template<typename Sig>
        struct result;

        template<typename This, typename Seq>
        struct result<This(Seq)>
          : result<This(Seq const &)>
        {};

        template<typename This, typename Seq>
        struct result<This(Seq &)>
          : fusion::result_of::pop_back<Seq>
        {};

        template<typename Seq>
        typename fusion::result_of::pop_back<Seq>::type
        operator ()(Seq &seq) const
        {
            // Work around a const-correctness issue in Fusion
            typedef typename fusion::result_of::pop_back<Seq>::type result_type;
            return result_type(fusion::begin(seq), fusion::prior(fusion::end(seq)));
        }

        template<typename Seq>
        typename fusion::result_of::pop_back<Seq const>::type
        operator ()(Seq const &seq) const
        {
            return fusion::pop_back(seq);
        }
    };
}}}

#endif

/* pop_back.hpp
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
*/