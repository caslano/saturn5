// Copyright (C) 2006 Douglas Gregor <doug.gregor -at- gmail.com>

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

/** @file timer.hpp
 *
 *  This header provides the @c timer class, which provides access to
 *  the MPI timers.
 */
#ifndef BOOST_MPI_TIMER_HPP
#define BOOST_MPI_TIMER_HPP

#include <boost/mpi/config.hpp>
#include <boost/limits.hpp>

namespace boost { namespace mpi {

/** @brief A simple timer that provides access to the MPI timing
 * facilities.
 *
 *  The @c timer class is a simple wrapper around the MPI timing
 *  facilities that mimics the interface of the Boost Timer library.
 */
class BOOST_MPI_DECL timer {
public:
  /** Initializes the timer
   *
   * @post @c elapsed() == 0
   */
  timer();

  /** Restart the timer.
   *
   * @post @c elapsed() == 0
   */
  void restart();

  /** Return the amount of time that has elapsed since the last
   *  construction or reset, in seconds.
   */
  double elapsed() const;

  /** Return an estimate of the maximum possible value of
   *  elapsed(). Note that this routine may return too high a value on
   *  some systems. 
   */
  double elapsed_max() const;  

  /** Returns the minimum non-zero value that @c elapsed() may
   *  return. This is the resolution of the timer.
   */
  double elapsed_min() const;

  /** Determines whether the elapsed time values are global times or
      local processor times. */
  static bool time_is_global();

private:
  double start_time;
}; // timer

inline timer::timer() 
{ 
  restart(); 
}

inline void timer::restart()
{
  start_time = MPI_Wtime();
}

inline double timer::elapsed() const
{
  return MPI_Wtime() - start_time;
}

inline double timer::elapsed_max() const
{
  return (std::numeric_limits<double>::max)();
}

inline double timer::elapsed_min() const
{
  return MPI_Wtick();
}

} } // end namespace boost::mpi

#endif // BOOST_MPI_TIMER_HPP

/* timer.hpp
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
*/