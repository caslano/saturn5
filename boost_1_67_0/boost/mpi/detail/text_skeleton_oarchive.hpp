// (C) Copyright 2005 Matthias Troyer 

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

//  Authors: Matthias Troyer

#ifndef BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP
#define BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP

#include <boost/archive/detail/auto_link_archive.hpp>
#include <boost/archive/text_oarchive.hpp>
#include <boost/mpi/detail/forward_skeleton_oarchive.hpp>
#include <boost/mpi/detail/ignore_oprimitive.hpp>
#include <boost/archive/detail/register_archive.hpp>

namespace boost { namespace mpi {

// an archive that writes a text skeleton into a stream

class text_skeleton_oarchive 
  : public detail::ignore_oprimitive,
    public detail::forward_skeleton_oarchive<text_skeleton_oarchive,boost::archive::text_oarchive>
{
public:
    text_skeleton_oarchive(std::ostream & s, unsigned int flags = 0) 
     : detail::forward_skeleton_oarchive<text_skeleton_oarchive,boost::archive::text_oarchive>(skeleton_archive_)
     , skeleton_archive_(s,flags)
    {}

private:
    boost::archive::text_oarchive skeleton_archive_;
};

namespace detail {

typedef boost::mpi::detail::forward_skeleton_oarchive<boost::mpi::text_skeleton_oarchive,boost::archive::text_oarchive> type3;

}


} } // end namespace boost::mpi

// required by export
BOOST_SERIALIZATION_REGISTER_ARCHIVE(boost::mpi::text_skeleton_oarchive)
BOOST_SERIALIZATION_REGISTER_ARCHIVE(boost::mpi::detail::type3)


#endif // BOOST_MPI_TEXT_SKELETON_OARCHIVE_HPP

/* text_skeleton_oarchive.hpp
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
*/