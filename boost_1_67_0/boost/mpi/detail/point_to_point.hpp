// Copyright 2005 Douglas Gregor.

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

// Message Passing Interface 1.1 -- Section 3. MPI Point-to-point
#ifndef BOOST_MPI_DETAIL_POINT_TO_POINT_HPP
#define BOOST_MPI_DETAIL_POINT_TO_POINT_HPP

// For (de-)serializing sends and receives
#include <boost/mpi/config.hpp>
#include <boost/mpi/packed_oarchive.hpp>
#include <boost/mpi/packed_iarchive.hpp>

namespace boost { namespace mpi {

class request;
class communicator;

namespace detail {

/** Sends a packed archive using MPI_Send. */
BOOST_MPI_DECL void
packed_archive_send(communicator const& comm, int dest, int tag,
                    const packed_oarchive& ar);

/** Sends a packed archive using MPI_Isend.
 *
 * This routine may split sends into multiple packets. The MPI_Request
 * for each packet will be placed into the out_requests array, up to
 * num_out_requests packets. The number of packets sent will be
 * returned from the function.
 */
BOOST_MPI_DECL request
packed_archive_isend(communicator const& comm, int dest, int tag,
                     const packed_oarchive& ar);

/**
 * \overload
 */
BOOST_MPI_DECL request
packed_archive_isend(communicator const& comm, int dest, int tag,
                     const packed_iarchive& ar);

/** Receives a packed archive using MPI_Recv. */
BOOST_MPI_DECL void
packed_archive_recv(communicator const& comm, int source, int tag, packed_iarchive& ar,
                    MPI_Status& status);

} } } // end namespace boost::mpi::detail

#endif // BOOST_MPI_DETAIL_POINT_TO_POINT_HPP

/* point_to_point.hpp
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
*/