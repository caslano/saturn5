// Copyright (C) 2005, 2006 Douglas Gregor <doug.gregor -at- gmail.com>.

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

// Allows broadcast of skeletons via proxy.

// This header may only be included after both the broadcast.hpp and
// and skeleton_and_content.hpp headers have been included.
#ifndef BOOST_MPI_BROADCAST_SC_HPP
#define BOOST_MPI_BROADCAST_SC_HPP

namespace boost { namespace mpi {

template<typename T>
void
broadcast(const communicator& comm, const skeleton_proxy<T>& proxy, int root)
{
  if (comm.rank() == root) {
    packed_skeleton_oarchive oa(comm);
    oa << proxy.object;
    broadcast(comm, oa, root);
  } else {
    packed_skeleton_iarchive ia(comm);
    broadcast(comm, ia, root);
    ia >> proxy.object;
  }
}

template<typename T>
inline void
broadcast(const communicator& comm, skeleton_proxy<T>& proxy, int root)
{
  const skeleton_proxy<T>& const_proxy(proxy);
  broadcast(comm, const_proxy, root);
}


} } // end namespace boost::mpi

#endif // BOOST_MPI_BROADCAST_SC_HPP

/* broadcast_sc.hpp
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
*/