//
// detail/macos_fenced_block.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2020 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP
#define BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(__MACH__) && defined(__APPLE__)

#include <libkern/OSAtomic.h>
#include <boost/asio/detail/noncopyable.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class macos_fenced_block
  : private noncopyable
{
public:
  enum half_t { half };
  enum full_t { full };

  // Constructor for a half fenced block.
  explicit macos_fenced_block(half_t)
  {
  }

  // Constructor for a full fenced block.
  explicit macos_fenced_block(full_t)
  {
    OSMemoryBarrier();
  }

  // Destructor.
  ~macos_fenced_block()
  {
    OSMemoryBarrier();
  }
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // defined(__MACH__) && defined(__APPLE__)

#endif // BOOST_ASIO_DETAIL_MACOS_FENCED_BLOCK_HPP

/* macos_fenced_block.hpp
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
*/