//
// detail/win_static_mutex.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2020 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP
#define BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_WINDOWS)

#include <boost/asio/detail/scoped_lock.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

struct win_static_mutex
{
  typedef boost::asio::detail::scoped_lock<win_static_mutex> scoped_lock;

  // Initialise the mutex.
  BOOST_ASIO_DECL void init();

  // Initialisation must be performed in a separate function to the "public"
  // init() function since the compiler does not support the use of structured
  // exceptions and C++ exceptions in the same function.
  BOOST_ASIO_DECL int do_init();

  // Lock the mutex.
  void lock()
  {
    ::EnterCriticalSection(&crit_section_);
  }

  // Unlock the mutex.
  void unlock()
  {
    ::LeaveCriticalSection(&crit_section_);
  }

  bool initialised_;
  ::CRITICAL_SECTION crit_section_;
};

#if defined(UNDER_CE)
# define BOOST_ASIO_WIN_STATIC_MUTEX_INIT { false, { 0, 0, 0, 0, 0 } }
#else // defined(UNDER_CE)
# define BOOST_ASIO_WIN_STATIC_MUTEX_INIT { false, { 0, 0, 0, 0, 0, 0 } }
#endif // defined(UNDER_CE)

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/win_static_mutex.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_WINDOWS)

#endif // BOOST_ASIO_DETAIL_WIN_STATIC_MUTEX_HPP

/* win_static_mutex.hpp
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
*/