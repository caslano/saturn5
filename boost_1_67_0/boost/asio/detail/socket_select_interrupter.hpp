//
// detail/socket_select_interrupter.hpp
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2020 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP
#define BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if !defined(BOOST_ASIO_WINDOWS_RUNTIME)

#if defined(BOOST_ASIO_WINDOWS) \
  || defined(__CYGWIN__) \
  || defined(__SYMBIAN32__)

#include <boost/asio/detail/socket_types.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class socket_select_interrupter
{
public:
  // Constructor.
  BOOST_ASIO_DECL socket_select_interrupter();

  // Destructor.
  BOOST_ASIO_DECL ~socket_select_interrupter();

  // Recreate the interrupter's descriptors. Used after a fork.
  BOOST_ASIO_DECL void recreate();

  // Interrupt the select call.
  BOOST_ASIO_DECL void interrupt();

  // Reset the select interrupter. Returns true if the reset was successful.
  BOOST_ASIO_DECL bool reset();

  // Get the read descriptor to be passed to select.
  socket_type read_descriptor() const
  {
    return read_descriptor_;
  }

private:
  // Open the descriptors. Throws on error.
  BOOST_ASIO_DECL void open_descriptors();

  // Close the descriptors.
  BOOST_ASIO_DECL void close_descriptors();

  // The read end of a connection used to interrupt the select call. This file
  // descriptor is passed to select such that when it is time to stop, a single
  // byte will be written on the other end of the connection and this
  // descriptor will become readable.
  socket_type read_descriptor_;

  // The write end of a connection used to interrupt the select call. A single
  // byte may be written to this to wake up the select which is waiting for the
  // other end to become readable.
  socket_type write_descriptor_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/socket_select_interrupter.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_WINDOWS)
       // || defined(__CYGWIN__)
       // || defined(__SYMBIAN32__)

#endif // !defined(BOOST_ASIO_WINDOWS_RUNTIME)

#endif // BOOST_ASIO_DETAIL_SOCKET_SELECT_INTERRUPTER_HPP

/* socket_select_interrupter.hpp
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
*/