//
// detail/std_global.hpp
// ~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2020 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_STD_GLOBAL_HPP
#define BOOST_ASIO_DETAIL_STD_GLOBAL_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_HAS_STD_CALL_ONCE)

#include <exception>
#include <mutex>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

template <typename T>
struct std_global_impl
{
  // Helper function to perform initialisation.
  static void do_init()
  {
    instance_.ptr_ = new T;
  }

  // Destructor automatically cleans up the global.
  ~std_global_impl()
  {
    delete ptr_;
  }

  static std::once_flag init_once_;
  static std_global_impl instance_;
  T* ptr_;
};

template <typename T>
std::once_flag std_global_impl<T>::init_once_;

template <typename T>
std_global_impl<T> std_global_impl<T>::instance_;

template <typename T>
T& std_global()
{
  std::call_once(std_global_impl<T>::init_once_, &std_global_impl<T>::do_init);
  return *std_global_impl<T>::instance_.ptr_;
}

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#endif // defined(BOOST_ASIO_HAS_STD_CALL_ONCE)

#endif // BOOST_ASIO_DETAIL_STD_GLOBAL_HPP

/* std_global.hpp
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
*/