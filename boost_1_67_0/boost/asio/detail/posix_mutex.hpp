//
// detail/posix_mutex.hpp
// ~~~~~~~~~~~~~~~~~~~~~~
//
// Copyright (c) 2003-2020 Christopher M. Kohlhoff (chris at kohlhoff dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//

#ifndef BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP
#define BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP

#if defined(_MSC_VER) && (_MSC_VER >= 1200)
# pragma once
#endif // defined(_MSC_VER) && (_MSC_VER >= 1200)

#include <boost/asio/detail/config.hpp>

#if defined(BOOST_ASIO_HAS_PTHREADS)

#include <pthread.h>
#include <boost/asio/detail/noncopyable.hpp>
#include <boost/asio/detail/scoped_lock.hpp>

#include <boost/asio/detail/push_options.hpp>

namespace boost {
namespace asio {
namespace detail {

class posix_event;

class posix_mutex
  : private noncopyable
{
public:
  typedef boost::asio::detail::scoped_lock<posix_mutex> scoped_lock;

  // Constructor.
  BOOST_ASIO_DECL posix_mutex();

  // Destructor.
  ~posix_mutex()
  {
    ::pthread_mutex_destroy(&mutex_); // Ignore EBUSY.
  }

  // Lock the mutex.
  void lock()
  {
    (void)::pthread_mutex_lock(&mutex_); // Ignore EINVAL.
  }

  // Unlock the mutex.
  void unlock()
  {
    (void)::pthread_mutex_unlock(&mutex_); // Ignore EINVAL.
  }

private:
  friend class posix_event;
  ::pthread_mutex_t mutex_;
};

} // namespace detail
} // namespace asio
} // namespace boost

#include <boost/asio/detail/pop_options.hpp>

#if defined(BOOST_ASIO_HEADER_ONLY)
# include <boost/asio/detail/impl/posix_mutex.ipp>
#endif // defined(BOOST_ASIO_HEADER_ONLY)

#endif // defined(BOOST_ASIO_HAS_PTHREADS)

#endif // BOOST_ASIO_DETAIL_POSIX_MUTEX_HPP

/* posix_mutex.hpp
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
*/