/* Copyright 2016-2017 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/poly_collection for library home page.
 */

#ifndef BOOST_POLY_COLLECTION_DETAIL_IS_INVOCABLE_HPP
#define BOOST_POLY_COLLECTION_DETAIL_IS_INVOCABLE_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <functional>
#include <type_traits>

/* technique explained at
 * http://bannalia.blogspot.com/2016/09/compile-time-checking-existence-of.html 
 */

namespace boost{
namespace poly_collection{
namespace detail{
namespace is_invocable_fallback{

template <typename F,typename... Args>
struct is_invocable:
  std::is_constructible<
    std::function<void(Args...)>,
    std::reference_wrapper<typename std::remove_reference<F>::type>
  >
{};

template <typename R,typename F,typename... Args>
struct is_invocable_r:
  std::is_constructible<
    std::function<R(Args...)>,
    std::reference_wrapper<typename std::remove_reference<F>::type>
  >
{};

struct hook{};

}}}}

namespace std{

template<>
struct is_void< ::boost::poly_collection::detail::is_invocable_fallback::hook>:
  std::false_type
{      
  template<typename F,typename... Args>
  static constexpr bool is_invocable_f()
  {
    using namespace ::boost::poly_collection::detail::is_invocable_fallback;
    return is_invocable<F,Args...>::value;
  }

  template<typename R,typename F,typename... Args>
  static constexpr bool is_invocable_r_f()
  {
    using namespace ::boost::poly_collection::detail::is_invocable_fallback;
    return is_invocable_r<R,F,Args...>::value;
  }
};

} /* namespace std */

namespace boost{

namespace poly_collection{

namespace detail{

template<typename F,typename... Args>
struct is_invocable:std::integral_constant<
  bool,
  std::is_void<is_invocable_fallback::hook>::template
    is_invocable_f<F,Args...>()
>{};

template<typename R,typename F,typename... Args>
struct is_invocable_r:std::integral_constant<
  bool,
  std::is_void<is_invocable_fallback::hook>::template
    is_invocable_r_f<R,F,Args...>()
>{};

} /* namespace poly_collection::detail */

} /* namespace poly_collection */

} /* namespace boost */

#endif

/* is_invocable.hpp
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
*/