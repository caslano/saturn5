/* Copyright 2016 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/poly_collection for library home page.
 */

#ifndef BOOST_POLY_COLLECTION_DETAIL_AUTO_ITERATOR_HPP
#define BOOST_POLY_COLLECTION_DETAIL_AUTO_ITERATOR_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/iterator/iterator_adaptor.hpp>

namespace boost{

namespace poly_collection{

namespace detail{

/* auto_iterator<Iterator> (for want of a better name) behaves like Iterator
 * save for the fact that it derefs to Iterator& rather than
 * Iterator::reference. This is useful to "lift" std algorithms so that
 * user-defined predicates are passed iterators that can then be dereferenced
 * internally.
 */

template<typename Iterator>
class auto_iterator:
  public boost::iterator_adaptor<auto_iterator<Iterator>,Iterator,Iterator>
{
public:
  auto_iterator()=default;
  auto_iterator(const Iterator& it):auto_iterator::iterator_adaptor_{it}{}
  auto_iterator(const auto_iterator&)=default;
  auto_iterator& operator=(const auto_iterator&)=default;

private:
  friend class boost::iterator_core_access;

  Iterator& dereference()const noexcept
  {
    return const_cast<auto_iterator*>(this)->base_reference();
  }
};

} /* namespace poly_collection::detail */

} /* namespace poly_collection */

} /* namespace boost */

#endif

/* auto_iterator.hpp
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
*/