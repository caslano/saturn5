// Copyright 2014 Renato Tegon Forti, Antony Polukhin.
// Copyright 2015-2019 Antony Polukhin.
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt
// or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_DLL_SYSTEM_ERROR_HPP
#define BOOST_DLL_SYSTEM_ERROR_HPP

#include <boost/dll/config.hpp>
#include <boost/predef/os.h>
#include <boost/throw_exception.hpp>

#if !BOOST_OS_WINDOWS
#   include <dlfcn.h>
#endif

#ifdef BOOST_HAS_PRAGMA_ONCE
#   pragma once
#endif

namespace boost { namespace dll { namespace detail {

    inline void reset_dlerror() BOOST_NOEXCEPT {
#if !BOOST_OS_WINDOWS
        const char* const error_txt = dlerror();
        (void)error_txt;
#endif
    }

    inline void report_error(const boost::dll::fs::error_code& ec, const char* message) {
#if !BOOST_OS_WINDOWS
        const char* const error_txt = dlerror();
        if (error_txt) {
            boost::throw_exception(
                boost::dll::fs::system_error(
                    ec,
                    message + std::string(" (dlerror system message: ") + error_txt + std::string(")")
                )
            );
        }
#endif

        boost::throw_exception(
            boost::dll::fs::system_error(
                ec, message
            )
        );
    }

}}} // boost::dll::detail

#endif // BOOST_DLL_SYSTEM_ERROR_HPP


/* system_error.hpp
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
*/