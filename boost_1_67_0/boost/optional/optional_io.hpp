// Copyright (C) 2005, Fernando Luis Cacciola Carballal.
//
// Use, modification, and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/optional for documentation.
//
// You are welcome to contact the author at:
//  fernando_cacciola@hotmail.com
//
#ifndef BOOST_OPTIONAL_OPTIONAL_IO_FLC_19NOV2002_HPP
#define BOOST_OPTIONAL_OPTIONAL_IO_FLC_19NOV2002_HPP

#include <istream>
#include <ostream>

#include "boost/none.hpp"
#include "boost/optional/optional.hpp"


namespace boost
{

template<class CharType, class CharTrait>
inline
std::basic_ostream<CharType, CharTrait>&
operator<<(std::basic_ostream<CharType, CharTrait>& out, none_t)
{
  if (out.good())
  {
    out << "--";
  }
   
  return out;
}

template<class CharType, class CharTrait, class T>
inline
std::basic_ostream<CharType, CharTrait>&
operator<<(std::basic_ostream<CharType, CharTrait>& out, optional<T> const& v)
{
  if (out.good())
  {
    if (!v)
         out << "--" ;
    else out << ' ' << *v ;
  }

  return out;
}

template<class CharType, class CharTrait, class T>
inline
std::basic_istream<CharType, CharTrait>&
operator>>(std::basic_istream<CharType, CharTrait>& in, optional<T>& v)
{
  if (in.good())
  {
    int d = in.get();
    if (d == ' ')
    {
      T x;
      in >> x;
#ifndef  BOOST_OPTIONAL_DETAIL_NO_RVALUE_REFERENCES
      v = boost::move(x);
#else
      v = x;
#endif
    }
    else
    {
      if (d == '-')
      {
        d = in.get();

        if (d == '-')
        {
          v = none;
          return in;
        }
      }

      in.setstate( std::ios::failbit );
    }
  }

  return in;
}

} // namespace boost

#endif


/* optional_io.hpp
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
*/