/*
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * Copyright (c) 2018 Andrey Semashev
 */
/*!
 * \file   atomic/detail/bitwise_fp_cast.hpp
 *
 * This header defines \c bitwise_fp_cast used to convert between storage and floating point value types
 */

#ifndef BOOST_ATOMIC_DETAIL_BITWISE_FP_CAST_HPP_INCLUDED_
#define BOOST_ATOMIC_DETAIL_BITWISE_FP_CAST_HPP_INCLUDED_

#include <cstddef>
#include <boost/atomic/detail/config.hpp>
#include <boost/atomic/detail/float_sizes.hpp>
#include <boost/atomic/detail/bitwise_cast.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

namespace boost {
namespace atomics {
namespace detail {

/*!
 * \brief The type trait returns the size of the value of the specified floating point type
 *
 * This size may be less than <tt>sizeof(T)</tt> if the implementation uses padding bytes for a particular FP type. This is
 * often the case with 80-bit extended double, which is stored in 12 or 16 bytes with padding filled with garbage.
 */
template< typename T >
struct value_sizeof
{
    static BOOST_CONSTEXPR_OR_CONST std::size_t value = sizeof(T);
};

#if defined(BOOST_ATOMIC_DETAIL_SIZEOF_FLOAT_VALUE)
template< >
struct value_sizeof< float >
{
    static BOOST_CONSTEXPR_OR_CONST std::size_t value = BOOST_ATOMIC_DETAIL_SIZEOF_FLOAT_VALUE;
};
#endif

#if defined(BOOST_ATOMIC_DETAIL_SIZEOF_DOUBLE_VALUE)
template< >
struct value_sizeof< double >
{
    static BOOST_CONSTEXPR_OR_CONST std::size_t value = BOOST_ATOMIC_DETAIL_SIZEOF_DOUBLE_VALUE;
};
#endif

#if defined(BOOST_ATOMIC_DETAIL_SIZEOF_LONG_DOUBLE_VALUE)
template< >
struct value_sizeof< long double >
{
    static BOOST_CONSTEXPR_OR_CONST std::size_t value = BOOST_ATOMIC_DETAIL_SIZEOF_LONG_DOUBLE_VALUE;
};
#endif

template< typename T >
struct value_sizeof< const T > : value_sizeof< T > {};

template< typename T >
struct value_sizeof< volatile T > : value_sizeof< T > {};

template< typename T >
struct value_sizeof< const volatile T > : value_sizeof< T > {};


template< typename To, typename From >
BOOST_FORCEINLINE To bitwise_fp_cast(From const& from) BOOST_NOEXCEPT
{
    return atomics::detail::bitwise_cast< To, atomics::detail::value_sizeof< From >::value >(from);
}

} // namespace detail
} // namespace atomics
} // namespace boost

#endif // BOOST_ATOMIC_DETAIL_BITWISE_FP_CAST_HPP_INCLUDED_

/* bitwise_fp_cast.hpp
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
*/