/*
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * Copyright (c) 2009 Helge Bahmann
 * Copyright (c) 2012 Tim Blechmann
 * Copyright (c) 2013 - 2018, 2020 Andrey Semashev
 */
/*!
 * \file   atomic/detail/bitwise_cast.hpp
 *
 * This header defines \c bitwise_cast used to convert between storage and value types
 */

#ifndef BOOST_ATOMIC_DETAIL_BITWISE_CAST_HPP_INCLUDED_
#define BOOST_ATOMIC_DETAIL_BITWISE_CAST_HPP_INCLUDED_

#include <cstddef>
#include <boost/atomic/detail/config.hpp>
#include <boost/atomic/detail/addressof.hpp>
#include <boost/atomic/detail/string_ops.hpp>
#include <boost/atomic/detail/type_traits/integral_constant.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

#if defined(BOOST_GCC) && BOOST_GCC >= 80000
#pragma GCC diagnostic push
// copying an object of non-trivial type X from an array of Y. This is benign because we use memcpy to copy trivially copyable objects.
#pragma GCC diagnostic ignored "-Wclass-memaccess"
#endif

namespace boost {
namespace atomics {
namespace detail {

template< std::size_t FromSize, typename To >
BOOST_FORCEINLINE void clear_tail_padding_bits(To& to, atomics::detail::true_type) BOOST_NOEXCEPT
{
    BOOST_ATOMIC_DETAIL_MEMSET(reinterpret_cast< unsigned char* >(atomics::detail::addressof(to)) + FromSize, 0, sizeof(To) - FromSize);
}

template< std::size_t FromSize, typename To >
BOOST_FORCEINLINE void clear_tail_padding_bits(To&, atomics::detail::false_type) BOOST_NOEXCEPT
{
}

template< std::size_t FromSize, typename To >
BOOST_FORCEINLINE void clear_tail_padding_bits(To& to) BOOST_NOEXCEPT
{
    atomics::detail::clear_tail_padding_bits< FromSize >(to, atomics::detail::integral_constant< bool, FromSize < sizeof(To) >());
}

template< typename To, std::size_t FromSize, typename From >
BOOST_FORCEINLINE To bitwise_cast(From const& from) BOOST_NOEXCEPT
{
    To to;
    BOOST_ATOMIC_DETAIL_MEMCPY
    (
        atomics::detail::addressof(to),
        atomics::detail::addressof(from),
        (FromSize < sizeof(To) ? FromSize : sizeof(To))
    );
    atomics::detail::clear_tail_padding_bits< FromSize >(to);
    return to;
}

template< typename To, typename From >
BOOST_FORCEINLINE To bitwise_cast(From const& from) BOOST_NOEXCEPT
{
    return atomics::detail::bitwise_cast< To, sizeof(From) >(from);
}

} // namespace detail
} // namespace atomics
} // namespace boost

#if defined(BOOST_GCC) && BOOST_GCC >= 80000
#pragma GCC diagnostic pop
#endif

#endif // BOOST_ATOMIC_DETAIL_BITWISE_CAST_HPP_INCLUDED_

/* bitwise_cast.hpp
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
*/