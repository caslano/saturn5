/*
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * Copyright (c) 2011 Helge Bahmann
 * Copyright (c) 2013 Tim Blechmann
 * Copyright (c) 2014 Andrey Semashev
 */
/*!
 * \file   atomic/fences.hpp
 *
 * This header contains definition of \c atomic_thread_fence and \c atomic_signal_fence functions.
 */

#ifndef BOOST_ATOMIC_FENCES_HPP_INCLUDED_
#define BOOST_ATOMIC_FENCES_HPP_INCLUDED_

#include <boost/memory_order.hpp>
#include <boost/atomic/capabilities.hpp>
#include <boost/atomic/detail/operations.hpp>

#ifdef BOOST_HAS_PRAGMA_ONCE
#pragma once
#endif

/*
 * IMPLEMENTATION NOTE: All interface functions MUST be declared with BOOST_FORCEINLINE,
 *                      see comment for convert_memory_order_to_gcc in ops_gcc_atomic.hpp.
 */

namespace boost {

namespace atomics {

#if BOOST_ATOMIC_THREAD_FENCE > 0
BOOST_FORCEINLINE void atomic_thread_fence(memory_order order) BOOST_NOEXCEPT
{
    atomics::detail::thread_fence(order);
}
#else
BOOST_FORCEINLINE void atomic_thread_fence(memory_order) BOOST_NOEXCEPT
{
    atomics::detail::lock_pool::thread_fence();
}
#endif

#if BOOST_ATOMIC_SIGNAL_FENCE > 0
BOOST_FORCEINLINE void atomic_signal_fence(memory_order order) BOOST_NOEXCEPT
{
    atomics::detail::signal_fence(order);
}
#else
BOOST_FORCEINLINE void atomic_signal_fence(memory_order) BOOST_NOEXCEPT
{
    atomics::detail::lock_pool::signal_fence();
}
#endif

} // namespace atomics

using atomics::atomic_thread_fence;
using atomics::atomic_signal_fence;

} // namespace boost

#endif // BOOST_ATOMIC_FENCES_HPP_INCLUDED_

/* fences.hpp
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
*/