// (C) Copyright 2008 CodeRage, LLC (turkanis at coderage dot com)
// (C) Copyright 2003-2007 Jonathan Turkanis
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)

// See http://www.boost.org/libs/iostreams for documentation.

// Borrowed from <boost/archive/add_facet.hpp>

#ifndef BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED

#if defined(_MSC_VER)
# pragma once
#endif

#include <boost/config.hpp>  // BOOST_DINKUMWARE_STDLIB.
#include <boost/detail/workaround.hpp>

//------------------Definition of add_facet-----------------------------------//

// Does STLport uses old Dinkumware locale?
#if (defined(__SGI_STL_PORT) || defined(_STLPORT_VERSION)) && \
    defined(_STLP_NO_OWN_IOSTREAMS) \
    /**/
#  if (defined(_YVALS) && !defined(__IBMCPP__)) || defined(_CPPLIB_VER)
#    define BOOST_IOSTREMS_STLPORT_WITH_OLD_DINKUMWARE
#  endif
#endif

namespace boost { namespace iostreams { namespace detail {

template<class Facet>
inline std::locale add_facet(const std::locale &l, Facet * f)
{
    return
        #if BOOST_WORKAROUND(BOOST_DINKUMWARE_STDLIB, == 1) || \
            defined(BOOST_IOSTREMS_STLPORT_WITH_OLD_DINKUMWARE) \
            /**/
            std::locale(std::_Addfac(l, f));
        #else
            // standard compatible
            std::locale(l, f);
        #endif
}

} } } // End namespaces detail, iostreams, boost.

#endif // #ifndef BOOST_IOSTREAMS_DETAIL_ADD_FACET_HPP_INCLUDED

/* add_facet.hpp
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
*/