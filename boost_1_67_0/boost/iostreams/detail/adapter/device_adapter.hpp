/*
 * Defines the class template boost::iostreams::detail::device_adapter,
 * a convenience base class for device adapters.
 *
 * File:        boost/iostreams/detail/adapter/filter_adapter.hpp
 * Date:        Mon Nov 26 14:35:48 MST 2007
 * 
 * Copyright:   2007-2008 CodeRage, LLC
 * Author:      Jonathan Turkanis
 * Contact:     turkanis at coderage dot com
 *
 * Distributed under the Boost Software License, Version 1.0.(See accompanying 
 * file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)
 * 
 * See http://www.boost.org/libs/iostreams for documentation.
 */

#ifndef BOOST_IOSTREAMS_DETAIL_DEVICE_ADAPTER_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_DEVICE_ADAPTER_HPP_INCLUDED

#include <boost/iostreams/categories.hpp>
#include <boost/iostreams/detail/call_traits.hpp>
#include <boost/iostreams/detail/ios.hpp>
#include <boost/iostreams/operations.hpp>
#include <boost/iostreams/traits.hpp>
#include <boost/static_assert.hpp>

namespace boost { namespace iostreams { namespace detail {

template<typename T>
class device_adapter {
private:
    typedef typename detail::value_type<T>::type value_type;
    typedef typename detail::param_type<T>::type param_type;
public:
    explicit device_adapter(param_type t) : t_(t) { }
    T& component() { return t_; }

    void close() 
    {
        detail::close_all(t_);
    }

    void close(BOOST_IOS::openmode which) 
    { 
        iostreams::close(t_, which); 
    }

    bool flush() 
    { 
        return iostreams::flush(t_); 
    }

    template<typename Locale> // Avoid dependency on <locale>
    void imbue(const Locale& loc) { iostreams::imbue(t_, loc); }

    std::streamsize optimal_buffer_size() const 
    { return iostreams::optimal_buffer_size(t_); }
public:
    value_type t_;
};

//----------------------------------------------------------------------------//

} } } // End namespaces detail, iostreams, boost.

#endif // #ifndef BOOST_IOSTREAMS_DETAIL_DEVICE_ADAPTER_HPP_INCLUDED

/* device_adapter.hpp
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
*/