/*
 * Distributed under the Boost Software License, Version 1.0.(See accompanying 
 * file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)
 * 
 * See http://www.boost.org/libs/iostreams for documentation.

 * File:        boost/iostreams/detail/execute.hpp
 * Date:        Thu Dec 06 13:21:54 MST 2007
 * Copyright:   2007-2008 CodeRage, LLC
 * Author:      Jonathan Turkanis
 * Contact:     turkanis at coderage dot com
 *
 * Defines the function boost::iostreams::detail::current_directory, used by 
 * boost::iostreams::detail::absolute_path.
 */

#ifndef BOOST_IOSTREAMS_DETAIL_CURRENT_DIRECTORY_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_CURRENT_DIRECTORY_HPP_INCLUDED

#include <boost/config.hpp>  // make sure size_t is in std.
#include <cstddef>           // size_t
#include <string>
#include <boost/iostreams/detail/buffer.hpp>
#include <boost/iostreams/detail/config/windows_posix.hpp>
#include <boost/iostreams/detail/system_failure.hpp>
#ifdef BOOST_IOSTREAMS_WINDOWS
# define WIN32_LEAN_AND_MEAN  // Exclude rarely-used stuff from Windows headers
# include <windows.h>
#else
# include <unistd.h>        // sysconf.
#endif

// Must come last.
#include <boost/iostreams/detail/config/disable_warnings.hpp>

namespace boost { namespace iostreams { namespace detail {

// Returns the current working directory
inline std::string current_directory()
{
#ifdef BOOST_IOSTREAMS_WINDOWS
    DWORD               length;
    basic_buffer<char>  buf(MAX_PATH);
    while (true) {
        length = ::GetCurrentDirectoryA(buf.size(), buf.data());
        if (!length)
            throw_system_failure("failed determining current directory");
        if (length < static_cast<DWORD>(buf.size()))
            break;
        buf.resize(buf.size() * 2);
    }
    return std::string(buf.data(), length);
#else // #ifdef BOOST_IOSTREAMS_WINDOWS
    basic_buffer<char> buf(pathconf(".", _PC_PATH_MAX));
    if (!getcwd(buf.data(), static_cast<size_t>(buf.size())))
        throw_system_failure("failed determining current directory");
    return std::string(buf.data());
#endif // #ifdef BOOST_IOSTREAMS_WINDOWS
}

} } } // End namespaces detail, iostreams, boost.

#include <boost/iostreams/detail/config/enable_warnings.hpp>

#endif // #ifndef BOOST_IOSTREAMS_DETAIL_CURRENT_DIRECTORY_HPP_INCLUDED

/* current_directory.hpp
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
*/