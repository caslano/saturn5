// (C) Copyright 2008 CodeRage, LLC (turkanis at coderage dot com)
// (C) Copyright 2003-2007 Jonathan Turkanis
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)

// See http://www.boost.org/libs/iostreams for documentation.

// Contains machinery for performing code conversion.

#ifndef BOOST_IOSTREAMS_DETAIL_CODECVT_HOLDER_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_CODECVT_HOLDER_HPP_INCLUDED

#if defined(_MSC_VER)
# pragma once
#endif

#include <cwchar>            // mbstate_t.
#include <locale>            // codecvt, locale.
#include <boost/config.hpp>  // HAS_MACRO_USE_FACET.
#include <boost/iostreams/detail/config/codecvt.hpp>

namespace boost { namespace iostreams { namespace detail {

struct default_codecvt { 
    typedef wchar_t         intern_type, from_type;
    typedef char            extern_type, to_type;
    typedef std::mbstate_t  state_type;
};

template<typename Codecvt>
struct codecvt_holder {
    typedef Codecvt codecvt_type;
    const codecvt_type& get() const { return codecvt_; }
    void imbue(const std::locale&) { }
    Codecvt codecvt_;
};

template<>
struct codecvt_holder<default_codecvt> {
    typedef std::codecvt<wchar_t, char, std::mbstate_t> codecvt_type;
    codecvt_holder() { reset_codecvt(); }
    const codecvt_type& get() const { return *codecvt_; }
    void imbue(const std::locale& loc) 
    { 
        loc_ = loc;
        reset_codecvt();
    }
    void reset_codecvt()
    {
        using namespace std;
        #ifndef BOOST_HAS_MACRO_USE_FACET
            codecvt_ = & use_facet< codecvt_type >(loc_);
        #else
            codecvt_ = & _USE(loc_, codecvt_type);
        #endif
    }
    std::locale loc_; // Prevent codecvt_ from being freed.
    const codecvt_type* codecvt_;
};

} } } // End namespaces detail, iostreams, boost.

#endif // #ifndef BOOST_IOSTREAMS_DETAIL_CODECVT_HOLDER_HPP_INCLUDED

/* codecvt_holder.hpp
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
*/