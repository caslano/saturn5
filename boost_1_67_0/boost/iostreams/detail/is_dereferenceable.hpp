// (C) Copyright 2008 CodeRage, LLC (turkanis at coderage dot com)
// (C) Copyright 2005-2007 Jonathan Turkanis
// (C) Copyright David Abrahams 2004.
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt.)

// See http://www.boost.org/libs/iostreams for documentation.

#ifndef BOOST_IOSTREAMS_DETAIL_IS_DEREFERENCEABLE_HPP_INCLUDED
#define BOOST_IOSTREAMS_DETAIL_IS_DEREFERENCEABLE_HPP_INCLUDED

# include <boost/type_traits/remove_cv.hpp>
# include <boost/mpl/aux_/lambda_support.hpp>
# include <boost/mpl/bool.hpp>
# include <boost/detail/workaround.hpp>

namespace boost { namespace iostreams { namespace detail { 

// is_dereferenceable<T> metafunction
//
// Requires: Given x of type T&, if the expression *x is well-formed
// it must have complete type; otherwise, it must neither be ambiguous
// nor violate access.

// This namespace ensures that ADL doesn't mess things up.
namespace is_dereferenceable_
{
  // a type returned from operator* when no increment is found in the
  // type's own namespace
  struct tag {};
  
  // any soaks up implicit conversions and makes the following
  // operator* less-preferred than any other such operator that
  // might be found via ADL.
  struct any { template <class T> any(T const&); };

  // This is a last-resort operator* for when none other is found
  tag operator*(any const&);

# if BOOST_WORKAROUND(__MWERKS__, BOOST_TESTED_AT(0x3202))
#  define BOOST_comma(a,b) (a)
# else 
  // In case an operator++ is found that returns void, we'll use ++x,0
  tag operator,(tag,int);  
#  define BOOST_comma(a,b) (a,b)
# endif 
  
  // two check overloads help us identify which operator++ was picked
  char (& check_increment(tag) )[2];
  
  template <class T>
  char check_increment(T const&);
  
  template <class T>
  struct impl
  {
      static typename boost::remove_cv<T>::type& x;

      BOOST_STATIC_CONSTANT(
          bool
        , value = sizeof(is_dereferenceable_::check_increment(BOOST_comma(*x,0))) == 1
      );
  };
}

# undef BOOST_comma

template<typename T> 
struct is_dereferenceable 
    : public ::boost::integral_constant<bool, is_dereferenceable_::impl<T>::value >
{ 
    BOOST_MPL_AUX_LAMBDA_SUPPORT(1,is_dereferenceable,(T))
};

} } 


} // End namespaces detail, iostreams, boost.

#endif // BOOST_IOSTREAMS_DETAIL_IS_DEREFERENCEABLE_HPP_INCLUDED

/* is_dereferenceable.hpp
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
*/