
// Copyright (C) 2009-2012 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0
// (see accompanying file LICENSE_1_0.txt or a copy at
// http://www.boost.org/LICENSE_1_0.txt)
// Home at http://www.boost.org/libs/local_function

#ifndef BOOST_LOCAL_FUNCTION_AUX_DECL_HPP_
#define BOOST_LOCAL_FUNCTION_AUX_DECL_HPP_

#include <boost/local_function/aux_/macro/code_/result.hpp>
#include <boost/local_function/aux_/macro/code_/bind.hpp>
#include <boost/local_function/aux_/macro/code_/functor.hpp>
#include <boost/local_function/aux_/preprocessor/traits/decl.hpp>
#include <boost/local_function/aux_/preprocessor/traits/decl_error.hpp>
#include <boost/scope_exit.hpp>
#include <boost/mpl/assert.hpp>
#include <boost/preprocessor/control/iif.hpp>
#include <boost/preprocessor/facilities/is_empty.hpp>
#include <boost/preprocessor/list/adt.hpp>
#include <boost/preprocessor/tuple/eat.hpp>

// PRIVATE //

#define BOOST_LOCAL_FUNCTION_AUX_DECL_OK_(id, typename01, decl_traits) \
    BOOST_LOCAL_FUNCTION_AUX_CODE_RESULT(id, typename01, decl_traits) \
    BOOST_LOCAL_FUNCTION_AUX_CODE_BIND(id, typename01, decl_traits) \
    BOOST_LOCAL_FUNCTION_AUX_CODE_FUNCTOR(id, typename01, decl_traits) 

#define BOOST_LOCAL_FUNCTION_AUX_DECL_ERROR_(id, typename01, decl_traits) \
    BOOST_PP_IIF(BOOST_PP_LIST_IS_CONS( \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_RETURNS(decl_traits)), \
        /* return specified, so no result type before this macro expansion */ \
        BOOST_PP_TUPLE_EAT(1) \
    , \
        /* even if error, must declare result type to prevent additional */ \
        /* error due to result type appearing before this macro expansion */ \
        BOOST_LOCAL_FUNCTION_AUX_CODE_RESULT_DECL \
    )(id) \
    ; /* close eventual previous statements, otherwise it has no effect */ \
    BOOST_MPL_ASSERT_MSG(false, /* always fails (there's an error) */ \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_ERROR_MSG(decl_traits), ())\
    ; /* must close ASSERT macro for eventual use within class scope */

// PUBLIC //

#define BOOST_LOCAL_FUNCTION_AUX_DECL_ARGS_VAR \
    BOOST_LOCAL_FUNCTION_AUX_SYMBOL( (args) )

// Undefine local function bound args global variable. Actual declaration of
// this variable is made using SFINAE mechanisms by each local function macro.
extern boost::scope_exit::detail::undeclared
        BOOST_LOCAL_FUNCTION_AUX_DECL_ARGS_VAR;

// sign_params: parsed parenthesized params.
#define BOOST_LOCAL_FUNCTION_AUX_DECL(id, typename01, decl_traits) \
    BOOST_PP_IIF(BOOST_PP_IS_EMPTY( \
            BOOST_LOCAL_FUNCTION_AUX_PP_DECL_TRAITS_ERROR_MSG(decl_traits)), \
        BOOST_LOCAL_FUNCTION_AUX_DECL_OK_ \
    , \
        BOOST_LOCAL_FUNCTION_AUX_DECL_ERROR_ \
    )(id, typename01, decl_traits)

#endif // #include guard


/* decl.hpp
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
*/