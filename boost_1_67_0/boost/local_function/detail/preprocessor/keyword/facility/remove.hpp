
// Copyright (C) 2009-2012 Lorenzo Caminiti
// Distributed under the Boost Software License, Version 1.0
// (see accompanying file LICENSE_1_0.txt or a copy at
// http://www.boost.org/LICENSE_1_0.txt)
// Home at http://www.boost.org/libs/local_function

#ifndef BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_HPP_
#define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_HPP_

#include <boost/preprocessor/control/iif.hpp>
#include <boost/preprocessor/tuple/eat.hpp>
#include <boost/preprocessor/config/config.hpp>
#include <boost/preprocessor/cat.hpp>

// PRIVATE //

// From PP_EXPAND (my own reentrant version).
#if ~BOOST_PP_CONFIG_FLAGS() & BOOST_PP_CONFIG_MWCC() && \
        ~BOOST_PP_CONFIG_FLAGS() & BOOST_PP_CONFIG_DMC()
#   define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_(x) \
        BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_I_(x)
#else
#   define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_(x) \
        BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_OO_((x))
#   define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_OO_( \
            par) \
        BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_I_ ## par
#endif
#define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_I_(x) x

// PUBLIC //

// `is_front_macro(tokens)` is 1 if `tokens` start with keyword to remove.
// `removing_prefix ## <keyword-to-remove>` must expand to nothing, else 0.
#define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_FRONT( \
        tokens, is_front_macro, removing_prefix) \
    /* without EXPAND doesn't expand on MSVC */ \
    BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_EXPAND_( \
        BOOST_PP_IIF(is_front_macro(tokens), \
            BOOST_PP_CAT \
        , \
            tokens BOOST_PP_TUPLE_EAT(2) \
        )(removing_prefix, tokens) \
    )

// `is_back_macro(tokens)` is 1 iff `tokens` end with keyword to remove.
// `<keyword-to-remove> ## removing_postfix` must expand to nothing, else 0.
#define BOOST_LOCAL_FUNCTION_DETAIL_PP_KEYWORD_FACILITY_REMOVE_BACK( \
        tokens, is_back_macro, removing_prefix) \
    BOOST_PP_IIF(is_back_macro(tokens), \
        BOOST_PP_CAT \
    , \
        tokens BOOST_PP_TUPLE_EAT(2) \
    )(tokens, removing_postfix)

#endif // #include guard


/* remove.hpp
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
*/