#ifndef POINTEE_DWA200415_HPP
# define POINTEE_DWA200415_HPP

//
// Copyright David Abrahams 2004. Use, modification and distribution is
// subject to the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
// typename pointee<P>::type provides the pointee type of P.
//
// For example, it is T for T* and X for shared_ptr<X>.
//
// http://www.boost.org/libs/iterator/doc/pointee.html
//

# include <boost/detail/is_incrementable.hpp>
# include <boost/iterator/iterator_traits.hpp>
# include <boost/type_traits/add_const.hpp>
# include <boost/type_traits/remove_cv.hpp>
# include <boost/mpl/if.hpp>
# include <boost/mpl/eval_if.hpp>

#include <iterator>

namespace boost {

namespace detail
{
  template <class P>
  struct smart_ptr_pointee
  {
      typedef typename P::element_type type;
  };

  template <class Iterator>
  struct iterator_pointee
  {
      typedef typename std::iterator_traits<Iterator>::value_type value_type;

      struct impl
      {
          template <class T>
          static char test(T const&);

          static char (& test(value_type&) )[2];

          static Iterator& x;
      };

      BOOST_STATIC_CONSTANT(bool, is_constant = sizeof(impl::test(*impl::x)) == 1);

      typedef typename mpl::if_c<
#  if BOOST_WORKAROUND(__BORLANDC__, BOOST_TESTED_AT(0x551))
          ::boost::detail::iterator_pointee<Iterator>::is_constant
#  else
          is_constant
#  endif
        , typename add_const<value_type>::type
        , value_type
      >::type type;
  };
}

template <class P>
struct pointee
  : mpl::eval_if<
        detail::is_incrementable<P>
      , detail::iterator_pointee<P>
      , detail::smart_ptr_pointee<P>
    >
{
};

} // namespace boost

#endif // POINTEE_DWA200415_HPP

/* pointee.hpp
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
*/