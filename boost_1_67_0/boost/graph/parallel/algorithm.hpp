// Copyright 2004 The Trustees of Indiana University.

// Use, modification and distribution is subject to the Boost Software
// License, Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

//  Authors: Douglas Gregor
//           Andrew Lumsdaine
#ifndef BOOST_PARALLEL_ALGORITHM_HPP
#define BOOST_PARALLEL_ALGORITHM_HPP

#ifndef BOOST_GRAPH_USE_MPI
#error "Parallel BGL files should not be included unless <boost/graph/use_mpi.hpp> has been included"
#endif

#include <boost/optional.hpp>
#include <boost/config.hpp> // for BOOST_STATIC_CONSTANT
#include <vector>
#include <functional>

namespace boost { namespace parallel {
  template<typename BinaryOp>
  struct is_commutative
  {
    BOOST_STATIC_CONSTANT(bool, value = false);
  };

  template<typename T>
  struct minimum : std::binary_function<T, T, T>
  {
    const T& operator()(const T& x, const T& y) const { return x < y? x : y; }
  };

  template<typename T>
  struct maximum : std::binary_function<T, T, T>
  {
    const T& operator()(const T& x, const T& y) const { return x < y? y : x; }
  };

  template<typename T>
  struct sum : std::binary_function<T, T, T>
  {
    const T operator()(const T& x, const T& y) const { return x + y; }
  };

  template<typename ProcessGroup, typename InputIterator,
           typename OutputIterator, typename BinaryOperation>
  OutputIterator
  reduce(ProcessGroup pg, typename ProcessGroup::process_id_type root,
         InputIterator first, InputIterator last, OutputIterator out,
         BinaryOperation bin_op);

  template<typename ProcessGroup, typename T, typename BinaryOperation>
  inline T
  all_reduce(ProcessGroup pg, const T& value, BinaryOperation bin_op)
  {
    T result;
    all_reduce(pg,
               const_cast<T*>(&value), const_cast<T*>(&value+1),
               &result, bin_op);
    return result;
  }

  template<typename ProcessGroup, typename T, typename BinaryOperation>
  inline T
  scan(ProcessGroup pg, const T& value, BinaryOperation bin_op)
  {
    T result;
    scan(pg,
         const_cast<T*>(&value), const_cast<T*>(&value+1),
         &result, bin_op);
    return result;
  }


  template<typename ProcessGroup, typename InputIterator, typename T>
  void
  all_gather(ProcessGroup pg, InputIterator first, InputIterator last,
             std::vector<T>& out);
} } // end namespace boost::parallel

#include <boost/graph/parallel/detail/inplace_all_to_all.hpp>

#endif // BOOST_PARALLEL_ALGORITHM_HPP

/* algorithm.hpp
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
*/