//=======================================================================
// Copyright 2013 University of Warsaw.
// Authors: Piotr Wygocki
//
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//=======================================================================
#ifndef BOOST_GRAPH_FIND_FLOW_COST_HPP
#define BOOST_GRAPH_FIND_FLOW_COST_HPP

#include <boost/graph/iteration_macros.hpp>

namespace boost
{

template < class Graph, class Capacity, class ResidualCapacity, class Weight >
typename property_traits< Weight >::value_type find_flow_cost(const Graph& g,
    Capacity capacity, ResidualCapacity residual_capacity, Weight weight)
{
    typedef typename property_traits< Weight >::value_type Cost;

    Cost cost = 0;
    BGL_FORALL_EDGES_T(e, g, Graph)
    {
        if (get(capacity, e) > Cost(0))
        {
            cost += (get(capacity, e) - get(residual_capacity, e))
                * get(weight, e);
        }
    }
    return cost;
}

template < class Graph, class P, class T, class R >
typename detail::edge_weight_value< Graph, P, T, R >::type find_flow_cost(
    const Graph& g, const bgl_named_params< P, T, R >& params)
{
    return find_flow_cost(g,
        choose_const_pmap(get_param(params, edge_capacity), g, edge_capacity),
        choose_const_pmap(get_param(params, edge_residual_capacity), g,
            edge_residual_capacity),
        choose_const_pmap(get_param(params, edge_weight), g, edge_weight));
}

template < class Graph >
typename property_traits<
    typename property_map< Graph, edge_capacity_t >::type >::value_type
find_flow_cost(const Graph& g)
{
    bgl_named_params< int, buffer_param_t > params(0);
    return find_flow_cost(g, params);
}

} // boost

#endif /* BOOST_GRAPH_FIND_FLOW_COST_HPP */

/* find_flow_cost.hpp
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
*/