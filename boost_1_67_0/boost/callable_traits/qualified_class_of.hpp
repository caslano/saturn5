/*

@Copyright Barrett Adair 2015-2017

Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)

*/

#ifndef BOOST_CLBL_TRTS_QUALIFIED_class_of_HPP
#define BOOST_CLBL_TRTS_QUALIFIED_class_of_HPP

#include <boost/callable_traits/detail/core.hpp>

namespace boost { namespace callable_traits {

//[ qualified_class_of_hpp
/*`
[section:ref_qualified_class_of qualified_class_of]
[heading Header]
``#include <boost/callable_traits/qualified_class_of.hpp>``
[heading Definition]
*/

template<typename T>
using qualified_class_of_t = //see below
//<-
    detail::try_but_fail_if_invalid<
        typename detail::traits<detail::shallow_decay<T>>::invoke_type,
        type_is_not_a_member_pointer>;

namespace detail {

    template<typename T, typename = std::false_type>
    struct qualified_class_of_impl {};

    template<typename T>
    struct qualified_class_of_impl <T, typename std::is_same<
        qualified_class_of_t<T>, detail::dummy>::type>
    {
        using type = qualified_class_of_t<T>;
    };
}

//->

template<typename T>
struct qualified_class_of : detail::qualified_class_of_impl<T> {};

//<-
}} // namespace boost::callable_traits
//->

/*`
[heading Constraints]
* `T` must be a member pointer

[heading Behavior]
* A substitution failure occurs if the constraints are violated.
* If `T` is a member function pointer, the aliased type is the parent class of the member, qualified according to the member qualifiers on `T`. If `T` does not have a member reference qualifier, then the aliased type will be an lvalue reference.
* If `T` is a member data pointer, the aliased type is equivalent to `ct::class_of<T> const &`.

[heading Input/Output Examples]
[table
    [[`T`]                              [`qualified_class_of_t<T>`]]
    [[`void(foo::*)()`]                 [`foo &`]]
    [[`void(foo::* volatile)() const`]           [`foo const &`]]
    [[`void(foo::*)() &&`]              [`foo &&`]]
    [[`void(foo::*&)() volatile &&`]     [`foo volatile &&`]]
    [[`int foo::*`]                     [`foo const &`]]
    [[`const int foo::*`]               [`foo const &`]]
]

[heading Example Program]
[import ../example/qualified_class_of.cpp]
[qualified_class_of]
[endsect]
*/
//]

#endif // #ifndef BOOST_CLBL_TRTS_QUALIFIED_class_of_HPP

/* qualified_class_of.hpp
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
*/