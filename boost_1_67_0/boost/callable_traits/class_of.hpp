/*

@Copyright Barrett Adair 2015-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)

*/

#ifndef BOOST_CLBL_TRTS_class_of_HPP
#define BOOST_CLBL_TRTS_class_of_HPP

#include <boost/callable_traits/detail/core.hpp>

namespace boost { namespace callable_traits {

//[ class_of_hpp
/*`
[section:ref_class_of class_of]
[heading Header]
``#include <boost/callable_traits/class_of.hpp>``
[heading Definition]
*/

template<typename T>
using class_of_t = //see below
//<-
    detail::try_but_fail_if_invalid<
        typename detail::traits<detail::shallow_decay<T>>::class_type,
        type_is_not_a_member_pointer>;

namespace detail {

    template<typename T, typename = std::false_type>
    struct class_of_impl {};

    template<typename T>
    struct class_of_impl <T, typename std::is_same<
        class_of_t<T>, detail::dummy>::type>
    {
        using type = class_of_t<T>;
    };
}

//->

template<typename T>
struct class_of : detail::class_of_impl<T> {};

//<-
}} // namespace boost::callable_traits
//->

/*`
[heading Constraints]
* `T` must be a member pointer

[heading Behavior]
* A substitution failure occurs if the constraints are violated.
* The aliased type is the parent class of the member. In other words, if `T` is expanded to `U C::*`, the aliased type is `C`.

[heading Input/Output Examples]
[table
    [[`T`]                              [`class_of_t<T>`]]
    [[`int foo::*`]                     [`foo`]]
    [[`void(foo::* const &)() const`]           [`foo`]]
]

[heading Example Program]
[import ../example/class_of.cpp]
[class_of]
[endsect]
*/
//]

#endif // #ifndef BOOST_CLBL_TRTS_class_of_HPP

/* class_of.hpp
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
*/