#ifndef BOOST_CLBL_TRTS_PARAMETER_INDEX_HELPER_HPP
#define BOOST_CLBL_TRTS_PARAMETER_INDEX_HELPER_HPP

#include <boost/callable_traits/detail/config.hpp>

namespace boost { namespace callable_traits { namespace detail {

template<std::size_t I, typename T, bool IgnoreThisPointer = false,
    bool AllowPlus1 = false, std::size_t Count = 0>
struct parameter_index_helper {

    using error_t = error_type<T>;

    using args_tuple = typename std::conditional<IgnoreThisPointer,
        typename detail::traits<T>::non_invoke_arg_types,
        typename detail::traits<T>::arg_types>::type;

    static constexpr bool has_parameter_list =
        !std::is_same<args_tuple, invalid_type>::value
        && !std::is_same<args_tuple, reference_error>::value;

    using temp_tuple = typename std::conditional<has_parameter_list,
        args_tuple, std::tuple<error_t>>::type;

    static constexpr std::size_t parameter_list_size =
        std::tuple_size<temp_tuple>::value;

    static constexpr bool is_out_of_range = has_parameter_list &&
        I >= parameter_list_size + static_cast<std::size_t>(AllowPlus1);

    static constexpr bool is_count_out_of_range = has_parameter_list &&
        I + Count > parameter_list_size + static_cast<std::size_t>(AllowPlus1);

    static constexpr std::size_t index =
        has_parameter_list && !is_out_of_range ? I : 0;

    static constexpr std::size_t count =
        has_parameter_list && !is_count_out_of_range ? Count : 0;

    using permissive_tuple = typename std::conditional<
        has_parameter_list && !is_out_of_range,
        args_tuple, std::tuple<error_t>>::type;

    using permissive_function = typename std::conditional<
        has_parameter_list && !is_out_of_range,
        T, error_t(error_t)>::type;
};

}}} // namespace boost::callable_traits::detail

#endif // #ifndef BOOST_CLBL_TRTS_PARAMETER_INDEX_HELPER_HPP

/* parameter_index_helper.hpp
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
*/