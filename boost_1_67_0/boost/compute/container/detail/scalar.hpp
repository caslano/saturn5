//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_CONTAINER_DETAIL_SCALAR_HPP
#define BOOST_COMPUTE_CONTAINER_DETAIL_SCALAR_HPP

#include <boost/compute/buffer.hpp>
#include <boost/compute/event.hpp>
#include <boost/compute/detail/read_write_single_value.hpp>

namespace boost {
namespace compute {
namespace detail {

// scalar<T> provides a trivial "container" that stores a
// single value in a memory buffer on a compute device
template<class T>
class scalar
{
public:
    typedef T value_type;

    scalar(const context &context)
        : m_buffer(context, sizeof(T))
    {
    }

    ~scalar()
    {
    }

    T read(command_queue &queue) const
    {
        return read_single_value<T>(m_buffer, 0, queue);
    }

    event write(const T &value, command_queue &queue)
    {
        return write_single_value<T>(value, m_buffer, 0, queue);
    }

    const buffer& get_buffer() const
    {
        return m_buffer;
    }

private:
    buffer m_buffer;
};

} // end detail namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_CONTAINER_DETAIL_SCALAR_HPP

/* scalar.hpp
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
*/