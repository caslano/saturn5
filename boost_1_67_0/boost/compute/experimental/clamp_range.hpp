//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP
#define BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP

#include <iterator>

#include <boost/compute/lambda.hpp>
#include <boost/compute/algorithm/transform.hpp>

namespace boost {
namespace compute {
namespace experimental {

template<class InputIterator, class OutputIterator>
inline OutputIterator
clamp_range(InputIterator first,
            InputIterator last,
            OutputIterator result,
            typename std::iterator_traits<InputIterator>::value_type lo,
            typename std::iterator_traits<InputIterator>::value_type hi,
            command_queue &queue)
{
    using ::boost::compute::lambda::_1;
    using ::boost::compute::lambda::_2;
    using ::boost::compute::lambda::clamp;

    return ::boost::compute::transform(
        first,
        last,
        result,
        clamp(_1, lo, hi),
        queue
    );
}

} // end experimental namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_EXPERIMENTAL_CLAMP_RANGE_HPP

/* clamp_range.hpp
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
*/