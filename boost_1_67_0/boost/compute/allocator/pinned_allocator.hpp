//---------------------------------------------------------------------------//
// Copyright (c) 2013-2014 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP
#define BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP

#include <boost/compute/allocator/buffer_allocator.hpp>

namespace boost {
namespace compute {

template<class T>
class pinned_allocator : public buffer_allocator<T>
{
public:
    explicit pinned_allocator(const context &context)
        : buffer_allocator<T>(context)
    {
        buffer_allocator<T>::set_mem_flags(
            buffer::read_write | buffer::alloc_host_ptr
        );
    }

    pinned_allocator(const pinned_allocator<T> &other)
        : buffer_allocator<T>(other)
    {
    }

    pinned_allocator<T>& operator=(const pinned_allocator<T> &other)
    {
        if(this != &other){
            buffer_allocator<T>::operator=(other);
        }

        return *this;
    }

    ~pinned_allocator()
    {
    }
};

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALLOCATOR_PINNED_ALLOCATOR_HPP

/* pinned_allocator.hpp
thi53Bv10wKPRW4s/17TOyE7RTKSHpuatBafxCHeOo8alnhom6kx1T7w5iizipENtJ4aG6RMhfO/p2MiipulIwYMoxABUcSLh+TCwT3aodE8neSmZQ3+m6FkewiPa3nZgljdShUpgpk3/2IDqxVyvtX3gvnWSSv/9BdCZ0EiIiL0zFDFjGAI8hpNf8KO4Cm6rdPYz98BrkuNrj/QaxrWBb6DR9rTTHdjEn02jab+O/be/098xr1eHL7zU0bISCBrtbxawl6DOchIjOveBMQ6X/976BZJMT4nTywlLp17HU3fwHda8cF6TxWNFZGqHb625E2x4ENkC8Ia1saoh3CQeWm3yAOmsq3Ma86Kqi1fTSsdvKlFHhonBsu6ILfaR8FVVGBlWXVOp1CJamUP6+1e0Bb6zlCAOCE7a2/MUrXbyMpVSyrDc711ZypNejgryzqoLW0T51oVbyX2Hhkv2YjJF6LyazXKm0QEGHXlhBMV82s1MXMAKqpLliWel4dvlqe8PaOWPeRrE/ZMcmw2qHbaBfqMx9iKohjdLpWO8QVhZy/SC+JG9QgPHEBrjT/PSuIfLCvXcPvAN89v4J0faB8Ac2MW9GZz/g1BQjEIuzWcb/VtEbU3BiKi57zG3A/Izb4qLo2zqRS/2cm/ZcH8m7P772xjiHoUXG190/H91R9yE+/oGIHidkCJfZsfKUmQStQSppnTYCAsJCgIzvQzYawJRSTUNKTmDsgUEEITxaIEWtu1HfKHIuM3uMh59zQumB+0rm6Pr3M3cbdHnG9Ivjuh6v0/mS+xG32WGIuyr7jKODjgDAp+7aKo4KsjjArfgPIasm6l6zs1CmrfFcjcWwHJ6p82+MhlijsKf0dA8EqX8bZLfBuk6BsMB1iXHf1i9FrIcXn4l056qzVVezIbpCiuufWbifY5lu/7kxFnWY7K+khCbX01UWdw5EuXrGjJpZ8MZpBfLo8KrWJAGqfpGdd82pPHwIhJ3at82nD+aW5lTHofZc2hC5l5T4b0fJHQKsp6D/59s/iuTH0+Hu3uba+h7DTBOSa0FeBSWXquPTI8OgdY7njc+tNC8GTj8hh5Naky+UGRgr3yQToakXxUYmuGOm5XBVTSXAnXYrm+paiCHx5JljbpbFCVWcQJ6xS4DVxJWVxRMavCwNiinDUoexJctT+X1EsvOnFcvt9rwmkh0xIjQwEftEAxipUFoqKcDJvxYNg/uPFhLX1dCcaqcVynnuXI0E83Y3L0yu9+K2qVvV7H0pg+DVjZ+t0QRX237lr51/dlxJUl47ZerxfmD6LjHjfyWVM/2x5yn7GCzoCOih5HBj56Ycn+hGn5VKcOq9HfSOjoTpM9Kd9ISIkVrHSlOGujG5xxI8JIWLNC6u2wCJVcfo8Oem5Gu5vJHfc3w6Sjw8tasdY4YwfDpfMoGcMx83isNFigi130qTsZ/KbbZ726LBYGM3919uKkTczY/qNUxpYKeqlojDkPnuip5jaD06kLmKKnMol8MPD6xXq6NZ5Y37Q0792+Wfjsac1Jlo9WvLcKYCqDQLXvqb+FcmkODu/j0NrKanx/WyLzo7aeH7lpj6fNDwfnbxxoP00Dggp58wZaMl3oZ3Jp/edZeiKiaLoc29nd0chrvohrcaYBxGi68qIWpqVRY7mUXDa8PFDcCK9iOtUEhWaI/3rs5zj2+o4KQ1pEfdjDElxeAWqHFzrSYuXJBQfBmvu89znZUFCdSDT4BebeBxcXLxDTPuPujou8lu7pr5ZxuafbcGtHSU60i/uSREX1MmwO3L+FaDe92R0S+kFm67jnRmm4YLdDkGfAg1/J1Nbw8abl+RqzOX9cOOWLlHjxv8yvx2M2pVk97cXZaymhosPCc+pr+nTjaa+QxkXFs/H+y3QbUs7tuCb61Aim0A6+qgrY8MsE6R3jG24p8Aaqy4RbpMHH2vrX0RUbdZmZIH//WKYv74LE1wcrVIeHBRSygnewv5TvPvd1dqLNlbMRBa7DDvn9An1C2LNNQesotkU6rqH2FhqYj3PVmcG/FqgnPzyfg4/H5hpBuFAkIKL+qCR58JLfN8Ooh+ibxgtc5B2FqhAPkTKr+VGv6AtYCytkFYXSYEKkDWHqy6iD6FCVo02lwagy/o20ofy9bSxivfZFoP48TywivIx7qDmQ/ZECAMdb7uVTTSisdhu1+xOjLKx5rKUddS+nigUXiCfnxyKN+KxG2Y+/SyyS/WGLvnqOG6M64/MG9bi2vRdJvtmNkflgXE7oSAXVnspIKUyhC8CjunjMCqoJ2+MuCQnWMis0SooLqTjxLKg3y41ZHK60N/ezk8KPDaUvXp2NVFwvQy+54I0POZoYlX2kY5kOqRJBf49gT20JsUR39sYi/UcbXKj1H7G8ihrG3zIyjvUpYPr6ossw/fvqgIEdm2gwZ7QRv7tXTTR6mNLhOTa4IRlDFumkxkO5f4V+IKaylreIqZ5gpIvvXXxG9JH6gSy99tERiWUGMyKwvDP7hCtDpxO848LbQBjBJyM+kOiZ7zTaXCd+qSQqlwf3POM89hmSXnfsMKl1wP1aXr4AUTd9Ihnoz0U7C/4WfAPtfmDeh26nZvWvDFmKnxzS8yHo18rC92aVlOds6wGurYosffe5E5kVupXqTuxAh3GAJT6IFeGoUppVmrajvpFfoH7tfTw86ognYVtQL+GIc0U+B4LK0zsd/BGaDm2Usn+pg2qhIuVFrrvqKAi7GQRdCFOctQo4r2IItkCmFs7T4P4R47Qx4XSHY60kowfRUW5UaYr/lL12mJeTfUwf0RfVX+PHofejNw38QXwllOOGQMvts6JJ/gOvvNMFYjr4wy8UKWf3TwI836Z1SjH9L56gl1lswBteG462/b45Bx4nbrcinxs6TB7ArfL6XzYDelvQEw9Zl/sSP0A/sKV+Zoqd7rgo5KY9Volavdd+Dd0PhEfR3aPdoQKmRwRdMlBd8qDtPtXHzs8VISOLbsfOSfv0yARISaMn8doSjTByX9Z2yjXRGIXhiSi5fnq6zNJwhFHK2uVedh2Jiy6wxPN7A+deMBmd3U55xOWXwXT1nycYEpvxSe0/X5cM6sQ8AMiHykPaIlNYDRFWPrM8BUthdgEXoq+EItTaXajciV3KiKipNtrIHD+7OymiIi7Gex9omgXYJGuNeakAWMz8/KokRljWMVCJrPqGhA4hEfTh4TyNzpOE5v31JsMkmMzSwiS0AdL2A/+Q5P7EZI4dGBBiikUgFYKhInMrGGZ3tHWKHGRzzHM8mM0EmPn56tSdr/S02W6rOa96VR+t/DTl1h6rsLNq/USmuvWMRjBV8g5Kn93zruoGeNB/b4Bnq5ushVBUFg5MFeN/9PwhqknLdhctbLGNHrOcD0JU+CE2xSUduCqloyVsLZrjeghyX5nt329od87vhaVq7tbIST7gzLVo52fA/PoXrOnlpOTgnyskRIlj+PbcYa4lSCfLYVr349ZEHxcngr7ENXtEtSNURx1euCSRGzkzoJ2fFzfTpWx7mMHXUvM33WpslMwt1fChZ9FdAlV+hE1N9m/HnQPm7h3BMzQyw+gsB9/AIKepyD0SQ097tlHxWxlafHfNhMdVRRK+Vw7NAZ1KXr9FN+zD/A7FqANsI5TG54IRPt+HEoUf1SlAuEOOXeF0B+zYDLrBlswW3H1sMKGv4scHfqunYYKnLY1u1E+g5cqDloDqJuo9JAW2fSzZnkmxmQhJbWKc6d1+2oUkP+2f1H4h8lrELTHRfLflu3Syua9oCWZxYeM2uQlMxB5NRfY7Kb5qv0lgpet8QhSFFK4YJ81oRSpi6borOn258/rxbAi3Nn+YLjKHFIfy2bJQCQyxMnkxnjjpkzDLrOvT9koN8/FAqoRsc3vBi0hdUbRmRFhX6JjDdPglNyL2hneId5EPjsbgPLlA4lRhe85pCiaGcRpTQbjUCPo8Ma58clY4ZhHhTKK4V51qD5mdPvEzveJHOsV3dIqvqOQf14TBp/9bGdUr5rZ/yVPZPSkmg+8DdwyqwpETbl4MuTW8MlF+WhCf+oI9efZ3NgAELPvTHeD+099nwDd6/MDjJevf/OIJhKdHFPBnlzfWTtMLwsk2J7Nta0IIL7iRK6Dw4Nmpeqy+GOnqhgfCcONPtrusm4KHijCWmznmxHlv+siRDg+Y4moFdex70gW6iVOn3zXY3RwCkSyDnLGtzNhWoVvApW5bQFOU4FezQRhHwtmUJ/EKzmNHHf+NYYR6jtbXSKRajGZNu+4zovCXIlX0u620P1MrzB6JYUtaFnuG7ApXHv+sEXaDsUtWSMKfY3xPsrY2F3rCTMW+veHaIGWDfo6pLZbeQOFqz4gu/IoN2x0yWyqfkGXVrHZSqg/zGtcZWutGoWtPfk6j7WL2D/kMcRlL6IlubeDCviFfaQVCrI3u9tSk8Derbgegg/HjaoLu9cdXshvef8HXTxwx3o8hVvgXYa1378RW2ibJRu+XljjjEXmh8AjCdSQM2cruh5w3OGhBPM+tDy1tQezzPti1NJnJWNUpm2NRNbWs2c5yqm2VB4x+1KWxabQu2cfQcrZHJaE7k90U+bE3vS03TOE7LClJMkEzAV1VbGbLT1OjcrC5EavSP1lQ0tUU7eHlzmdAEeqDdFCytTeo7YNHtRigKtsYxnR7y3TTiHSDxKKdZDdq8CdrVrEqnUNrl2TEO57d4u0eL4XYpLJow5m/Y7lKFQskIt3CshE/bzpjkg32tQefNYbN0JU6kyY8LXZfRfbL+c+K5Fd4nFMcSjEmT5f7DwFiYLHu0oQYWfSwkp/5gVR1KLTjQ6str82jvoA3K06d0/SOO2oVTpjaWO6XngGjcy65sqx21PitfCG+6k5sM30pfoNWBRPHnTTj9kvOVqzGFXXpFtciW+BSU3OkWyUVkIf+gWavoRFu+AWZir4j3NhgMSsu00V5tLN0mM5M4LU0T7pdS+9icY+b33NPvnGb6UXvtb7wEs1gPvdFhhXkBEeQ47SAxUZ8eMutsQIwpdjyTdX4miXVx/QHn8OfguVGx69o7Oy1HhxM0Po1+XhzuCM5u2MIxpxql2nU98wttYgGW89oACcAr2H+S3aY2wnR934v8HDZlHYEVC20gK1cloAHyIl+yMtwFrjfDNujGvpo2MYqkn+jYSCNqfqTaQyyjjVwMaQpHViWxMierGdQA2OcbEUzTMj32JkiPCSNbb/+mgvKcHbczp4Hvoxg6sbsj9OFLIKKjByE6kigWWEbsZF8pUE7PsssoCybdzJ+REut9kX7CYhFwCz9jE6cAsIqxkDFIbvAc+YPlNp2JAPyM2ItPKeowR+atWi17/ZX4+rYqTlDhEOuSiYENEyS9LwKeoqXLy94Q34Svyf/NMJeuu1GcLLkT/ekvp/ihMTEJrTW3sooI3j+8m80Pxlz3ftk/Fa5XeOIGw412YyDTVuNHnw3Yy4Iiwco0IcXVdh7h0k2dWmQBpwStfmrmd17VfBRuSrfAehm6bpet4Z5zN2hL6dLKeqVUIYmDGPKb+KZZmC8A+2cjoV90PkboSb0tSKM7ljboJXyaaDvQoZDPG4zhkBbQZIuGBW9II8i112e5eZNpQoAKr8+/Wdw2GTgqS2/YZ0+ry5a8Ew7vvmQ97BGHk54FDBRMFl9v+X+EazFYj35tWa9PDye0Ngfb97grzlbGasH22mxhTFT/PDZstlpz/xtO0tOTn8464JmUg+BbwH4FiiYImAqda1FvBAIH2UT3FEewL69XP8f4Jd0KpCwEO7SoEDCu/Rb+7YBd5AnDp7XPVmhM3ftD5qYoKFbCN8/ZPXXQHjbkAaApmT1sIbHV6MHLs7xW2JqzPbMuAHwXqJio0GlUcmlWLdPf+8uwMndekLqUCZTy3plEH0u/w53QEac8V7/DI2WeX57mflJsxDTSHerIWSZ/9v7juMVFPsRPxlbo0jI9ugi2GRuS06GeISHwRAiUY0PVO9C7GcC5/+i3YiAZphVF/JUPL+QKh9pgIDz1m6w9qR+HHbSDzPJnZXLqy6a+sICN5Db/xhLFnmg1inCcqWb3eGZ8qTvPcPBhYA7no71DKb+5MOgokYDbIUCkEugu+O5qrgEdeph9J4P2ui+ReXHMtxj8aagOamI0d8LmvoKKCqZCrDQN2pQBVxMYcCAqGOSFmkOaEsWPcJnL6xW2RiSMSErFC2RXx+yFwZ9rTCsPyRRwU+dMjuKwkAr50yBqxdqQXsjCMWpNB3ehKmxkZhZbBWyuSLoVy1wDAhp9dQCxbCW0Iy1yZcERm21UvDtobFo3E1lvsOwFtblS5e83tBpXuT/RM6RhJ1qvRlOXHxmGPPCcMNEKnr0fzvHaAFfotdmSr69gcuZQEQ4wtg3B8bGiVEXc+68Noc/yBE/QccsJSo0PrmIxRIXfPRHDYdiv5RmrGNX+hJGD5kA3nEloIJjvNQ/PZBEE+lKzA6pPcyr05bYxK410+HRT9eK1gTusM0hN2M5UMXar7MId4Ml+h6qx2jhyXYra/W7bzcv83fjHnumIpKNtgd0s+upge2+0rq0Ag5DuNoL5LNAwuLXrIHO900Dn1fPhieFzBIqfwkoQL/i1ncslysHCmbgC14PEmoXZIE6DuZD5wWKHBL68/WP312nHSixRdkPdohH8/4kHeIFopkk0FNiPgHP9Zx2462gxGUPa8wrt1o2S/ALTIxD2KM/t4LBErRZrsjhzyuhxnCfJNp0ONmsdhwZxzNkjrmCkaJNItgMWZcYOT63jXEmUCNGrSxbMZW+aiitECAmprLiiD3X0AEMHWP30BxDkj3zULm0JVfWnqBqY+Le9ZRMxq7TKBPFoJ1ZqwllP0cVjRNz9CwhL1UVqwTg25hNPmWUobUa2pkfVZXSGZBQEwWjmUmSHNovVTOlpasp0otY4yTwGeOk2TrTJJdc0Ua37IQJMwwKrF0Wxc2ekWlRUG+zYnIkGeeVWeEnIWmUDE9kiaxx+pg9ytALzJV6zryM8t066UOeCxM2adr4Tmm7C8CUydNL2NB4IYx+etowZoZjeb0sjNajeOYf7UGGDmZdOqbsMHP45XCoV+K2NfSv6FMgNafx5wCPrDmmoQdyODFGb9rZcPagvUHuTLGLe/PSP2NEFmUP4t9xHktFXr2IDBR5ps62vDFPXW+HQzRjOvp6vGe72XI2dPih/a9HRWle/ddHxAVmHCl8OvzsXf6EnzlAkc01oCibemjxal2Y34FN1tQgqJ6o++KoiuOMoS0hzLE0IcUSbgQxIZuRyEQoCJ2JonspKYcldBiWO/jaI/awQmmEg7sM0Ybp/fWl4YSfyojjfqXpx4Kr9Z326Gvy1W0uAaTDMOZUpeIX5KU7BipMlly2qMt1+mv3pAV+kNPX5YkY0Q1/SQ5P4CXLvfGGmGC61jXqFHlmcihKAsjNhCx8K4CwEFnsq5d4BIFXMTaSE/iKJsn5qsmLPuuT9o4YJ5B4j4Qm56FCmxBt8suzZ2xpyhpWPqGNRkAeCHn++2xsuwdcPUUM64WHabbCGQEBARGEGhFBWR4E9ZLQsEwDYCAwk9z1L1AglGo9YGTIsLk0/XxMBIklfar4JYlCNKzUUkyMjLT1/E2uF1ju0DVpFs2Ni89NV8eM3wnbC08P78mfWI/u5F4PmwcUGWvcbOhM4PLdAFZi2Ie3dLB8OFGcqHfc81hvXifZo4eU/fZuG9zkxuyXhc3Jt3IT2pOildX+Dz5P0LqfDNRuuUeqNwhXjXGxAZ8WuYvQYTMWuWVPll3IRdWH+dm/rwvLcJPOh/fnTFUuh3DnRPLsYqoPiwJK/Ubd0K+e8IAuBDrQ7nKxlP+qfFmHQRKkQGmO3wd2viEvXXyZgs4pM0NDunUMQrqTC0K65Y5R7hV7yaMZX4hQQ/RQ3xO4yjML5QQ/xXXmQo2dEOv2ysqPRLptVwUMYlBaprnqLHrAcGeZmRTaavfe+DSHvPKvNWthFXwUgvh1xMtavI/Nqo9cMFQuFzdivTWnvM4Azi3mHjL3Ll6pNZuug5S5HB1wXpq1foCnHoRrXt7RjHdCz7Cdi72Bd0Wu2O5Tls0OwCtoD08SeVNPWJ52jyy4eifNFA67utn2+SO6Qe1DfvBPJQf3RINAXpIH+EU/RW6QbiWA992CwMyzhHZC6jHv+DmBjEF/3uKlLYWugTEjWCxiW/XCOZ4ALANImIuPl7LWElnNrWCXUGxxbMRJ5e0yBX32aJEiW73x8faFOQl8glnNFnAqYMgBLJHCnHNU5/nz3YmBmcDl9BixxgNYDEUXcqeEz/Et4BSbizvED4inhSbik4OUyS0QF1glpER0iI+IdOKbFZtz1smzoeK3ULBLwOewPr3SAPJ1+f+aQwNiyXHyzzpEgmQKdyboiBv5nyeJO6JYcMrrIYnM6PvRgt6Dcca1AoWkreotkBYHHCKN+yush6II1fKvsxrHFWOfekgs0Ew9MBxjCvn2O/gBC4sHEgeJzllJq8kNLZIgAB95vEsxlm2tSCiJxBBnqBOQSDaWdAeP8+8Qh7AX0kCb40enEW2oWrifNYm7NduAQgUjIjVjS9Xnn4mXkUyLdsIyx7PPl4jTxZ/PL4sfa16fSa72ezcRyGoCMZVRbEe1hmrqNpkmcopvxLlg5h+53BXoGXwgtRS1iO7DB7esZAaZQXuiWGS59rEilGdT/vMSmMyD2VicTH75xLFBLbaSqysoUz3Jx4ZwxqHQXtViC3Yu7FPc6bK7+JcJzObDNGIjwi+KDz1io1UyjWXTVVJDuyAxRhL/WIQrruYPloixEX7nh/5dELtKktuq7x3TI6DFDWvoXbJx6kEr0YydOqesB/okW7jNkNb6DsHTJoIvIyRZwJOAdu4RJTrPG/2ygFXvAQw7rM27jDePzKiQOIJPDrjIAYAZEEoEii9TetBA6wPbHZzBDGwz5A8U4Bh/DOAxMEbLZjH/0fzHokdgTmLKJK2ArfnUxxNtESfFGZGnruAEzRObZzffBronLPcpJrAyvhMrDAN4HPwR9qCIY3Zs8apYE/SFpB4zIBpq1gl7w3WxU3yUZFlodvQfB0J5QMQJwYaswqZ9eGhR2UB1rga+PHoxnKm3cm9pzxzTTrRXbr7QfCocq16+AVReQtT8A6SMiBbiHP89co65YiDyB1zFkvScyePnVHTbSoSO0KZCc8/fTkt2FfE=
*/