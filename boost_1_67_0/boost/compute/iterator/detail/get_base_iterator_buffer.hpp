//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ITERATOR_DETAIL_GET_BASE_ITERATOR_BUFFER_HPP
#define BOOST_COMPUTE_ITERATOR_DETAIL_GET_BASE_ITERATOR_BUFFER_HPP

namespace boost {
namespace compute {
namespace detail {

// returns the buffer for an iterator adaptor's base iterator if
// it exists, otherwise returns a null buffer object.
template<class Iterator>
inline const buffer&
get_base_iterator_buffer(const Iterator &iter,
                         typename boost::enable_if<
                             is_buffer_iterator<
                                 typename Iterator::base_type
                             >
                         >::type* = 0)
{
    return iter.base().get_buffer();
}

template<class Iterator>
inline const buffer&
get_base_iterator_buffer(const Iterator &iter,
                         typename boost::disable_if<
                             is_buffer_iterator<
                                 typename Iterator::base_type
                             >
                         >::type* = 0)
{
    (void) iter;

    static buffer null_buffer;

    return null_buffer;
}

} // end detail namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ITERATOR_DETAIL_GET_BASE_ITERATOR_BUFFER_HPP

/* get_base_iterator_buffer.hpp
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
*/