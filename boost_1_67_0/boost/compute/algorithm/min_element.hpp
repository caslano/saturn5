//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_MIN_ELEMENT_HPP
#define BOOST_COMPUTE_ALGORITHM_MIN_ELEMENT_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/functional.hpp>
#include <boost/compute/algorithm/detail/find_extrema.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Returns an iterator pointing to the element in range
/// [\p first, \p last) with the minimum value.
///
/// \param first first element in the input range
/// \param last last element in the input range
/// \param compare comparison function object which returns true if the first
///        argument is less than (i.e. is ordered before) the second.
/// \param queue command queue to perform the operation
///
/// For example, to find \c int2 value with minimum first component in given vector:
/// \code
/// // comparison function object
/// BOOST_COMPUTE_FUNCTION(bool, compare_first, (const int2_ &a, const int2_ &b),
/// {
///     return a.x < b.x;
/// });
///
/// // create vector
/// boost::compute::vector<uint2_> data = ...
///
/// boost::compute::vector<uint2_>::iterator min =
///     boost::compute::min_element(data.begin(), data.end(), compare_first, queue);
/// \endcode
///
/// Space complexity on CPUs: \Omega(1)<br>
/// Space complexity on GPUs: \Omega(N)
///
/// \see max_element()
template<class InputIterator, class Compare>
inline InputIterator
min_element(InputIterator first,
            InputIterator last,
            Compare compare,
            command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    return detail::find_extrema(first, last, compare, true, queue);
}

///\overload
template<class InputIterator>
inline InputIterator
min_element(InputIterator first,
            InputIterator last,
            command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    typedef typename std::iterator_traits<InputIterator>::value_type value_type;

    return ::boost::compute::min_element(
            first, last, ::boost::compute::less<value_type>(), queue
    );
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_MIN_ELEMENT_HPP

/* min_element.hpp
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
*/