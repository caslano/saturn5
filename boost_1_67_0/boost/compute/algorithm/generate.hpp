//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_GENERATE_HPP
#define BOOST_COMPUTE_ALGORITHM_GENERATE_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/copy.hpp>
#include <boost/compute/iterator/function_input_iterator.hpp>
#include <boost/compute/detail/iterator_range_size.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Stores the result of \p generator for each element in the range
/// [\p first, \p last).
///
/// Space complexity: \Omega(1)
template<class OutputIterator, class Generator>
inline void generate(OutputIterator first,
                     OutputIterator last,
                     Generator generator,
                     command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<OutputIterator>::value);
    size_t count = detail::iterator_range_size(first, last);
    if(count == 0){
        return;
    }

    ::boost::compute::copy(
        ::boost::compute::make_function_input_iterator(generator,
                                                       first.get_index()),
        ::boost::compute::make_function_input_iterator(generator,
                                                       last.get_index()),
        first,
        queue
    );
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_GENERATE_HPP

/* generate.hpp
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
*/