//---------------------------------------------------------------------------//
// Copyright (c) 2014 Roshan <thisisroshansmail@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_PARTITION_POINT_HPP
#define BOOST_COMPUTE_ALGORITHM_PARTITION_POINT_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/detail/binary_find.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

///
/// \brief Partition point algorithm
///
/// Finds the end of true values in the partitioned range [first, last)
/// \return Iterator pointing to end of true values
///
/// \param first Iterator pointing to start of range
/// \param last Iterator pointing to end of range
/// \param predicate Unary predicate to be applied on each element
/// \param queue Queue on which to execute
///
/// Space complexity: \Omega(1)
///
/// \see partition() and stable_partition()
///
template<class InputIterator, class UnaryPredicate>
inline InputIterator partition_point(InputIterator first,
                                     InputIterator last,
                                     UnaryPredicate predicate,
                                     command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    return detail::binary_find(first, last, not1(predicate), queue);
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_PARTITION_POINT_HPP

/* partition_point.hpp
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
*/