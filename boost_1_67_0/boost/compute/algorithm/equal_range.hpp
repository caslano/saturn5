//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_EQUAL_RANGE_HPP
#define BOOST_COMPUTE_ALGORITHM_EQUAL_RANGE_HPP

#include <utility>

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/lower_bound.hpp>
#include <boost/compute/algorithm/upper_bound.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Returns a pair of iterators containing the range of values equal
/// to \p value in the sorted range [\p first, \p last).
///
/// Space complexity: \Omega(1)
template<class InputIterator, class T>
inline std::pair<InputIterator, InputIterator>
equal_range(InputIterator first,
            InputIterator last,
            const T &value,
            command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    return std::make_pair(
               ::boost::compute::lower_bound(first, last, value, queue),
               ::boost::compute::upper_bound(first, last, value, queue)
           );
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_EQUAL_RANGE_HPP

/* equal_range.hpp
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
*/