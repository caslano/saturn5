//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP
#define BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/system.hpp>
#include <boost/compute/command_queue.hpp>
#include <boost/compute/algorithm/lower_bound.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Returns \c true if \p value is in the sorted range [\p first,
/// \p last).
///
/// Space complexity: \Omega(1)
template<class InputIterator, class T>
inline bool binary_search(InputIterator first,
                          InputIterator last,
                          const T &value,
                          command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    InputIterator position = lower_bound(first, last, value, queue);

    return position != last && position.read(queue) == value;
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_BINARY_SEARCH_HPP

/* binary_search.hpp
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
*/