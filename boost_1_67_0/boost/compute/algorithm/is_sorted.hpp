//---------------------------------------------------------------------------//
// Copyright (c) 2013-2014 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_ALGORITHM_IS_SORTED_HPP
#define BOOST_COMPUTE_ALGORITHM_IS_SORTED_HPP

#include <boost/static_assert.hpp>

#include <boost/compute/command_queue.hpp>
#include <boost/compute/system.hpp>
#include <boost/compute/functional/bind.hpp>
#include <boost/compute/functional/operator.hpp>
#include <boost/compute/algorithm/adjacent_find.hpp>
#include <boost/compute/type_traits/is_device_iterator.hpp>

namespace boost {
namespace compute {

/// Returns \c true if the values in the range [\p first, \p last)
/// are in sorted order.
///
/// \param first first element in the range to check
/// \param last last element in the range to check
/// \param compare comparison function (by default \c less)
/// \param queue command queue to perform the operation
///
/// \return \c true if the range [\p first, \p last) is sorted
///
/// Space complexity: \Omega(1)
///
/// \see sort()
template<class InputIterator, class Compare>
inline bool is_sorted(InputIterator first,
                      InputIterator last,
                      Compare compare,
                      command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    using ::boost::compute::placeholders::_1;
    using ::boost::compute::placeholders::_2;

    return ::boost::compute::adjacent_find(
        first, last, ::boost::compute::bind(compare, _2, _1), queue
    ) == last;
}

/// \overload
template<class InputIterator>
inline bool is_sorted(InputIterator first,
                      InputIterator last,
                      command_queue &queue = system::default_queue())
{
    BOOST_STATIC_ASSERT(is_device_iterator<InputIterator>::value);
    typedef typename std::iterator_traits<InputIterator>::value_type value_type;

    return ::boost::compute::is_sorted(
        first, last, ::boost::compute::less<value_type>(), queue
    );
}

} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_ALGORITHM_IS_SORTED_HPP

/* is_sorted.hpp
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
*/