//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_DETAIL_ITERATOR_RANGE_SIZE_H
#define BOOST_COMPUTE_DETAIL_ITERATOR_RANGE_SIZE_H

#include <cstddef>
#include <algorithm>
#include <iterator>

namespace boost {
namespace compute {
namespace detail {

// This is a convenience function which returns the size of a range
// bounded by two iterators. This function has two differences from
// the std::distance() function: 1) the return type (size_t) is
// unsigned, and 2) the return value is always positive.
template<class Iterator>
inline size_t iterator_range_size(Iterator first, Iterator last)
{
    typedef typename
        std::iterator_traits<Iterator>::difference_type
        difference_type;

    difference_type difference = std::distance(first, last);

    return static_cast<size_t>(
        (std::max)(difference, static_cast<difference_type>(0))
    );
}

} // end detail namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_DETAIL_ITERATOR_RANGE_SIZE_H

/* iterator_range_size.hpp
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
*/