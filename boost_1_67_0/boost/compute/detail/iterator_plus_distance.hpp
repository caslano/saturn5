//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_DETAIL_ITERATOR_PLUS_DISTANCE_HPP
#define BOOST_COMPUTE_DETAIL_ITERATOR_PLUS_DISTANCE_HPP

#include <iterator>

namespace boost {
namespace compute {
namespace detail {

template<class Iterator, class Distance, class Tag>
inline Iterator iterator_plus_distance(Iterator i, Distance n, Tag)
{
    while(n--){ i++; }

    return i;
}

template<class Iterator, class Distance>
inline Iterator iterator_plus_distance(Iterator i,
                                       Distance n,
                                       std::random_access_iterator_tag)
{
    typedef typename
        std::iterator_traits<Iterator>::difference_type difference_type;

    return i + static_cast<difference_type>(n);
}

// similar to std::advance() except returns the advanced iterator and
// also works with iterators that don't define difference_type
template<class Iterator, class Distance>
inline Iterator iterator_plus_distance(Iterator i, Distance n)
{
    typedef typename std::iterator_traits<Iterator>::iterator_category tag;

    return iterator_plus_distance(i, n, tag());
}

} // end detail namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_DETAIL_ITERATOR_PLUS_DISTANCE_HPP

/* iterator_plus_distance.hpp
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
*/