//---------------------------------------------------------------------------//
// Copyright (c) 2013 Kyle Lutz <kyle.r.lutz@gmail.com>
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
// See http://boostorg.github.com/compute for more information.
//---------------------------------------------------------------------------//

#ifndef BOOST_COMPUTE_FUNCTIONAL_DETAIL_NVIDIA_POPCOUNT_HPP
#define BOOST_COMPUTE_FUNCTIONAL_DETAIL_NVIDIA_POPCOUNT_HPP

#include <boost/compute/function.hpp>

namespace boost {
namespace compute {
namespace detail {

template<class T>
class nvidia_popcount : public function<T(T)>
{
public:
    nvidia_popcount()
        : function<T(T)>("nvidia_popcount")
    {
        this->set_source(
            "inline uint nvidia_popcount(const uint x)\n"
            "{\n"
            "    uint count;\n"
            "    asm(\"popc.b32 %0, %1;\" : \"=r\"(count) : \"r\"(x));\n"
            "    return count;\n"
            "}\n"
        );
    }
};

} // end detail namespace
} // end compute namespace
} // end boost namespace

#endif // BOOST_COMPUTE_FUNCTIONAL_DETAIL_NVIDIA_POPCOUNT_HPP

/* nvidia_popcount.hpp
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
*/