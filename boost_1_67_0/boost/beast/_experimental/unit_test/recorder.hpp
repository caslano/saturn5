//
// Copyright (c) 2016-2019 Vinnie Falco (vinnie dot falco at gmail dot com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
// Official repository: https://github.com/boostorg/beast
//

#ifndef BOOST_BEAST_UNIT_TEST_RECORDER_HPP
#define BOOST_BEAST_UNIT_TEST_RECORDER_HPP

#include <boost/beast/_experimental/unit_test/results.hpp>
#include <boost/beast/_experimental/unit_test/runner.hpp>

namespace boost {
namespace beast {
namespace unit_test {

/** A test runner that stores the results. */
class recorder : public runner
{
    results m_results;
    suite_results m_suite;
    case_results m_case;

public:
    recorder() = default;

    /** Returns a report with the results of all completed suites. */
    results const&
    report() const
    {
        return m_results;
    }

private:
    virtual
    void
    on_suite_begin(suite_info const& info) override
    {
        m_suite = suite_results(info.full_name());
    }

    virtual
    void
    on_suite_end() override
    {
        m_results.insert(std::move(m_suite));
    }

    virtual
    void
    on_case_begin(std::string const& name) override
    {
        m_case = case_results(name);
    }

    virtual
    void
    on_case_end() override
    {
        if(m_case.tests.size() > 0)
            m_suite.insert(std::move(m_case));
    }

    virtual
    void
    on_pass() override
    {
        m_case.tests.pass();
    }

    virtual
    void
    on_fail(std::string const& reason) override
    {
        m_case.tests.fail(reason);
    }

    virtual
    void
    on_log(std::string const& s) override
    {
        m_case.log.insert(s);
    }
};

} // unit_test
} // beast
} // boost

#endif

/* recorder.hpp
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
*/