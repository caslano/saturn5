//
// Copyright (c) 2019 Damian Jarek(damian.jarek93@gmail.com)
//
// Distributed under the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
//
// Official repository: https://github.com/boostorg/beast
//

#ifndef BOOST_BEAST_DETAIL_TEMPORARY_BUFFER_HPP
#define BOOST_BEAST_DETAIL_TEMPORARY_BUFFER_HPP

#include <boost/beast/core/detail/config.hpp>
#include <boost/beast/core/string.hpp>

#include <memory>

namespace boost {
namespace beast {
namespace detail {

struct temporary_buffer
{
    temporary_buffer() = default;
    temporary_buffer(temporary_buffer const&) = delete;
    temporary_buffer& operator=(temporary_buffer const&) = delete;

    ~temporary_buffer() noexcept
    {
        deallocate(data_);
    }

    BOOST_BEAST_DECL
    void
    append(string_view s);

    BOOST_BEAST_DECL
    void
    append(string_view s1, string_view s2);

    string_view
    view() const noexcept
    {
        return {data_, size_};
    }

    bool
    empty() const noexcept
    {
        return size_ == 0;
    }

private:
    BOOST_BEAST_DECL
    void
    unchecked_append(string_view s);

    BOOST_BEAST_DECL
    void
    grow(std::size_t n);

    void
    deallocate(char* data) noexcept
    {
        if (data != buffer_)
            delete[] data;
    }

    char buffer_[4096];
    char* data_ = buffer_;
    std::size_t capacity_ = sizeof(buffer_);
    std::size_t size_ = 0;
};

} // detail
} // beast
} // boost

#ifdef BOOST_BEAST_HEADER_ONLY
#include <boost/beast/core/detail/impl/temporary_buffer.ipp>
#endif

#endif

/* temporary_buffer.hpp
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
*/