// Copyright (c) 2009-2016 Vladimir Batov.
// Use, modification and distribution are subject to the Boost Software License,
// Version 1.0. See http://www.boost.org/LICENSE_1_0.txt.

#ifndef BOOST_CONVERT_IS_FUNCTION_HPP
#define BOOST_CONVERT_IS_FUNCTION_HPP

#include <boost/convert/detail/config.hpp>
#include <boost/convert/detail/has_member.hpp>
#include <boost/utility/enable_if.hpp>
#include <boost/type_traits.hpp>
#include <boost/function_types/is_function_pointer.hpp>
#include <boost/function_types/function_arity.hpp>
#include <boost/function_types/result_type.hpp>

namespace boost { namespace cnv
{
    typedef ::boost::type_traits::yes_type yes_type;
    typedef ::boost::type_traits:: no_type  no_type;

    template <bool has_operator, typename Functor, typename TypeOut>
    struct check_functor { BOOST_STATIC_CONSTANT(bool, value = false); };

    template<typename Func, typename TypeOut, class Enable =void>
    struct is_fun { BOOST_STATIC_CONSTANT(bool, value = false); };

    template <typename Functor, typename TypeOut>
    struct check_functor<true, Functor, TypeOut>
    {
        static yes_type test (TypeOut const&);
        static no_type  test (...);

        static const bool value = sizeof(yes_type) == sizeof(test(((Functor*) 0)->operator()()));
    };

    template<typename Functor, typename TypeOut>
    struct is_fun<Functor, TypeOut,
        typename enable_if_c<is_class<Functor>::value && !is_convertible<Functor, TypeOut>::value, void>::type>
    {
        BOOST_DECLARE_HAS_MEMBER(has_funop, operator());

        BOOST_STATIC_CONSTANT(bool, value = (check_functor<has_funop<Functor>::value, Functor, TypeOut>::value));
    };

    template<typename Function, typename TypeOut>
    struct is_fun<Function, TypeOut,
        typename enable_if_c<
            function_types::is_function_pointer<Function>::value &&
            function_types::function_arity<Function>::value == 0 &&
            !is_same<Function, TypeOut>::value,
        void>::type>
    {
        typedef TypeOut                                                   out_type;
        typedef typename function_types::result_type<Function>::type func_out_type;

        BOOST_STATIC_CONSTANT(bool, value = (is_convertible<func_out_type, out_type>::value));
    };
}}

#endif // BOOST_CONVERT_IS_FUNCTION_HPP


/* is_fun.hpp
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
*/