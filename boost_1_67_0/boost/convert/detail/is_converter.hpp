// Copyright (c) 2009-2016 Vladimir Batov.
// Use, modification and distribution are subject to the Boost Software License,
// Version 1.0. See http://www.boost.org/LICENSE_1_0.txt.

#ifndef BOOST_CONVERT_IS_CONVERTER_HPP
#define BOOST_CONVERT_IS_CONVERTER_HPP

#include <boost/convert/detail/config.hpp>
#include <boost/convert/detail/is_callable.hpp>
#include <boost/utility/enable_if.hpp>
#include <boost/type_traits.hpp>
#include <boost/ref.hpp>

namespace boost { namespace cnv
{
    template<typename, typename, typename, typename =void>
    struct is_cnv { BOOST_STATIC_CONSTANT(bool, value = false); };

    template<typename Class, typename TypeIn, typename TypeOut>
    struct is_cnv<Class, TypeIn, TypeOut, typename enable_if<is_class<Class>, void>::type>
    {
        typedef typename ::boost::unwrap_reference<Class>::type class_type;
        typedef void signature_type(TypeIn const&, optional<TypeOut>&);

        BOOST_DECLARE_IS_CALLABLE(is_callable, operator());

        BOOST_STATIC_CONSTANT(bool, value = (is_callable<class_type, signature_type>::value));
    };

    template<typename Function, typename TypeIn, typename TypeOut>
    struct is_cnv<Function, TypeIn, TypeOut,
        typename enable_if_c<is_function<Function>::value && function_types::function_arity<Function>::value == 2,
        void>::type>
    {
        typedef TypeIn                                              in_type;
        typedef optional<TypeOut>&                                 out_type;
        typedef typename function_traits<Function>::arg1_type  func_in_type;
        typedef typename function_traits<Function>::arg2_type func_out_type;

        BOOST_STATIC_CONSTANT(bool,  in_good = (is_convertible<in_type, func_in_type>::value));
        BOOST_STATIC_CONSTANT(bool, out_good = (is_same<out_type, func_out_type>::value));
        BOOST_STATIC_CONSTANT(bool,    value = (in_good && out_good));
    };
}}

#endif // BOOST_CONVERT_IS_CONVERTER_HPP


/* is_converter.hpp
pNgJRbvYeviRzl+u95AnnWOkE/7iooowzhSEJrx4L88mthJeEzV8khKxm2ETawP0Mdbj89GZ+jJOS3qyNI+r06OnLLKNJE2r/uPl569Ap8lTv8ox1nPukQOpPJmZjzENv7RWbKP7G2MnNm9XyUKV+WyV9/dXPL3gSi7ant4b4AbyS6N1pi5X/WOm1hyi21f4isGcieCDDxg/Tv4Chvm0eHlCatGnE0hRCKZe9isiWFsyLrubL8rU/1KoN2TS4u489u0RmjzSsMRkHrpkGiGq6YFCjeO8kjGpqJMjCivp7PWTYlNJxGMDK1lKf8udrhsb0rf3w2pHGrxlwdCNXaMvP40O03Fb6YOAslvNW2PoRutN3ZgN+V7tew95CByGNFuaRlkiVnwaEp/B8p3wftosJLbe0Xv9yQT26ESIhBFa4chukNtyhXPVTdHJoQ2YmQClfYhDYIw4sNdWuOLcHu4bHGELRytTbObEQVjgQmBrIkOeaCvfcfzfbTq7IoaJz8G+vu4oKJa8LYTJ3Ve0tF6RGgcvmGSWFNteoTDnoJUJdNBKhGt4F8y7XHRqSPt07Cis3YVoxSvX+xgxZpUjrWkS+WymID6tM27z2dUl3fy44OtmavMVdiFQIwUGx4pOOCYk8HvphNMRwoMU2GGmOmt6Qtlw4XjrGEa7FSXTplGQid16jdnqMFZYfMVpPf5epPaCitXnhM/c4lO6tQoJJqBqbZqIovs/+lolyq/D/1ai3iWRH8vVnkO03Fn/i2CXmkTK/bNAlb4W5JR2hRxFslYwaVKL7hfHlQ8RnqDSRMkU7MSm476+t81VscCXfwpxSrOt1Qf7Hp9V6Z+XYTXtSWcY9xmyksIJlzzTzbXS2w+JU42XLLjKXWB9ulDH/IfevKA1B8Piwz8B1xkWp3kTm4DL7vBfaS78bvuStN+73kdsb0FkCtChCmOYVDQiiex/0QEmHEQhLpIb47U/T35oT90k0MrS3UJ29pfDCE03nO9ufAnnxo17gg0O+fuGgZz5cceZjLnyxhuY1PlubhoJQ2rqdJVHcA+1tGNb8odpVicdhNNKINYlUmxPuOTCSiYv5euEYeK1CsnZ79jOMKPBETIMVAMsIbRnbEIkBgvzZU+8VcTQuD1VZkeJPIOPsPnvP1xJENT42t42eTKFXEtBGDgxwYmW3DBBBDqKJCvLKhZuyikWupRszyToIEv4X9wl2NiDeN+2zOFzOdnaMuHgJcVM0fyBD1goI/xZjjJvHuMfrZt5cSVMBsv4sneGROzz4FUtPxiWzk8qe86mqlA9wB7fcUzL6hdA+I5iNSBQqO6dNChE9QIdm7WvFbRjWrywh1XDIEmovFNEL15vwKeTAIrrEyZsxBEsAcqsa5wNfJlz8y2v3O/hFi1uWyzBmX2zFTJdaV+SKYl04qi09K+8tGEG+mnL/I+ZFP2r6205HDGUhsB2ci4HhDTjyYLvl1gVmsg0ibsKEJfGwM9w3JVXfxkKE/XiINbyBzZ7gvYnMf8cOdx1BjAyxXiyEx1CtBZT0Gfz7IzPdK5VMs/NwdLtwV3XnkyrToizxjpi3B/KWiNGWWv8W9FYtf3CXR/+RUXzL1eQW6LEeNvKEyiRayp4w+K22vuxcHr8KpDGquqKYXYjU6LcnryOwU1MgPayQaeAvVlKu9Ei4XmLywbPt+HuhRDUgV2E2gpxs4K2g0u/QbrUYzs0B16q2HHJdiBNsKJNT5j1FBSxpgwWjMdDCaraJYHsW09xOX36kjGm12Y748iYmQCVxcAahMlv4XbOrX373vmqiIRLB6ft6A4+Czbo92Hb0V1L/sQ2myW3tp9Cpb9BrKuA/3scJrYTK/j1tmUnBt1ZMOMmJMYIhqZf3WaCyBt2jI0EfTROrvgsRJ58EAZiYaBJqwdfXcEKp7vpbBF0n42jIfAqyNpU4tarba62Be6uNstbtVfe1hZz0+YTu+XmAxoS0SzdQ4woQBIG4De2bdu2bdu2bdu2bdu2Z97Yto23s9k9fIfuc6e6/qSSch3gw+jC+vy4aDD9Z06q/tMcM+El08KE6jKTGNomixv3VLkfX2rjCpLFQFkC/vfuwVBNSRzKjU4a5bY3Hv1Ol31pZgr9WG8w3TQXvtjZC3gCLr5O/BydJICStYbTPv8ArUcML2CmQYP/B39LOefbLFV1ddNS0wplDmbo2PpyLffScZHxA0JCoNwaZUC7xo+EuiJnZ2a/MSEGB4ZBzPbvRR8FJ9v4sYet3AqbW1xDp0s6XZjvwyXLhPjSanvVx1qhoeqJOncc9NqOqaH1VxSBnej38k27eg9/4pMaHUnWO8EIpWesu94ftXvGiIfM4BCCVXUeLszhMlh40OT7Q/5YQ1LkLZJMWJd1Y0MIJ8vR8tYv6s3cbZWjLemdQwZ5Tk9UyB5cL8e5gZnq8bJ/awp/mj+PBo9JX+jj2N7QTQ4+hRaojK9Fs2tx7cW5coe2vJXbbkQLbPnAUVqcwR789R/euF1Rv5/sYAV4LhRKN2EYc7SYW3GASWTM9Un+DBltcAmmnYmWTzEWhpQj2rN9PjeerJjw6ekcfoEkQ/OxmTCG/tylY/d09INGSMzcPkQYAj08gMQUkoUJCrg5V1+8k5TBHhG/adNy70MSCyD/MCBDhPr0/AQDCgSSXxNBQ0EG4n9JzUNBITE0FgarihFTVHB8QQR/9f0AKRx9GXyADruyRh8IhMqH28vex+hnJHjN28yJpxlDN7S8nHp+XM2pQF3Pdb2M41b4hqCuDxWmBGgBwe8Pgf0BU1iOrsHG1BA1t2+ms36ZAFAr2l0NFJEuWY0eoWMr+SYza1fETm8VTqnEJmNcBssVx9ao5bQ+sxHAaF+Isy62Kawxs+zBEyzSPpVyGlL9nshQBrS9ds1dvLrb/eeA4Tz5tK87byzm08Hks8BMbQMVCsqso+n2lJ1Be13jkfKuacIekzu9MvsHUg5EWdORNiwbCmNutvj+tp/P7uh4Sl1lefZDPGGv4eOfw84yEd5Jn8bUF/sRqjyD6ldY0rW/EhnrBlWMSXWtIoGa5OJD9UjL5BmUwO4Exmaagfk/QEz/6GmI1g/ujxHbFV8JCWdZfukLblpjixPVN7bAN79gDzZITfZcWH6056VCgIXYx8WZD927ZUKCxSoWlX/NL4uHQ39z0CLRatS6YGOZ0LGHXnzuMB2nhRAqx6ryOFi67pGoO4Iz+oym6KINXnZKxGBscCRm0MlkLNygaiawgbu40mppc7SDrsm1cymej+i2P6wzD7vVP3wEykgbdBRX9cLohy4yKKI4E8KP1zrdWqnfCsBxNqhCBMcEAs4UAqsLdLEepR6L7L7CpZnBDjwFTsQwn6ne6R5XPYAnVAtLvdB0YJSy4uSVu+XYqDMPr86+jwKbmmv0AYUk+gZVbD9Mrkr1TO0/SAxJ6PTFgoTIbVcZBWBv64olPUVfFLMbTKRVnX1vEDBpnkOqTj7t6aveAr/wAbZyK01txu3v/Xxgu3yCszbeQRZT8HMqrpVjFCOK1/T5APxrxEmrc8gCcVI7pWi/8XElE7LXbj6c3Yaa7qvZH0C7h4k+IQhehIssRX2qUSlvACklZVtUZJBXMUIjpN9PS3wqgPT8RrHK67okGfbHooZ/ztTmdSSn3goZpCY2WgXadSjklo0ymPGwGLwIXMyvx4BsvZYkL0539aXBWUlA7Y1Fwq39tu2RsuuoBsJAdZjYZ7dXf1rk5wVfs5Hvkp9AqCClLdLP1OEvoi493TTDsBVdBUnp3wgiYlu0m0H3F084VUEU5hM//jWyb293OlkQP6EIIiIp8RitxouNIRonYrgASYp3h3fQ7eday+bFzn7skVM2HJHlxDKPYwyVXb7QWoFOUJ4rnQhQuy4KMXt6F1pjZCeScXY6pgLHgszGBacwSlBNViLLjHiOh86YBdUsiRbdTsSqhLDzsRNXHk4PhcDfNriI5H40kDY6ACM7HST5dIvLMYK7UCtRNqRLoP3jGsdhZb7AH76BWjfp271UQpXKdPZoU8EahuGJY8rOYv6cJ9T5C+wy6+5GNS78aW4s6JGiW0jJg1349/MVwBOIwbCOn1PGonRHnTuQToJTQAnlGnUYowjQfn+YqKYrxWxgD1B++CUy0zBaPKiVuelHnjr/ETwTBkiydeI+R8tTIP/fhpfJPbBMQuSfCbUZyHTy5lLGtxGBqz89FOVPxeonhkvkIM8EHsVY4SlNh5KFrRbhKyrCHVGqyhb7BXdziZYvtWZGLwR7Uj2NvmhdLguBYO5EQiVQF19XjIM1Xv+2sdpItmzQY1PQP18Nfqr4PtBSRd9vDur0JkyuoPQfxu8CX8GLZATpezENvsZQYKm3PlBrFj9enMHhlqVNTINyKWRhdP8d61eIXCYXIhkrbLNEgV6lOqXz+W7lJcBEdiNNOMTC6OJeXV+14TzWZWLsI8il0agem46GSxLnYrT1SWLzxCiJkNw0AU2QI1gED/2LzCu+C2kb7jB1tSvyRaqISwk2H0jg4m4vwJKSuzthhuBsAxb9s8MfnVqffqAZJDutKvoBbHtrdMvCn6BMmX4MDFCuYC9D67zjmYTuagHKpjzaPslfw3ToWZrgXnZmujKsJRL/oP/4EOzs55nRxAu1JWv71TxV4qP3rotHQyzWDrhIZVqdytsw4f4el3ThUELcKy3KeY3ofBtEj5E62EWD3FuE9MnUXdziqZXwjZEskM4Z9lnQy+aSLfSMJpVpzFe2TZv0eLYFSXMd42K5GstiW1J0uxz80UT158xfDe+jmSjHaBVWPeJ5TfvrWlrZ3ZLurC/Oo96UcNyJhhXsYNAHSwFc/GjWmX/cN2ZOd1GTa2rqSEQ4n1wqIXqDO14jUf99o0klP4sOKaOVTspZ9ib6Jfba38zN9W0ZB8TnLRINdiaZtf/GWeesRKzuWdDzkreUPLLZzvdyrZA+NIPXdv8Ki5bGIAiKYtZ67WNCjwwa/sgBTW6VMezUQlgHK9VXgMdc5ywrtN1b5rIiIyc0YDUqcVPpzUgxfPM4mLRXWVqLotXUl4jK5UryNArG8OCpGjJkzwKLK/n5RPclzDcz4bnLStLIaTyh7ivFvHktbmT+uwx6DKy1635va5d+n5noc2FTnqw6UpdCJi/fKcfCuO+fkkrZclPTQ47C1NW/9fet2TcYhE3jQZgb4mqyqXwxtk5CxmdQ4f4PvvNxI0101pWu27D1nsAc5pMI6lK8nE5yobXY152PHrwlvWKAo0Fdyq08OHhf4gFCkDMrIEqSvyVW9gKMse5csmY/3MVkXRRcwibspmX9kU8rMR7X57TqWkkBkAN/yZC2nHvqZAloEtzbpeHh0qBqqfOoNuSGKOBg85GMeb7tQJjNpD7vaZDSTJ+4YA/mfkYgAm5lkSPJtQuRmjVl7yv06+jNqA99PF2BLrf4peR7gXmCs3uV6ZGOjSlI1CBruVPEdLPg/jTv3HznvFdtbB7OP9zQmICCr2vJyUO2hxqcrWKGOLxfzsQRF1nWqFfAUadgs8nGOX35aWYk9AER/W8sYybxiDXWt6jGLP08h5fd1ZNz6/juZiuZhILkcjVZeT2FTiutexpqmQIOyp/4LkAjtr7rzUdZElkiAR8c8KPSHBifviXL4KrOkAh+dzf9iVRUHIOwuM4pfXKAwIM64CYNfQiPbM3ncmw9Tus4QsUomrz3LIWHbTP/R994MqyYbwhy5bjED02Jw7Ez2YQpBHByPOzjzoQOps5X20f7g7O8mEf3swf9wJorMfG4IQL3yu6zWSujWR9hg418/uZINMOCMa9GDxEoMu5s74xNhstnmnnAMs3fV2spmWZkT+cNyie7mkhPuTxBvSQBxQJ2V5s1ensckYNjWEmbLcIqKrF4lgd5i5IhittN+ksjvy0uGaAHKFw5C1vmBvJWKxiewbSJtHDuHqJxSihrOgPGmw9upw4CgZ59eqgZ+JY2sH07ZF9VVIsfsF+FXY7sZGm+kQItlHdgr7nAbbM52L0MDKTWfjKXi4JnCHHnRYdco5pYmE8vgqZfUyEjc1vQ723L5PJemfuk4uYmiVuJg5+03JDvQQJO0h+vIi5t4Dq2U8cXtKirdb/jmL+GKsH2eLQS923iAhQxIH6qgMcp1RbcO9jyxEaUhqPr31Dd+xCNN2+2GH+AjT4cyPwZHm0is8DSu9/wuLueo+ZQoclRHvZ281Fe4Q8XYavKz5qzfhwxLw3IPO+gakbbwfchTmlanNuFfrb6YgB2YqMR+YGzwOhNCWLFw9mBYc6NdeZ9lOq44d+rZO+KwO1MBQT31PUPWsmePpPxe3yxkBgv+c3wphKyt3d8BxTdFSZmJ0bRGIs6twgBj83kzdY13/wxneGWEbip+oDtSxuIkgjqG73jSt2vD88ATCwXgnbhDsyFQ9a9wabu1KgACkVgwZLo1S9oLTQlTsm9mXSZc/Ne+CWtnplIs9DUFhpZAAIs/dMP6qomYBleOb+GLSeUrUpeJVCp/bDyjkB5Kcn+OFXyxQtakuEFa8zu9KCasO1/xS4/uMGLc/LysLhwasMXXzxC1sMuOGdRgENshgesd3UkACoNqb0M4QcrR+pC5+/YLWjoMcwHZ9LXg0npPTb0eI2A7gN+QhaLCSCnsFB0Bdw5FdEsHuloXwOGbt5APzIWjxEz51sZuwZc5hILy35q+a8ebTFNxz76j4o+S25cFSmTlApqW+HHhN1X+32OBYMwvZYAN/n8prkoUQIz1WydLjtbyRCfpoFLxaGbXg41j4Li8zh8JF+wfLXmy5EQOPnkGtNqw3tyG6TvyG869/LXK+3tMoL7r+YJR745NoMcEE3EQtRuwRt06G690qxUCOG8Cwcamxi0ktzuIqaqx2aScoSfJwspEV0cY8TjYx6Ya9zGk7fiZqZVaGjO/kySdJ/TDURl7d4raSb/+OZ2r026GGxMjdoqOhdW5Nk+MC/605kJm8/DpQsA4BFBCUcLGyDtB+ANod3bTffUvAAPgFwt0enMcYuA9+qdC9w5CnID4jHJQRXnuqrgeLEPpyIAZUctDWeF97m+6M68v9snfPt49Re57g9oLTKjw19wm3QDMSPCVQAQCC4wCZ3c+PSbYOUdwZ8LxBCBac2E87nC2XcJGGbtWdlBIIrkVroSGcbi06jsyaCZkTGcIFEM/DuJtu7uqFx/OF+FfwbMDMvpadv6Wd8vB7lyb70UgFk7xqjMB3S+SrX4lQaH7wAK1omagpO6CJXLDhAjEo95iztMlWT9VpqX31Cmnyfv/55WvqRNoOtuVWu3gbepWmM79xY0YUyX9xd0GF/tYATIy67PTiOIthJSVfI1ys5MPB2jsnXyrAuPYZu9ULiUyVlg25o8I2+fZhNS8y/Moo5+63Vsn4/cZb7lwqU94XH21pHjhVz0cB4PL5Qun4ObWSGz8fQehn/MBqzZ7UFrkGsXQyYM4tvBNQ1zbZ5dNDQL22Zt29hpcyFe4TWgiuXrYRE3PiGiWKQHlvfPogpmPGCa4RhkZ7QjthWTb7iqGJ4QMI+tsHktrINz/ssY9L8ifRuuFc69Y3PhYMLdIZYEh2g+QuYXfMxt4DIirM6e/QyFHgcPA2/i6QxFUtQO02V/ndi+Qnp02f+GsCsUd/8G0xbAKbb5wqfUZj0LDOtWEupXypo8xxQq6kUC/HTYPfNTX4IXuwqHRRQ8xCYWNm8EEdDMfDa6hyeDhQrVHxRF532UsFrfB2CRP8E7r8nMxp9s8mVtgrYv5GkPgmSQjHQJPYI8QMuL4ctZgVM1z/xuBO7LSSotsvv7Bwb9EsK+hw5R4/7UN9mFR5x/4iOttlzJIHQB7j5h+4NDcwyN+zsHdcmK9KWJ3+zAGnqnSGRHpeBRIhX/qzbjH3el4D62R/l678pc5uJIiT2yWPy2NzsLC1jHQt7H6DUYe+H43eJQZSHAc5C/GfBLPA+NJTLq9S2hLWTBxgd4Ng+Y0mHDtTo0zAOOGh9230RiPSq+MP3ouIwRtRKxfvaVq2ESpx1oaRxTdGHzmYETTKYPFlYaksXpuftgyMca/zvbJUhtbVtNTagOYOTgnD6B6NlWtZFJTYsNTszQDnOQRnlEzLwv8iFJg0g++MtMGYzr28LFXd7C/hjF6XsQ/vDlJP1uezIXxr/NB3XXL1atk/7Ws7nwa1GgWaP1fua0dmYGmJIYCiRvxmXM8rQYxE8BoFTwArxGL2HZzhRGYUoUeTY6qWuehki0F1/XBXUijk0bElXUn8Ae/Lr9mz7jA5LObYsnt05cbsQ3KTVytA8OSF84oL3bUBOSwyp48zle7ZNRdUJU2xiMunWsnVtvfORbD6e8JFZU7zVVgrJ9Et4tWQKB9fi4MmBFsnfxLguGl4+vo7qSlkBgaR1H/I/s+/J1GQziiEaDoS2uAU+OCQrIqxwoHxsmL0yMQibyHuRm0igZdykzq7MSrpioyTwpNTqpqvyaQM91QnfROJlgi8E2H6lB1dxadS6a7VHa2euNhYxZMesOe+/ggFQvyUU+smUyjiIOssVCfkX3ED61WeDZ+uZwJgoPhKQelpeXmDibrooBs1Om/vgoyhETy0P8ahTuBkfQ0DMTxFUK3ZWmNViGEiEn3PVOlnbMY5q/6ziqprY1gLzURj7qsDZtC4ov6AVraaNY0GEhqvjk0LRUkmvRb9XgeFtuQYCir8TNhxwH9m6sg/u8RctjuAPWB2TA+aM4gfbQZ/fUA1sSwA7RCPbSNsTYhSCIktTEderWzygUZMPElBrQy7EiVh3ix28NGLOfJWk1Mm4pwEM0FR2z99a9HYZ563XWGiQHUbPb+Brmfw5tuhKaGmiS1qNyEWwNJ6ndymrxGkxILg3maBa7D5XfBXksNUJ6nwzySYRLp2UTF/XxcRNa/0F36oJyJmJfWvJcOFqMtghA/dyNdjImJd7ycs5/iyynz/0Dzs71iMtao6R0ml9oSImn25C69aXjEqhxGjwN2i6CUXAMLtuw4XpbuyWSbXgy6JBQtC8CyuZvUrnP2/ep/Y5qnGTMHAgizUm0zfuONQi4Ibi9cfpiJVe1TzKNfCllattDF4TCuFezDn6OhO4VtneR6+wks4CXkt243rZHRvgJbbtpoqa+G0CmoO1r3Q+ldY9NkprrDuhZ7wypcHUuE0g3NBo/C/1R0+86Bjl0ZGCpd8yvbKFiYHvnvx8=
*/