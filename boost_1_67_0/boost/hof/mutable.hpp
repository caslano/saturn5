/*=============================================================================
    Copyright (c) 2014 Paul Fultz II
    mutable.h
    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_HOF_GUARD_FUNCTION_MUTABLE_H
#define BOOST_HOF_GUARD_FUNCTION_MUTABLE_H

/// mutable
/// =======
/// 
/// Description
/// -----------
/// 
/// The `mutable` function adaptor allows using a non-const function object
/// inside of a const-function object. In Fit, all the function adaptors use
/// `const` call overloads, so if there is a function that has a non-const
/// call operator, it couldn't be used directly. So, `mutable_` allows the
/// function to be used inside of the call operator.
/// 
/// NOTE: This function should be used with caution since many functions are
/// copied, so relying on some internal shared state can be error-prone.
/// 
/// Synopsis
/// --------
/// 
///     template<class F>
///     mutable_adaptor<F> mutable_(F f)
/// 
/// Requirements
/// ------------
/// 
/// F must be:
/// 
/// * [MutableFunctionObject](MutableFunctionObject)
/// * MoveConstructible
/// 

#include <boost/hof/detail/result_of.hpp>
#include <boost/hof/detail/delegate.hpp>
#include <boost/hof/detail/move.hpp>
#include <boost/hof/detail/make.hpp>
#include <boost/hof/detail/static_const_var.hpp>

namespace boost { namespace hof {

template<class F>
struct mutable_adaptor
{
    mutable F f;

    BOOST_HOF_DELEGATE_CONSTRUCTOR(mutable_adaptor, F, f);

    BOOST_HOF_RETURNS_CLASS(mutable_adaptor);

    template<class... Ts>
    BOOST_HOF_SFINAE_RESULT(F, id_<Ts>...) 
    operator()(Ts&&... xs) const BOOST_HOF_SFINAE_RETURNS(BOOST_HOF_CONST_THIS->f(BOOST_HOF_FORWARD(Ts)(xs)...));
};

BOOST_HOF_DECLARE_STATIC_VAR(mutable_, detail::make<mutable_adaptor>);

}} // namespace boost::hof


#endif

/* mutable.hpp
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
*/