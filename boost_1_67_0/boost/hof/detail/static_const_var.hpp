/*=============================================================================
    Copyright (c) 2015 Paul Fultz II
    static_const_var.h
    Distributed under the Boost Software License, Version 1.0. (See accompanying
    file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
==============================================================================*/

#ifndef BOOST_HOF_GUARD_STATIC_CONST_H
#define BOOST_HOF_GUARD_STATIC_CONST_H

#include <boost/hof/detail/intrinsics.hpp>

namespace boost { namespace hof { namespace detail {

template<class T>
struct static_const_storage
{
    static constexpr T value = T();
};

template<class T>
constexpr T static_const_storage<T>::value;

struct static_const_var_factory
{
    constexpr static_const_var_factory()
    {}

    template<class T>
    constexpr const T& operator=(const T&) const
    {
        static_assert(BOOST_HOF_IS_DEFAULT_CONSTRUCTIBLE(T), "Static const variable must be default constructible");
        return static_const_storage<T>::value;
    }
};
}

template<class T>
constexpr const T& static_const_var()
{
    return detail::static_const_storage<T>::value;
}


}} // namespace boost::hof

#if BOOST_HOF_HAS_RELAXED_CONSTEXPR || defined(_MSC_VER)
#define BOOST_HOF_STATIC_CONSTEXPR const constexpr
#else
#define BOOST_HOF_STATIC_CONSTEXPR static constexpr
#endif

#if defined(__GNUC__) && !defined (__clang__) && __GNUC__ == 4 && __GNUC_MINOR__ < 7
#define BOOST_HOF_STATIC_AUTO_REF extern __attribute__((weak)) constexpr auto
#else
#define BOOST_HOF_STATIC_AUTO_REF static constexpr auto&
#endif

// On gcc 4.6 use weak variables
#if defined(__GNUC__) && !defined (__clang__) && __GNUC__ == 4 && __GNUC_MINOR__ < 7
#define BOOST_HOF_STATIC_CONST_VAR(name) extern __attribute__((weak)) constexpr auto name
#else
#define BOOST_HOF_STATIC_CONST_VAR(name) static constexpr auto& name = boost::hof::detail::static_const_var_factory()
#endif

#define BOOST_HOF_DECLARE_STATIC_VAR(name, ...) BOOST_HOF_STATIC_CONST_VAR(name) = __VA_ARGS__{}

#endif

/* static_const_var.hpp
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
*/