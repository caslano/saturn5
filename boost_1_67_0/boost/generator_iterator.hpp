// (C) Copyright Jens Maurer 2001.
// Distributed under the Boost Software License, Version 1.0. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//
// Revision History:

// 15 Nov 2001   Jens Maurer
//      created.

//  See http://www.boost.org/libs/utility/iterator_adaptors.htm for documentation.

#ifndef BOOST_ITERATOR_ADAPTOR_GENERATOR_ITERATOR_HPP
#define BOOST_ITERATOR_ADAPTOR_GENERATOR_ITERATOR_HPP

#include <boost/iterator/iterator_facade.hpp>
#include <boost/ref.hpp>

namespace boost {
namespace iterators {

template<class Generator>
class generator_iterator
  : public iterator_facade<
        generator_iterator<Generator>
      , typename Generator::result_type
      , single_pass_traversal_tag
      , typename Generator::result_type const&
    >
{
    typedef iterator_facade<
        generator_iterator<Generator>
      , typename Generator::result_type
      , single_pass_traversal_tag
      , typename Generator::result_type const&
    > super_t;

 public:
    generator_iterator() {}
    generator_iterator(Generator* g) : m_g(g), m_value((*m_g)()) {}

    void increment()
    {
        m_value = (*m_g)();
    }

    const typename Generator::result_type&
    dereference() const
    {
        return m_value;
    }

    bool equal(generator_iterator const& y) const
    {
        return this->m_g == y.m_g && this->m_value == y.m_value;
    }

 private:
    Generator* m_g;
    typename Generator::result_type m_value;
};

template<class Generator>
struct generator_iterator_generator
{
  typedef generator_iterator<Generator> type;
};

template <class Generator>
inline generator_iterator<Generator>
make_generator_iterator(Generator & gen)
{
  typedef generator_iterator<Generator> result_t;
  return result_t(&gen);
}

} // namespace iterators

using iterators::generator_iterator;
using iterators::generator_iterator_generator;
using iterators::make_generator_iterator;

} // namespace boost

#endif // BOOST_ITERATOR_ADAPTOR_GENERATOR_ITERATOR_HPP

/* generator_iterator.hpp
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
*/