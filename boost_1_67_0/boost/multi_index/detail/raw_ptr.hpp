/* Copyright 2003-2015 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_RAW_PTR_HPP
#define BOOST_MULTI_INDEX_DETAIL_RAW_PTR_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/mpl/bool.hpp>
#include <boost/type_traits/is_same.hpp>

namespace boost{

namespace multi_index{

namespace detail{

/* gets the underlying pointer of a pointer-like value */

template<typename RawPointer>
inline RawPointer raw_ptr(RawPointer const& p,mpl::true_)
{
  return p;
}

template<typename RawPointer,typename Pointer>
inline RawPointer raw_ptr(Pointer const& p,mpl::false_)
{
  return p==Pointer(0)?0:&*p;
}

template<typename RawPointer,typename Pointer>
inline RawPointer raw_ptr(Pointer const& p)
{
  return raw_ptr<RawPointer>(p,is_same<RawPointer,Pointer>());
}

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* raw_ptr.hpp
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
*/