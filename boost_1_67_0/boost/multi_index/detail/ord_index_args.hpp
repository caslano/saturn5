/* Copyright 2003-2013 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_ORD_INDEX_ARGS_HPP
#define BOOST_MULTI_INDEX_DETAIL_ORD_INDEX_ARGS_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/mpl/aux_/na.hpp>
#include <boost/mpl/eval_if.hpp>
#include <boost/mpl/identity.hpp>
#include <boost/mpl/if.hpp>
#include <boost/multi_index/tag.hpp>
#include <boost/static_assert.hpp>
#include <boost/type_traits/is_same.hpp>
#include <functional>

namespace boost{

namespace multi_index{

namespace detail{

/* Oredered index specifiers can be instantiated in two forms:
 *
 *   (ordered_unique|ordered_non_unique)<
 *     KeyFromValue,Compare=std::less<KeyFromValue::result_type> >
 *   (ordered_unique|ordered_non_unique)<
 *     TagList,KeyFromValue,Compare=std::less<KeyFromValue::result_type> >
 *
 * index_args implements the machinery to accept this argument-dependent
 * polymorphism.
 */

template<typename KeyFromValue>
struct index_args_default_compare
{
  typedef std::less<typename KeyFromValue::result_type> type;
};

template<typename Arg1,typename Arg2,typename Arg3>
struct ordered_index_args
{
  typedef is_tag<Arg1> full_form;

  typedef typename mpl::if_<
    full_form,
    Arg1,
    tag< > >::type                                   tag_list_type;
  typedef typename mpl::if_<
    full_form,
    Arg2,
    Arg1>::type                                      key_from_value_type;
  typedef typename mpl::if_<
    full_form,
    Arg3,
    Arg2>::type                                      supplied_compare_type;
  typedef typename mpl::eval_if<
    mpl::is_na<supplied_compare_type>,
    index_args_default_compare<key_from_value_type>,
    mpl::identity<supplied_compare_type>
  >::type                                            compare_type;

  BOOST_STATIC_ASSERT(is_tag<tag_list_type>::value);
  BOOST_STATIC_ASSERT(!mpl::is_na<key_from_value_type>::value);
  BOOST_STATIC_ASSERT(!mpl::is_na<compare_type>::value);
};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* ord_index_args.hpp
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
*/