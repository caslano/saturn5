/* Copyright 2003-2014 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_CONS_STDTUPLE_HPP
#define BOOST_MULTI_INDEX_DETAIL_CONS_STDTUPLE_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/mpl/if.hpp>
#include <boost/tuple/tuple.hpp>
#include <tuple>

namespace boost{

namespace multi_index{

namespace detail{

/* std::tuple wrapper providing the cons-based interface of boost::tuple for
 * composite_key interoperability.
 */

template<typename StdTuple,std::size_t N>
struct cons_stdtuple;

struct cons_stdtuple_ctor_terminal
{
  typedef boost::tuples::null_type result_type;

  template<typename StdTuple>
  static result_type create(const StdTuple&)
  {
    return boost::tuples::null_type();
  }
};

template<typename StdTuple,std::size_t N>
struct cons_stdtuple_ctor_normal
{
  typedef cons_stdtuple<StdTuple,N> result_type;

  static result_type create(const StdTuple& t)
  {
    return result_type(t);
  }
};

template<typename StdTuple,std::size_t N=0>
struct cons_stdtuple_ctor:
  boost::mpl::if_c<
    N<std::tuple_size<StdTuple>::value,
    cons_stdtuple_ctor_normal<StdTuple,N>,
    cons_stdtuple_ctor_terminal
  >::type
{};

template<typename StdTuple,std::size_t N>
struct cons_stdtuple
{
  typedef typename std::tuple_element<N,StdTuple>::type head_type;
  typedef cons_stdtuple_ctor<StdTuple,N+1>              tail_ctor;
  typedef typename tail_ctor::result_type               tail_type;
  
  cons_stdtuple(const StdTuple& t_):t(t_){}

  const head_type& get_head()const{return std::get<N>(t);}
  tail_type get_tail()const{return tail_ctor::create(t);}
    
  const StdTuple& t;
};

template<typename StdTuple>
typename cons_stdtuple_ctor<StdTuple>::result_type
make_cons_stdtuple(const StdTuple& t)
{
  return cons_stdtuple_ctor<StdTuple>::create(t);
}

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* cons_stdtuple.hpp
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
*/