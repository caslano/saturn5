/* Copyright 2003-2013 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_NODE_TYPE_HPP
#define BOOST_MULTI_INDEX_DETAIL_NODE_TYPE_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/detail/workaround.hpp>
#include <boost/mpl/bind.hpp>
#include <boost/mpl/reverse_iter_fold.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/multi_index_container_fwd.hpp>
#include <boost/multi_index/detail/header_holder.hpp>
#include <boost/multi_index/detail/index_node_base.hpp>
#include <boost/multi_index/detail/is_index_list.hpp>
#include <boost/static_assert.hpp>

namespace boost{

namespace multi_index{

namespace detail{

/* MPL machinery to construct the internal node type associated to an
 * index list.
 */

struct index_node_applier
{
  template<typename IndexSpecifierIterator,typename Super>
  struct apply
  {
    typedef typename mpl::deref<IndexSpecifierIterator>::type index_specifier;
    typedef typename index_specifier::
      BOOST_NESTED_TEMPLATE node_class<Super>::type type;
  }; 
};

template<typename Value,typename IndexSpecifierList,typename Allocator>
struct multi_index_node_type
{
  BOOST_STATIC_ASSERT(detail::is_index_list<IndexSpecifierList>::value);

  typedef typename mpl::reverse_iter_fold<
    IndexSpecifierList,
    index_node_base<Value,Allocator>,
    mpl::bind2<index_node_applier,mpl::_2,mpl::_1>
  >::type type;
};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* node_type.hpp
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
*/