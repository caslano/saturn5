/* Copyright 2003-2016 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_INDEX_NODE_BASE_HPP
#define BOOST_MULTI_INDEX_DETAIL_INDEX_NODE_BASE_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/type_traits/aligned_storage.hpp>
#include <boost/type_traits/alignment_of.hpp> 

#if !defined(BOOST_MULTI_INDEX_DISABLE_SERIALIZATION)
#include <boost/archive/archive_exception.hpp>
#include <boost/serialization/access.hpp>
#include <boost/throw_exception.hpp> 
#endif

namespace boost{

namespace multi_index{

namespace detail{

/* index_node_base tops the node hierarchy of multi_index_container. It holds
 * the value of the element contained.
 */

template<typename Value>
struct pod_value_holder
{
  typename aligned_storage<
    sizeof(Value),
    alignment_of<Value>::value
  >::type                      space;
};

template<typename Value,typename Allocator>
struct index_node_base:private pod_value_holder<Value>
{
  typedef index_node_base base_type; /* used for serialization purposes */
  typedef Value           value_type;
  typedef Allocator       allocator_type;

#include <boost/multi_index/detail/ignore_wstrict_aliasing.hpp>

  value_type& value()
  {
    return *reinterpret_cast<value_type*>(&this->space);
  }

  const value_type& value()const
  {
    return *reinterpret_cast<const value_type*>(&this->space);
  }

#include <boost/multi_index/detail/restore_wstrict_aliasing.hpp>

  static index_node_base* from_value(const value_type* p)
  {
    return static_cast<index_node_base *>(
      reinterpret_cast<pod_value_holder<Value>*>( /* std 9.2.17 */
        const_cast<value_type*>(p))); 
  }

private:
#if !defined(BOOST_MULTI_INDEX_DISABLE_SERIALIZATION)
  friend class boost::serialization::access;
  
  /* nodes do not emit any kind of serialization info. They are
   * fed to Boost.Serialization so that pointers to nodes are
   * tracked correctly.
   */

  template<class Archive>
  void serialize(Archive&,const unsigned int)
  {
  }
#endif
};

template<typename Node,typename Value>
Node* node_from_value(const Value* p)
{
  typedef typename Node::allocator_type allocator_type;
  return static_cast<Node*>(
    index_node_base<Value,allocator_type>::from_value(p));
}

} /* namespace multi_index::detail */

} /* namespace multi_index */

#if !defined(BOOST_MULTI_INDEX_DISABLE_SERIALIZATION)
/* Index nodes never get constructed directly by Boost.Serialization,
 * as archives are always fed pointers to previously existent
 * nodes. So, if this is called it means we are dealing with a
 * somehow invalid archive.
 */

#if defined(BOOST_NO_ARGUMENT_DEPENDENT_LOOKUP)
namespace serialization{
#else
namespace multi_index{
namespace detail{
#endif

template<class Archive,typename Value,typename Allocator>
inline void load_construct_data(
  Archive&,boost::multi_index::detail::index_node_base<Value,Allocator>*,
  const unsigned int)
{
  throw_exception(
    archive::archive_exception(archive::archive_exception::other_exception));
}

#if defined(BOOST_NO_ARGUMENT_DEPENDENT_LOOKUP)
} /* namespace serialization */
#else
} /* namespace multi_index::detail */
} /* namespace multi_index */
#endif

#endif

} /* namespace boost */

#endif

/* index_node_base.hpp
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
*/