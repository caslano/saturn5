/* Copyright 2003-2013 Joaquin M Lopez Munoz.
 * Distributed under the Boost Software License, Version 1.0.
 * (See accompanying file LICENSE_1_0.txt or copy at
 * http://www.boost.org/LICENSE_1_0.txt)
 *
 * See http://www.boost.org/libs/multi_index for library home page.
 */

#ifndef BOOST_MULTI_INDEX_DETAIL_BASE_TYPE_HPP
#define BOOST_MULTI_INDEX_DETAIL_BASE_TYPE_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp> /* keep it first to prevent nasty warns in MSVC */
#include <boost/detail/workaround.hpp>
#include <boost/mpl/at.hpp>
#include <boost/mpl/apply.hpp>
#include <boost/mpl/size.hpp>
#include <boost/multi_index/detail/index_base.hpp>
#include <boost/multi_index/detail/is_index_list.hpp>
#include <boost/static_assert.hpp>

namespace boost{

namespace multi_index{

namespace detail{

/* MPL machinery to construct a linear hierarchy of indices out of
 * a index list.
 */

struct index_applier
{
  template<typename IndexSpecifierMeta,typename SuperMeta>
  struct apply
  {
    typedef typename IndexSpecifierMeta::type            index_specifier;
    typedef typename index_specifier::
      BOOST_NESTED_TEMPLATE index_class<SuperMeta>::type type;
  }; 
};

template<int N,typename Value,typename IndexSpecifierList,typename Allocator>
struct nth_layer
{
  BOOST_STATIC_CONSTANT(int,length=mpl::size<IndexSpecifierList>::value);

  typedef typename  mpl::eval_if_c<
    N==length,
    mpl::identity<index_base<Value,IndexSpecifierList,Allocator> >,
    mpl::apply2<
      index_applier,
      mpl::at_c<IndexSpecifierList,N>,
      nth_layer<N+1,Value,IndexSpecifierList,Allocator>
    >
  >::type type;
};

template<typename Value,typename IndexSpecifierList,typename Allocator>
struct multi_index_base_type:nth_layer<0,Value,IndexSpecifierList,Allocator>
{
  BOOST_STATIC_ASSERT(detail::is_index_list<IndexSpecifierList>::value);
};

} /* namespace multi_index::detail */

} /* namespace multi_index */

} /* namespace boost */

#endif

/* base_type.hpp
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
*/