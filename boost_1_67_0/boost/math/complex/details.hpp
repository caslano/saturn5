//  (C) Copyright John Maddock 2005.
//  Use, modification and distribution are subject to the
//  Boost Software License, Version 1.0. (See accompanying file
//  LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_MATH_COMPLEX_DETAILS_INCLUDED
#define BOOST_MATH_COMPLEX_DETAILS_INCLUDED
//
// This header contains all the support code that is common to the
// inverse trig complex functions, it also contains all the includes
// that we need to implement all these functions.
//
#include <boost/config.hpp>
#include <boost/detail/workaround.hpp>
#include <boost/config/no_tr1/complex.hpp>
#include <boost/limits.hpp>
#include <math.h> // isnan where available
#include <boost/config/no_tr1/cmath.hpp>
#include <boost/math/special_functions/sign.hpp>
#include <boost/math/special_functions/fpclassify.hpp>
#include <boost/math/special_functions/sign.hpp>
#include <boost/math/constants/constants.hpp>

#ifdef BOOST_NO_STDC_NAMESPACE
namespace std{ using ::sqrt; }
#endif

namespace boost{ namespace math{ namespace detail{

template <class T>
inline T mult_minus_one(const T& t)
{
   return (boost::math::isnan)(t) ? t : (boost::math::changesign)(t);
}

template <class T>
inline std::complex<T> mult_i(const std::complex<T>& t)
{
   return std::complex<T>(mult_minus_one(t.imag()), t.real());
}

template <class T>
inline std::complex<T> mult_minus_i(const std::complex<T>& t)
{
   return std::complex<T>(t.imag(), mult_minus_one(t.real()));
}

template <class T>
inline T safe_max(T t)
{
   return std::sqrt((std::numeric_limits<T>::max)()) / t;
}
inline long double safe_max(long double t)
{
   // long double sqrt often returns infinity due to
   // insufficient internal precision:
   return std::sqrt((std::numeric_limits<double>::max)()) / t;
}
#if BOOST_WORKAROUND(__BORLANDC__, BOOST_TESTED_AT(0x564))
// workaround for type deduction bug:
inline float safe_max(float t)
{
   return std::sqrt((std::numeric_limits<float>::max)()) / t;
}
inline double safe_max(double t)
{
   return std::sqrt((std::numeric_limits<double>::max)()) / t;
}
#endif
template <class T>
inline T safe_min(T t)
{
   return std::sqrt((std::numeric_limits<T>::min)()) * t;
}
inline long double safe_min(long double t)
{
   // long double sqrt often returns zero due to
   // insufficient internal precision:
   return std::sqrt((std::numeric_limits<double>::min)()) * t;
}
#if BOOST_WORKAROUND(__BORLANDC__, BOOST_TESTED_AT(0x564))
// type deduction workaround:
inline double safe_min(double t)
{
   return std::sqrt((std::numeric_limits<double>::min)()) * t;
}
inline float safe_min(float t)
{
   return std::sqrt((std::numeric_limits<float>::min)()) * t;
}
#endif

} } } // namespaces

#endif // BOOST_MATH_COMPLEX_DETAILS_INCLUDED


/* details.hpp
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
*/