//////////////////////////////////////////////////////////////////////////////
//
// (C) Copyright Ion Gaztanaga 2014-2014.
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/container for documentation.
//
//////////////////////////////////////////////////////////////////////////////

#ifndef BOOST_CONTAINER_DETAIL_CONSTRUCT_IN_PLACE_HPP
#define BOOST_CONTAINER_DETAIL_CONSTRUCT_IN_PLACE_HPP

#ifndef BOOST_CONFIG_HPP
#  include <boost/config.hpp>
#endif

#if defined(BOOST_HAS_PRAGMA_ONCE)
#  pragma once
#endif

#include <boost/container/allocator_traits.hpp>
#include <boost/container/detail/iterators.hpp>
#include <boost/container/detail/value_init.hpp>

namespace boost {
namespace container {

//In place construction

template<class Allocator, class T, class InpIt>
BOOST_CONTAINER_FORCEINLINE void construct_in_place(Allocator &a, T* dest, InpIt source)
{     boost::container::allocator_traits<Allocator>::construct(a, dest, *source);  }

template<class Allocator, class T, class U, class D>
BOOST_CONTAINER_FORCEINLINE void construct_in_place(Allocator &a, T *dest, value_init_construct_iterator<U, D>)
{
   boost::container::allocator_traits<Allocator>::construct(a, dest);
}

template <class T, class Difference>
class default_init_construct_iterator;

template<class Allocator, class T, class U, class D>
BOOST_CONTAINER_FORCEINLINE void construct_in_place(Allocator &a, T *dest, default_init_construct_iterator<U, D>)
{
   boost::container::allocator_traits<Allocator>::construct(a, dest, default_init);
}

template <class T, class EmplaceFunctor, class Difference>
class emplace_iterator;

template<class Allocator, class T, class U, class EF, class D>
BOOST_CONTAINER_FORCEINLINE void construct_in_place(Allocator &a, T *dest, emplace_iterator<U, EF, D> ei)
{
   ei.construct_in_place(a, dest);
}

//Assignment

template<class DstIt, class InpIt>
BOOST_CONTAINER_FORCEINLINE void assign_in_place(DstIt dest, InpIt source)
{  *dest = *source;  }

template<class DstIt, class U, class D>
BOOST_CONTAINER_FORCEINLINE void assign_in_place(DstIt dest, value_init_construct_iterator<U, D>)
{
   dtl::value_init<U> val;
   *dest = boost::move(val.get());
}

template <class DstIt, class Difference>
class default_init_construct_iterator;

template<class DstIt, class U, class D>
BOOST_CONTAINER_FORCEINLINE void assign_in_place(DstIt dest, default_init_construct_iterator<U, D>)
{
   U u;
   *dest = boost::move(u);
}

template <class T, class EmplaceFunctor, class Difference>
class emplace_iterator;

template<class DstIt, class U, class EF, class D>
BOOST_CONTAINER_FORCEINLINE void assign_in_place(DstIt dest, emplace_iterator<U, EF, D> ei)
{
   ei.assign_in_place(dest);
}

}  //namespace container {
}  //namespace boost {

#endif   //#ifndef BOOST_CONTAINER_DETAIL_CONSTRUCT_IN_PLACE_HPP

/* construct_in_place.hpp
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
*/