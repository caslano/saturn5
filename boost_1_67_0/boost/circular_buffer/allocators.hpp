// Copyright 2018 Glen Joseph Fernandes
// (glenjofe@gmail.com)
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_CIRCULAR_BUFFER_ALLOCATORS_HPP
#define BOOST_CIRCULAR_BUFFER_ALLOCATORS_HPP

#include <boost/config.hpp>
#if defined(BOOST_NO_CXX11_ALLOCATOR)
#define BOOST_CB_NO_CXX11_ALLOCATOR
#elif defined(BOOST_LIBSTDCXX_VERSION) && (BOOST_LIBSTDCXX_VERSION < 40800)
#define BOOST_CB_NO_CXX11_ALLOCATOR
#endif
#if !defined(BOOST_CB_NO_CXX11_ALLOCATOR)
#include <memory>
#else
#include <new>
#endif
#if !defined(BOOST_NO_CXX11_RVALUE_REFERENCES)
#include <utility>
#endif

namespace boost {
namespace cb_details {

#if !defined(BOOST_CB_NO_CXX11_ALLOCATOR)
using std::allocator_traits;
#else
template<class A>
struct allocator_traits {
    typedef typename A::value_type value_type;
    typedef typename A::pointer pointer;
    typedef typename A::const_pointer const_pointer;
    typedef typename A::difference_type difference_type;
    typedef typename A::size_type size_type;

    static size_type max_size(const A& a) BOOST_NOEXCEPT {
        return a.max_size();
    }

#if !defined(BOOST_NO_CXX11_RVALUE_REFERENCES)
#if !defined(BOOST_NO_CXX11_VARIADIC_TEMPLATES)
    template<class U, class... Args>
    static void construct(const A&, U* ptr, Args&&... args) {
        ::new((void*)ptr) U(std::forward<Args>(args)...);
    }
#else
    template<class U, class V>
    static void construct(const A&, U* ptr, V&& value) {
        ::new((void*)ptr) U(std::forward<V>(value));
    }
#endif
#else
    template<class U, class V>
    static void construct(const A&, U* ptr, const V& value) {
        ::new((void*)ptr) U(value);
    }

    template<class U, class V>
    static void construct(const A&, U* ptr, V& value) {
        ::new((void*)ptr) U(value);
    }
#endif

    template<class U>
    static void destroy(const A&, U* ptr) {
        (void)ptr;
        ptr->~U();
    }
};
#endif

} // cb_details
} // boost

#endif

/* allocators.hpp
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
*/