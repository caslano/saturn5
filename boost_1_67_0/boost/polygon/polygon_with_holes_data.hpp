/*
  Copyright 2008 Intel Corporation

  Use, modification and distribution are subject to the Boost Software License,
  Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
  http://www.boost.org/LICENSE_1_0.txt).
*/
#ifndef BOOST_POLYGON_POLYGON_WITH_HOLES_DATA_HPP
#define BOOST_POLYGON_POLYGON_WITH_HOLES_DATA_HPP
#include "isotropy.hpp"
#include "polygon_data.hpp"
namespace boost { namespace polygon{
  struct polygon_with_holes_concept;
  template <typename T>
  class polygon_with_holes_data {
public:
  typedef polygon_with_holes_concept geometry_type;
  typedef T coordinate_type;
  typedef typename polygon_data<T>::iterator_type iterator_type;
  typedef typename std::list<polygon_data<coordinate_type> >::const_iterator iterator_holes_type;
  typedef polygon_data<coordinate_type> hole_type;
  typedef typename coordinate_traits<T>::coordinate_distance area_type;
  typedef point_data<T> point_type;

  // default constructor of point does not initialize x and y
  inline polygon_with_holes_data() : self_(), holes_() {} //do nothing default constructor

  template<class iT>
  inline polygon_with_holes_data(iT input_begin, iT input_end) : self_(), holes_() {
    set(input_begin, input_end);
  }

  template<class iT, typename hiT>
  inline polygon_with_holes_data(iT input_begin, iT input_end, hiT holes_begin, hiT holes_end) : self_(), holes_() {
    set(input_begin, input_end);
    set_holes(holes_begin, holes_end);
  }

  template<class iT>
  inline polygon_with_holes_data& set(iT input_begin, iT input_end) {
    self_.set(input_begin, input_end);
    return *this;
  }

  // initialize a polygon from x,y values, it is assumed that the first is an x
  // and that the input is a well behaved polygon
  template<class iT>
  inline polygon_with_holes_data& set_holes(iT input_begin, iT input_end) {
    holes_.clear();  //just in case there was some old data there
    for( ; input_begin != input_end; ++ input_begin) {
       holes_.push_back(hole_type());
       holes_.back().set((*input_begin).begin(), (*input_begin).end());
    }
    return *this;
  }

  // copy constructor (since we have dynamic memory)
  inline polygon_with_holes_data(const polygon_with_holes_data& that) : self_(that.self_),
                                                                  holes_(that.holes_) {}

  // assignment operator (since we have dynamic memory do a deep copy)
  inline polygon_with_holes_data& operator=(const polygon_with_holes_data& that) {
    self_ = that.self_;
    holes_ = that.holes_;
    return *this;
  }

  template <typename T2>
  inline polygon_with_holes_data& operator=(const T2& rvalue);

  // get begin iterator, returns a pointer to a const coordinate_type
  inline const iterator_type begin() const {
    return self_.begin();
  }

  // get end iterator, returns a pointer to a const coordinate_type
  inline const iterator_type end() const {
    return self_.end();
  }

  inline std::size_t size() const {
    return self_.size();
  }

  // get begin iterator, returns a pointer to a const polygon
  inline const iterator_holes_type begin_holes() const {
    return holes_.begin();
  }

  // get end iterator, returns a pointer to a const polygon
  inline const iterator_holes_type end_holes() const {
    return holes_.end();
  }

  inline std::size_t size_holes() const {
    return holes_.size();
  }

public:
  polygon_data<coordinate_type> self_;
  std::list<hole_type> holes_;
  };


}
}
#endif

/* polygon_with_holes_data.hpp
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
*/