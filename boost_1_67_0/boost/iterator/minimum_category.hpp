// Copyright David Abrahams 2003. Use, modification and distribution is
// subject to the Boost Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#ifndef BOOST_ITERATOR_MINIMUM_CATEGORY_HPP_INCLUDED_
# define BOOST_ITERATOR_MINIMUM_CATEGORY_HPP_INCLUDED_

# include <boost/static_assert.hpp>
# include <boost/type_traits/is_convertible.hpp>
# include <boost/type_traits/is_same.hpp>

# include <boost/mpl/placeholders.hpp>
# include <boost/mpl/aux_/lambda_support.hpp>

namespace boost {
namespace iterators {
namespace detail {

template <bool GreaterEqual, bool LessEqual>
struct minimum_category_impl;

template <class T1, class T2>
struct error_not_related_by_convertibility;

template <>
struct minimum_category_impl<true,false>
{
    template <class T1, class T2> struct apply
    {
        typedef T2 type;
    };
};

template <>
struct minimum_category_impl<false,true>
{
    template <class T1, class T2> struct apply
    {
        typedef T1 type;
    };
};

template <>
struct minimum_category_impl<true,true>
{
    template <class T1, class T2> struct apply
    {
        BOOST_STATIC_ASSERT((is_same<T1,T2>::value));
        typedef T1 type;
    };
};

template <>
struct minimum_category_impl<false,false>
{
    template <class T1, class T2> struct apply
      : error_not_related_by_convertibility<T1,T2>
    {
    };
};

} // namespace detail

//
// Returns the minimum category type or fails to compile
// if T1 and T2 are unrelated.
//
template <class T1 = mpl::_1, class T2 = mpl::_2>
struct minimum_category
{
    typedef boost::iterators::detail::minimum_category_impl<
        ::boost::is_convertible<T1,T2>::value
      , ::boost::is_convertible<T2,T1>::value
    > outer;

    typedef typename outer::template apply<T1,T2> inner;
    typedef typename inner::type type;

    BOOST_MPL_AUX_LAMBDA_SUPPORT(2,minimum_category,(T1,T2))
};

template <>
struct minimum_category<mpl::_1,mpl::_2>
{
    template <class T1, class T2>
    struct apply : minimum_category<T1,T2>
    {};

    BOOST_MPL_AUX_LAMBDA_SUPPORT_SPEC(2,minimum_category,(mpl::_1,mpl::_2))
};

} // namespace iterators

} // namespace boost

#endif // BOOST_ITERATOR_MINIMUM_CATEGORY_HPP_INCLUDED_

/* minimum_category.hpp
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
*/