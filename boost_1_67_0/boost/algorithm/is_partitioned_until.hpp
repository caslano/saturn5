/*
   Copyright (c) Alexander Zaitsev <zamazan4ik@gmail.by>, 2017.

   Distributed under the Boost Software License, Version 1.0. (See accompanying
   file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
*/

/// \file  is_partitioned_until.hpp
/// \brief Tell if a sequence is partitioned
/// \author Alexander Zaitsev

#ifndef BOOST_ALGORITHM_IS_PARTITIONED_UNTIL_HPP
#define BOOST_ALGORITHM_IS_PARTITIONED_UNTIL_HPP

#include <boost/config.hpp>
#include <boost/range/begin.hpp>
#include <boost/range/end.hpp>

namespace boost { namespace algorithm {

/// \fn is_partitioned_until ( InputIterator first, InputIterator last, UnaryPredicate p )
/// \brief Tests to see if a sequence is partitioned according to a predicate. 
///	   In other words, all the items in the sequence that satisfy the predicate are at the beginning of the sequence.
///
/// \param first    The start of the input sequence
/// \param last     One past the end of the input sequence
/// \param p        The predicate to test the values with
///
/// \note Returns the first iterator 'it' in the sequence [first, last) for which is_partitioned(first, it, p) is false.
///     Returns last if the entire sequence is partitioned.
///     Complexity: O(N).
template <typename InputIterator, typename UnaryPredicate>
InputIterator is_partitioned_until ( InputIterator first, InputIterator last, UnaryPredicate p )
{
//  Run through the part that satisfy the predicate
    for ( ; first != last; ++first )
        if ( !p (*first))
            break;
//  Now the part that does not satisfy the predicate
    for ( ; first != last; ++first )
        if ( p (*first))
            return first;
    return last;
}

/// \fn is_partitioned_until ( const Range &r, UnaryPredicate p )
/// \brief Tests to see if a sequence is partitioned according to a predicate. 
///	   In other words, all the items in the sequence that satisfy the predicate are at the beginning of the sequence.
///
/// \param r        The input range
/// \param p        The predicate to test the values with
///
/// \note Returns the first iterator 'it' in the sequence [first, last) for which is_partitioned(first, it, p) is false.
///     Returns last if the entire sequence is partitioned.
///     Complexity: O(N).
template <typename Range, typename UnaryPredicate>
typename boost::range_iterator<const Range>::type is_partitioned_until ( const Range &r, UnaryPredicate p )
{
    return boost::algorithm::is_partitioned_until (boost::begin(r), boost::end(r), p);
}

}}

#endif  // BOOST_ALGORITHM_IS_PARTITIONED_UNTIL_HPP

/* is_partitioned_until.hpp
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
*/