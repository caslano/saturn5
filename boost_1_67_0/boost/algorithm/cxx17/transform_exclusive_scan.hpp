/*
   Copyright (c) Marshall Clow 2017.

   Distributed under the Boost Software License, Version 1.0. (See accompanying
   file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
*/

/// \file  transform_exclusive_scan.hpp
/// \brief ????
/// \author Marshall Clow

#ifndef BOOST_ALGORITHM_TRANSFORM_EXCLUSIVE_SCAN_HPP
#define BOOST_ALGORITHM_TRANSFORM_EXCLUSIVE_SCAN_HPP

#include <functional>     // for std::plus
#include <iterator>       // for std::iterator_traits

#include <boost/config.hpp>
#include <boost/range/begin.hpp>
#include <boost/range/end.hpp>
#include <boost/range/value_type.hpp>

namespace boost { namespace algorithm {

template<class InputIterator, class OutputIterator, class T,
         class BinaryOperation, class UnaryOperation>
OutputIterator transform_exclusive_scan(InputIterator first, InputIterator last,
                                        OutputIterator result, T init,
                                        BinaryOperation bOp, UnaryOperation uOp)
{
    if (first != last)
    {
        T saved = init;
        do
        {
            init = bOp(init, uOp(*first));
            *result = saved;
            saved = init;
            ++result;
        } while (++first != last);
    }
    return result;
}

}} // namespace boost and algorithm

#endif // BOOST_ALGORITHM_TRANSFORM_EXCLUSIVE_SCAN_HPP

/* transform_exclusive_scan.hpp
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
*/