/*
   Copyright (c) Marshall Clow 2017.

   Distributed under the Boost Software License, Version 1.0. (See accompanying
   file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
*/

/// \file  transform_reduce.hpp
/// \brief Combine the (transformed) elements of a sequence (or two) into a single value.
/// \author Marshall Clow

#ifndef BOOST_ALGORITHM_TRANSFORM_REDUCE_HPP
#define BOOST_ALGORITHM_TRANSFORM_REDUCE_HPP

#include <functional>     // for std::plus
#include <iterator>       // for std::iterator_traits

#include <boost/config.hpp>
#include <boost/range/begin.hpp>
#include <boost/range/end.hpp>
#include <boost/range/value_type.hpp>

namespace boost { namespace algorithm {

template<class InputIterator, class OutputIterator,
         class BinaryOperation, class UnaryOperation, class T>
OutputIterator transform_inclusive_scan(InputIterator first, InputIterator last,
                                        OutputIterator result,
                                        BinaryOperation bOp, UnaryOperation uOp,
                                        T init)
{
    for (; first != last; ++first, (void) ++result) {
        init = bOp(init, uOp(*first));
        *result = init;
        }

    return result;
}

template<class InputIterator, class OutputIterator,
         class BinaryOperation, class UnaryOperation>
OutputIterator transform_inclusive_scan(InputIterator first, InputIterator last,
                                        OutputIterator result,
                                        BinaryOperation bOp, UnaryOperation uOp)
{
    if (first != last) {
        typename std::iterator_traits<InputIterator>::value_type init = uOp(*first);
        *result++ = init;
        if (++first != last)
            return boost::algorithm::transform_inclusive_scan
                                              (first, last, result, bOp, uOp, init);
        }

    return result;
}


}} // namespace boost and algorithm

#endif // BOOST_ALGORITHM_TRANSFORM_REDUCE_HPP

/* transform_inclusive_scan.hpp
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
*/