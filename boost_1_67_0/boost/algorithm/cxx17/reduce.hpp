/*
   Copyright (c) Marshall Clow 2017.

   Distributed under the Boost Software License, Version 1.0. (See accompanying
   file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
*/

/// \file  reduce.hpp
/// \brief Combine the elements of a sequence into a single value
/// \author Marshall Clow

#ifndef BOOST_ALGORITHM_REDUCE_HPP
#define BOOST_ALGORITHM_REDUCE_HPP

#include <functional>     // for std::plus
#include <iterator>       // for std::iterator_traits

#include <boost/config.hpp>
#include <boost/range/begin.hpp>
#include <boost/range/end.hpp>
#include <boost/range/value_type.hpp>

namespace boost { namespace algorithm {

template<class InputIterator, class T, class BinaryOperation>
T reduce(InputIterator first, InputIterator last, T init, BinaryOperation bOp)
{
    ;
    for (; first != last; ++first)
        init = bOp(init, *first);
    return init;
}

template<class InputIterator, class T>
T reduce(InputIterator first, InputIterator last, T init)
{
	typedef typename std::iterator_traits<InputIterator>::value_type VT;
    return boost::algorithm::reduce(first, last, init, std::plus<VT>());
}

template<class InputIterator>
typename std::iterator_traits<InputIterator>::value_type
reduce(InputIterator first, InputIterator last)
{
    return boost::algorithm::reduce(first, last,
       typename std::iterator_traits<InputIterator>::value_type());
}

template<class Range>
typename boost::range_value<Range>::type
reduce(const Range &r)
{
    return boost::algorithm::reduce(boost::begin(r), boost::end(r));
}

//	Not sure that this won't be ambiguous (1)
template<class Range, class T>
T reduce(const Range &r, T init)
{
    return boost::algorithm::reduce(boost::begin (r), boost::end (r), init);
}


//	Not sure that this won't be ambiguous (2)
template<class Range, class T, class BinaryOperation>
T reduce(const Range &r, T init, BinaryOperation bOp)
{
    return boost::algorithm::reduce(boost::begin(r), boost::end(r), init, bOp);
}

}} // namespace boost and algorithm

#endif // BOOST_ALGORITHM_REDUCE_HPP

/* reduce.hpp
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
*/