/*!
@file
Defines `boost::hana::replace`.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_REPLACE_HPP
#define BOOST_HANA_REPLACE_HPP

#include <boost/hana/fwd/replace.hpp>

#include <boost/hana/concept/functor.hpp>
#include <boost/hana/config.hpp>
#include <boost/hana/core/dispatch.hpp>
#include <boost/hana/equal.hpp>
#include <boost/hana/replace_if.hpp>


BOOST_HANA_NAMESPACE_BEGIN
    //! @cond
    template <typename Xs, typename OldVal, typename NewVal>
    constexpr auto replace_t::operator()(Xs&& xs, OldVal&& oldval, NewVal&& newval) const {
        using S = typename hana::tag_of<Xs>::type;
        using Replace = BOOST_HANA_DISPATCH_IF(replace_impl<S>,
            hana::Functor<S>::value
        );

    #ifndef BOOST_HANA_CONFIG_DISABLE_CONCEPT_CHECKS
        static_assert(hana::Functor<S>::value,
        "hana::replace(xs, oldval, newval) requires 'xs' to be a Functor");
    #endif

        return Replace::apply(static_cast<Xs&&>(xs),
                              static_cast<OldVal&&>(oldval),
                              static_cast<NewVal&&>(newval));
    }
    //! @endcond

    template <typename Fun, bool condition>
    struct replace_impl<Fun, when<condition>> : default_ {
        template <typename Xs, typename OldVal, typename NewVal>
        static constexpr decltype(auto)
        apply(Xs&& xs, OldVal&& oldval, NewVal&& newval) {
            return hana::replace_if(
                static_cast<Xs&&>(xs),
                hana::equal.to(static_cast<OldVal&&>(oldval)),
                static_cast<NewVal&&>(newval)
            );
        }
    };
BOOST_HANA_NAMESPACE_END

#endif // !BOOST_HANA_REPLACE_HPP

/* replace.hpp
1jlMLfD88YFaMPvOi3x3SLXMn6vwnZfLU+ad2gOLymKa/2CVMc19Q325U36jr/KrVt5V3U/y2DmoRYTrrSFWwZq018V1bD6sg4qK6ZwJWtC5+CxriEYuJDSGXDH1YGE6rqmX2DeErTEEx3iyxXXJ/aZkaDKHuwxNDsUzALke9TjS3liSk28+/2l8+75Wr9UrNRj7gFYi/91wQM9m/54UZsNnZsMHcAtBHZ3ZmD7T6qGbSAv9vXDG1KZ7jzpw+HTPXk91vrPEjYut0lnNasboPrpIfybwoIOVfSkb1ekiru2zbTPNUK7GkH6pXZ34pVb34ablM0M6q/I9EV8F+TG1c3daQJJYJ9C6kAJSqYS0mBgYwP+4B/wBP3JMBU9WmMK6Tdl62J2RTuqMmrpqvNPYjzdOY4F3PpY7NrK05veVU2d+qgXtt11d+k0PPU+k2/s+rdb1e2GtJFRl7Pfibw9Z/bQ5F5C8vJH92sP47erSgbn6Z297Dksp2JklnS7J/kz56d2x8OfUvXBA+mI28DZH7qihrSEmLOiaiTHIOzfGxc/KZNK5ObY1RH0jqsYcnFKhydpEVWEwBH3Ehun5cW1LMlHDnazKBnpxcOMsYgcMiBO6xJByCsvfwo9bHBx+ishzdLelAo2t8RqjDx5YEkcOdbn14EXe06kHWFy/dTZfiHSTcu//faWNsPpwf5vHW+iO+R3j62a+wmnXc8ouYhsVOl0MRcsb7zWUeX8VLvZs/bzfbMDygd2N42OmPp37zc1tGsKEzM3f39f10faxN9y/IbTOaWFNEBE4Opm9oNzTRdhRZ/r1VBM5mUx0gDREuFER+hoa+2D5QWgMlIfPbZF0zpAjIg4cb6oRwNybEva2GrjK97pm7oRpJSS3ACUjrn9wCHUAXpH9TZ4bC+0uH+3XyICuJJRhiabGnJDv9wDx+G3mk6b60+LyU+2wDkxu3nK19xvoUV+lDa8WRQnxFIUoJh8kHLyr/ptsUYVw35at9sEBPOHyBlXhC0oE8mpS+DxEG5Erfw7OuDT7uj4i1BhAT4/uQZOtmnZ4xLFr36UfEcv3LyMK3kI5vMpkwCmZDpSqAarBJ6cMTmJe3lznSgtQs2emOX43/bjUuz3A1ML8tZ+oyfbjmAdSI4rAvpAPGGfiu6R0OqpFcewFHQByCH6ZvlzYMTIwc4SqE2wYSSiJgVJPlbr+kt6MyPydCchggoOfCUMG9abD1BKhaMxj9I7bJuR+FwbXkr4BBLtwYOJL2etRzHMQu8byHCvGjuDrcLxiLon65jEnL/jelA9fBcvE5dOWicvFerMTuFHX0YpJ2doPWU6Wm+pLGj5PvvgC9peHgJwoP8NmaatgLQ35IRdyS03RraJOQ6UN6t187lE49lrG9vOYfvNmN4w3y+7RsIjQyCA9dwRlMzCG4v8MEsXmU5yFTb8/B5GSKyN36W7ayLnAZ4zS2XyWNJgoS+JZucRJnyvamc94LX9fCiyuasYdTRm97z96BstY+6rW0nRf/BnF7HSkVqTp8kJYJJRrOaK4diWk1W4wE6V7mWx/Qg2I+1bQz9kEgJ3gF9ilyxOk7fivY6Tws5n6uMHPOwV03H11mfpXWmFZWTjVop2/1ifu7/z1VwvLVGGejp8mC0O+0hAJQrgA1a2QZWNVtfBar7IlmvES/Y3/FSag6cN1mjEUwF2sGjo4nGu9/DDQaIwUYA3yd5H2xnwViPbw/mQcZlLFO6khZUNHOQwn2o9ULFoGznG+CgNxMlonZ0it969G2G7cvGJrfHNEMCTa1mz1m8y6XG3geEUNO++rzYSpFaA3OvvCm9U4qFOlR3KypEADW96XehinfQZ0fFaed2r++Wxy1UZncrvEm2PegyudmxbdrFeLrvMKUM8ttHnRNwLoiWxv3OwtkYLYSqyFLK/wLCOo50LqUV9GAZO7m/i1Lfg1xlJDkiSEKR5Hlf5aTWMKDNqyQnjniKhllCDa6d9NPL8nDQ6p/BdS6dd4/+F4MubvxuJyjeUr22L3modUIMZ0FYhpYLm+cRDTOLPU25eLwn6WYVIHnIkWQpuZQaWt0op66kAE4erQvFZnn6hUSV+yz+Jlm5wKNRPTihFl1onAfJhjfP+k1Ry30moA73iU4xtj9nyNgev2oZV0Y17gloWX3OP7i63yufvRxFsZLHiz9GmfM/I2xIEpNahltK3YUpnMN5yyyTv+ZJbX+Xl8bFSYwvT7ixDLRd/MZ4MuRA5y2W3mcXySfuZv4B/4o0wHMV541NqdICd4rkjIqWFXYsO2BbxsOvaNDufvpPRLrHmwFvI99JWECzHl6Aj/8K/FBYESBqz5AjBzlAU7wIJFQePPlJFjo5bdBmOg0DNuNPv1i00zKu3f+CIJRsHHlB3hJhc2BaCtGP0z1tAXSe+50QYUVKpzOZ9YE2Je9fN1otZxHDRenXhM6bFlgmbtaq01fXno01dIZ0Sna5mDRJza/sNouk+C2fLMctpEBNQ63WpmNrVoAC/lxFUNdpxMOweBZj+CZ0uN9OOlQ/SUK5Bj2Mt0GIRrdgTcujnNQhOWEWyDze9PWjHPupXo+GmfOw1srzXnBrOzkOiMUqlK4RATZVf4U75CguvXewAmbptproPXgrg0Kv5+BT3Gt3kL2oK5D38A1RQghgbbfBbebHAq5RPvxJCtvxGw+0O4fxKh2leLxQE3Q07ImSHgADwkODSSfMtoM9OtHdNZPNJfVTHop7e+/JzgV+PA2QN/vnar8jE81GOzi80f8gNoXxTWsi1AwfXB4RY+AP+25v+0CVP59xsZCt8MpbptVHXdXSSt+Wc4BAO/FHWCOyAsjg2HuFywoxTyB/Z0o1kGM6V4F7gefG/SgB+DgPuFnoJ1Y5KJ36SYwoUERe0C1KVHQPYjsDEo796/ZVJfroZEaXViYokPoQVxUuIY6wNE5eCOCKyx5ibkbwJUHlGKzU4Z7H/6GRyL2G3mnaYdwgsm+hVU2G5ZfbYFE+q1aR7Ss9huASlYqyJeB73yuqA42c8xHGXSRSW+ZnEQha5rsnNs1KlNWLnn9ivRXFjbC+7ZqYfslzIbT2VRDcnbKkMVrsOxm0MBd1myc1ydKo3uHyy70Rc7bLFpLRTPKl2o3lbed+y6/WyVWFhsmMuW4jgKal0NIFXqgW/r+TFV+eee1UZ4OPGEw55Sf+HuSASOr5W2dkuZVgMaJ+ioXAeJl+v3r0Cc7OfVIvFdmFix0XJc3mMu3HweFWwzPzKwhxCrVedD6Rch4GLw32Tm5ZfTN3lrVfCO8WaTmV/VWF0N26iEc3yEc3yR5CzL0X7m/c1QxpkQ0ZIHM/5uCb+BI2imTQZEwGcxWm3/oeGl+uXF1U7cRNaI8s8kZZOEakOOl9wQ4HeUTI9JMgteDXCEV+DjkNaupl5LRQ8AotkQsLZFVBw4NwmGuvas0aTeNOhhO1d461L6BmibXU3bKEw39U8M+QcPcSXGe3+QwzBFbjku+JWttNeTRRQ9eZsUugyQ/7Jx8d7jLwrngwPDtiRrD9S344g1ZTJlhYPJxVWJU772j77sfaMvdiM4fKEDQ8MtFwxmQe3Glemkf1241s9ZxMmFf9HZa7ILPZj3q8sPSK+gUiHg1eOkRMSzs49y1NeOnMCIo5zgJfhSLNV6+VC4UTkAPBgFgDds1eCbkz4d5I0PwXZeseRBM0gJJp1t/2UWnHKHj7L44IlrssvtmHzoaHkrGhoZns62hCREtgGRKiwYhi7rFOqCEePHGdQFi13LE6qdB7Jsd7i4dkDXkCt/kyt/vajpBPb6lHBvxozSF9UQLutYiOTPvALg6r1F1FrVVZWiJp3SY3yCTLVNB7S+xCabZbu5VVcIHrdYRL1WAEQgK1PrgphxapkrULusvike0kHq7wLipPjFqZdU6KjL6LznvR0+jDTvYmQ2oW+bOVrRnW17iZvOQsVeB+S1uX+rbkbIHMGpTfGudK7HLcr0PNU6TlaRsLIVN+hgSnjvlxTenAoOd2vsn9FZx7Dv/pTaiWU6w4w5MIMCQCqHm+3sd+zytPlztSx+nAqHxYL+tV9G8cRwqP94ZNZckuFQ20cASZGePY3ex45Lhqv6/0NYmP1n8/2+b+S+G91cVXCAG2fqB64BTTOXIP3/jipqvoW+PlBG/nWjm403TwNSHLlCGDk8B7BgZ5E8oB2oz9wsbYdkqKL9JJVbn1DGqv3AOgloYbeYiGPTKPtabTZ1ae0QsLONAtM+WbNFic41dsooozgiliR8qIn65qBlBXx0ow277H68GZfyqmimzDuNxuGzEe98StOt8p26cgpXp50pz/PKZiGo2JenfKnhUaHHlu8cE/4hj+s28/WU3Gbh1EhJ1GtqB7dh460mMIm8vUEc3egiW6RYx9F2pLw3DBW6LKdSSyJcR8ls9j0YmVy5fnhTAOUgZnlIuoMjJP0FdRoSNnnoYApTpSYuRMS2pS4eNz2hV0gIifQFWnjHUKWNdyujpKyCf0Z/I+efW14X68DAox5CF+Kk9mB8X0kdwAg3mmm8hw5Hx4W/ldeFtVlawEuSDQGSIQMoVupKWft0CD5muZy2KRgyH96NgdpbQyPjpMTE0fejapQh+xv7g06H/BtV6rqmuhy71booXGPI4noJbqMsR5dTdCdI2hPDbx4Nf0P5TQBMUiYzj9uE2w+UztcZfaXtkLwDjJS7Uk6kykcSPNQICy1TotjhehfiRy9lskRBB0v/Sg/s3tOe7gu3gMB925WRhWzrcK/hLXl85VIYASeEL29tD6mg7aQUvgMKj7LQYJyD/w4SxQqSfDJVQomYXKoyC/+wHRXccRRzOvjxQeJbiRF6N98ya11/8yL3SzugbMgt0eaWKIAzDzTIc6nQkgPl5O4TyyzHCElAEK4BEffYnY8v1sZEGzC1F0bMnC6G/EkYmAUeXgKGzwPDf2bxp4eDruE8NEaTlRNtCXplS7OXAwd5+2YBjUvA1OKPnreAySx+bTa66jc18VTk7tbudDfmgJMSC2/SDgS0oV5hD4N1QJJW1Ez50yMEKSfZEBwaTDZxlj2w4Rm2X12O3QHi8alDft+k/jRgpGdGyn0y59lm681Nfp2Th14QpCErreVYTvDmzzMdGLSO8hJwtGMbtXcIEPEcAkxCh4/B45J2uP2ZyWFAbUS/aldyOHwz/lo4Ci/R0yOx5lpBBX5Hfa0HzNXq+j3rZ56XN7eTw4Yzk8lhLo2qUi/JU5En7te/j6uJMRtwyRqi17d9/0qv/6XEgP3ZOqNnsZ2uZ9Faev8ioU+m7HqC2IXRavXEmSrFxJlU/kvbhNwiH4ZBSZyTemZT/9ElX7W9EVJX0gn2NkpofMSh5VEVbT9uCi4TyJ9he+U52O0aaA3hG0E+CsotXWYpWPQD5aYLwGgMV+J/Jup3yYJR2hqnNRSbi1Y26QfyggN/zVS3X5NvAlPN8ukRRVgC1Ghm1O+iHdjSAGwZwSlpSNoPKu+nokHma5OT5NyklmqKszFAfJwP8GCeZRwN8NyN2hMCm0rpjZjHZqP9Ll8fc80gTapOXMXgM3o5CWItmL1mo0nQZCgBW4qd9+9mV+qmAT8ecf/S8NbMz1f+VxGtnJCwP5E9uTAt6l+jxpN1rkfb9ck8vriDXSlIJ1k07RzH/DO1bvyIKHJoeUE9Cdr02H0xO05KUJz5NIq8H8xWxjKke/pdY+mM0WlI2I/P3GrjAtQzHY5fRnfQZ9OqaF5M82XMcGLuFXKFcuNCitVcV9EWTqMvORyv/uSYZhPZiqxcuXKf/lAls+7H34HDU12R5Ze/+obZ5QbLZKqidvxaAO7eqTA/u+TKaeYYKd1yzhi3dSxUK0RnjczrugKQgAbrdZJIqdgOTMSr6UmRUG6pXQyO8SP+sVc0xdCL/GS9buJfcR6jU2tqt4G0OizqBzJ69QsNSf3FdY3uZvH/5OQiOIICttXcbcMtFVln0ofI5b+1MWGWQg+G7Z9pFg7ZR65t/HHzO7bf/vS08KtgE8H1zOhgOf6JP0Yj1qhDIdaSpZUhifMsqjkGMIEAWVFUs8nu45gwg+V2Q0e43fUQcUmPTaD2PQeQWwaChLcbJ6UFMairLsRv+cssB+GQx/L9y/+bq7VHyff4veWUtbuWOlt+1tt0LUk72sH7wFYyO8D4aTCtlAn+GSF1QZcR+zlGq08wF+6fP2iGC+adWvhO+EaMIsCDcy3j6teSc+VDkymH7V02bq2aruLHX3HQDYoHMecaZzKuzPeZK6Bxp+gU926mfUgyFT95aMxjxLVpRgDDUzg6UxYF3RguwzY97GaVTMeOvaaT6lR2lg9NZz79t2d0tsqOsDOkt1QVPuZZd3p4SZmM33lPJ4VZAcvlaaqRhf/gwHLoG2apAjvk91Pu2SPLJqVuVva0YWTnhaa3gEIbcHqzy3iGXHk5HirzezQpCYz5Ry4Bim//TzAsU29djLKL5C7GXBnMzWANlzM0CXHYlPTfZsxiRksQn3UziBIru2AWJUkjTQrvA73LaH0kNKTyG3nNYnNs9Gs7wDHkNvFXkd4Ca2qRUsEZI66e/DtvVhyzS22TwETAFwa2M4iQMggODYphzhxbDx+TnkBrKpNQ4nfrAchzbslelTA3hVx55QNhBY2DKCE8WmuihZonH1gug6z8DNCf/wYOpexoN4WL+1zhx8yHqJkUM70z/6y4wLPr0jlEbRfA7/iOxCusg+wmvXRZvTwFKsQsI89rbULSchYAc8jo2paz8CZxbYuX+ObIZlf7I2LinU1nF/dtWPl7LlGWgRLejYfHMc85yyxnWAg34DlUgUeJkx39ngsPZvPtNt13GE3W7rP3u8sYdo7lpssaA9hpH9GbAPlcBsevqAorfYqpdMgSrZPpWnfMB7MBld3uO+axDeOTAa/yDoh+SrOv2vwVcKsqNMH7p51m4/piejcO9diDZu9zqWkuvHk+07hq9dd9v/O1XyXmNm6v5NmoegW/sRVDP7DVQV9mosTA8mnGXbnUFzUa6DhX5Q57t3S25E5R0St/wR4TdRsehCK248F6JsdPl6Mx/JDHh2ixCkT2w/5e42tSvxW8OL9O90wlEOntoZs/MSXCwGjHFrF167+skpeYGNoHy5bfJh9uVjd+Mb9DzutgEvV9uD4DYOOkixCqUBkWdS5EC9qD+TaTTuf7bzXKSQUR41PBg5FVwPkq4OIi/cjtV8jsOL/+pPs9cduD6+dN9bVcxCx10PfjZbKdTgMqPe4+udSrx8K8fKYhSwIEL7J0AulF/3JNwEM/blZeJqpp8CrhmkSrg5YAZtKxtEfm1NJPRcesID0zgGi6CKh/AcgjA+23MrfPmWg3CnpbdL12bfkZbNL1mqzEka82BIzktu19ny46NQoesMz0rvPG2Mpnu1qSTwYelSutCbyM21dlQztCtt5NI80ent+eNLwlMba/jyfIFAwp2ExgbootT3wMk51+/1pN8LBlq64ptfryIjQ/d8Kv/QzWCNHBsfdGkP/O2v9swweD2yoh+snaUzaOw2Wdyx31RQsA0XIboJdyO1Vn7SE0ePC/uBifcN039ELHTPvBIoD3/YYEhLtfhSU1PcDnw3tSjuThiA8wXq7EveYMBXhkJh5+v0M9/A0o94k8aHnaxqdxcDKqKnt2l8+7fOaafRlA8ZoC0kqzEhj79DXnMYEZ9ufT5MpmNXyxOnDFvAc/6QN7loQ6b1IdY1bqfWn8FPlDZUv1nPz0GE2oe5taVcbVTGARW+8/TWzDG4Cf5TMbMrWtnA4cRXPZsC4vDTC5TJewGTc5TfM6CQoQSo3zCbd8Qw9xzASTeZTUexZ13zye//9JgJt3cZSwl9xcnwN3OLD1FTrJADzvKQ1e1TgZx48rnFuuse3B8TBH51g3FAHpXQ3EHWFFk1MkIQZ8zWqos60sHYUeCfd5/HkXrkwj29L5//VevXBwKuTyGhm2mvPFLpqa8yvbjStzbx5W9RM+Okty9rGnOI8JaTwILbHJO7ZymGfo0bCr8qjgg/5F38x783izVMBEmOZ1HZTiYZV3JsR2hG5zdfNnCZuFZlG/XwcaZlB/JIFbmf8exxIjloYfimJ3KkY2bj8NRAz/aJVmgWdktbKD/nzju5WZ2VheoEJw03+6uRzkQjS29MjUEJTZIDoOwOKO7twITowgF2osC9tFQ2GDLsSfNRbwz9MGUYSVN1OQ05gj6gmLsT7m8DcXVBUSxoowvxQ7mCWua5zCBrN98IK1ZT8n+AeRENpiOdkhrJCcON0eQdgpmoI84e159TmG3qM/yg9cDnms8oi4ecCCGFPeQQWyWqiAMKR4cv0kZvhMGdZIZ/PneAzUXrUMOdYjjQd44CV+UfSzwewI7KbTcgFwOiRd6TEc22oBfzkt7HOMBDq5/xaJPUTKXZ2cNpd9XYmXggoJOz9pnGFEF0A+SpUIzmxUpPlsqom7ws35N4vcHTc+yWD27SbDt0BhseP8y27AvhC7p2DimPEQWmf4nos+yUC9Pz0BW3M+SOz+vFz99z1UOb0U+1SxEHt3/VPTjE/DGvcF1jx4XtmJOP14+cFoJrS6uxiTIwSGscNWYO04+Hmao3h/jLTYgGkQX2bRpDeboS4b7/+LRLZKuysdJzE1V0f6v+0PwXi2Y4atH0LfCSXTSa/VAOXgml8zUhCeh2VStZdCEiod4d1DFmj9Al/uYfijginOXjBQsfCNq5KSHRfe7A3uf5aXoZIbK2ns5Dlw9aNtfU1M4cHznmfj2uKe0+Yc+8XfGPR/alZK3muw0vDke3Tdr1UM49H5ExmObxRUVC6tn+Vx/Nl366Sp04v9H1xGXYSGVNj880DXzuOEi6LhaQhymutjDE/4RDumPmu5uuw1VKfWn/hxulolkk2YXHhF/rpmvvoY7aUacsZmmdXn8g64I8MiKtGy3XTYL8gJa+wlR2Lma2iB/ChdF6fLzQs+MMXybz2OmkRIQoL8RhUzOzEExDIi2fUd0HWZRTxCk3jl+i9GesqN6AoP0grpoToQ46GnWOhp4UiCWIU6wHhNh8N6YJxckoc8eYM/ZHRjVSZwrupqD8x0js3fwpJyVwMYM+wLEPlxiEnJ+HLsqW+uHjktLFcLdeBXP8QjGB2F1QmO4h31w7+Fok6VupbdZo7dg6S4rnNd1tj/EC9NucmfIpmWbiUYNgeZ54YYkt8zS9Q=
*/