/*!
@file
Defines `boost::hana::flatten`.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_FLATTEN_HPP
#define BOOST_HANA_FLATTEN_HPP

#include <boost/hana/fwd/flatten.hpp>

#include <boost/hana/concept/monad.hpp>
#include <boost/hana/concept/sequence.hpp>
#include <boost/hana/config.hpp>
#include <boost/hana/core/dispatch.hpp>
#include <boost/hana/core/make.hpp>
#include <boost/hana/detail/unpack_flatten.hpp>
#include <boost/hana/functional/id.hpp>
#include <boost/hana/fwd/chain.hpp>

#include <cstddef>
#include <utility>


BOOST_HANA_NAMESPACE_BEGIN
    //! @cond
    template <typename Xs>
    constexpr auto flatten_t::operator()(Xs&& xs) const {
        using M = typename hana::tag_of<Xs>::type;
        using Flatten = BOOST_HANA_DISPATCH_IF(flatten_impl<M>,
            hana::Monad<M>::value
        );

#ifndef BOOST_HANA_CONFIG_DISABLE_CONCEPT_CHECKS
        static_assert(hana::Monad<M>::value,
        "hana::flatten(xs) requires 'xs' to be a Monad");
#endif

        return Flatten::apply(static_cast<Xs&&>(xs));
    }
    //! @endcond

    template <typename M, bool condition>
    struct flatten_impl<M, when<condition>> : default_ {
        template <typename Xs>
        static constexpr auto apply(Xs&& xs)
        { return hana::chain(static_cast<Xs&&>(xs), hana::id); }
    };

    template <typename S>
    struct flatten_impl<S, when<Sequence<S>::value>> {
        template <typename Xs>
        static constexpr auto apply(Xs&& xs) {
            return detail::unpack_flatten(static_cast<Xs&&>(xs), hana::make<S>);
        }
    };
BOOST_HANA_NAMESPACE_END

#endif // !BOOST_HANA_FLATTEN_HPP

/* flatten.hpp
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
*/