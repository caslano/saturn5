/*!
@file
Defines `boost::hana::detail::index_if`.

@copyright Louis Dionne 2013-2017
@copyright Jason Rice 2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_DETAIL_INDEX_IF_HPP
#define BOOST_HANA_DETAIL_INDEX_IF_HPP

#include <boost/hana/config.hpp>
#include <boost/hana/detail/decay.hpp>
#include <boost/hana/integral_constant.hpp>
#include <boost/hana/optional.hpp>

#include <cstddef>
#include <utility>


BOOST_HANA_NAMESPACE_BEGIN namespace detail {
    template <std::size_t i, std::size_t N, bool Done>
    struct index_if_helper;

    template <std::size_t i, std::size_t N>
    struct index_if_helper<i, N, false> {
        template <typename Pred, typename X1, typename ...Xs>
        using f = typename index_if_helper<i + 1, N,
            static_cast<bool>(detail::decay<decltype(
                std::declval<Pred>()(std::declval<X1>()))>::type::value)
        >::template f<Pred, Xs...>;
    };

    template <std::size_t N>
    struct index_if_helper<N, N, false> {
        template <typename ...>
        using f = hana::optional<>;
    };

    template <std::size_t i, std::size_t N>
    struct index_if_helper<i, N, true> {
        template <typename ...>
        using f = hana::optional<hana::size_t<i - 1>>;
    };

    template <typename Pred, typename ...Xs>
    struct index_if {
        using type = typename index_if_helper<0, sizeof...(Xs), false>
            ::template f<Pred, Xs...>;
    };
} BOOST_HANA_NAMESPACE_END

#endif // !BOOST_HANA_DETAIL_INDEX_IF_HPP

/* index_if.hpp
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
*/