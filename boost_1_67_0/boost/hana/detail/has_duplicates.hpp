/*!
@file
Defines `boost::hana::detail::has_duplicates`.

@copyright Louis Dionne 2013-2017
Distributed under the Boost Software License, Version 1.0.
(See accompanying file LICENSE.md or copy at http://boost.org/LICENSE_1_0.txt)
 */

#ifndef BOOST_HANA_DETAIL_HAS_DUPLICATES_HPP
#define BOOST_HANA_DETAIL_HAS_DUPLICATES_HPP

#include <boost/hana/config.hpp>
#include <boost/hana/detail/fast_and.hpp>
#include <boost/hana/equal.hpp>

#include <cstddef>
#include <utility>


BOOST_HANA_NAMESPACE_BEGIN namespace detail {
    template <typename T, typename ...U>
    constexpr std::size_t pack_count() {
        std::size_t c = 0;
        std::size_t expand[] = {0, // avoid empty array
            (decltype(hana::equal(std::declval<T>(), std::declval<U>()))::value
                ? ++c
                : c)...
        };
        (void)expand;

        return c;
    }

    //! @ingroup group-details
    //! Returns whether any of the `T`s are duplicate w.r.t. `hana::equal`.
    //!
    //! In particular, this does not check whether all of the `T`s are unique
    //! as _types_, but rather whether they are unique when compared as
    //! `hana::equal(std::declval<T>(), std::declval<U>())`. This assumes
    //! the comparison to return an `IntegralConstant` that can be explicitly
    //! converted to `bool`.
    //!
    //! @note
    //! Since this utility is mostly used in assertions to check that there
    //! are no duplicates in a sequence, we expect it to return `false` most
    //! of the time (otherwise we will assert). Hence, this implementation is
    //! biased towards the fact that we __will__ have to compare every pair of
    //! elements in most cases, and it does not try to be lazy.
    //!
    //! @todo
    //! This implementation is O(n^2). We could do it in O(n), but that would
    //! require a more elaborate setup including storage with O(1) lookup
    //! (which could be based on a compile-time hash). If we implement such
    //! storage for associative sequences, we could use it to optimize this.
    template <typename ...T>
    struct has_duplicates {
        static constexpr bool value =
            sizeof...(T) > 0 &&
            !detail::fast_and<(detail::pack_count<T, T...>() == 1)...>::value
        ;
    };
} BOOST_HANA_NAMESPACE_END

#endif // !BOOST_HANA_DETAIL_HAS_DUPLICATES_HPP

/* has_duplicates.hpp
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
*/