// Boost.Bimap
//
// Copyright (c) 2006-2007 Matias Capeletto
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

/// \file relation/detail/to_mutable_relation_functor.hpp
/// \brief functors to convert types to mutable relations

#ifndef BOOST_BIMAP_RELATION_DETAIL_TO_MUTABLE_RELATION_FUNCTOR_HPP
#define BOOST_BIMAP_RELATION_DETAIL_TO_MUTABLE_RELATION_FUNCTOR_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp>

#include <boost/bimap/relation/support/pair_type_by.hpp>
#include <boost/bimap/relation/detail/mutant.hpp>
#include <boost/bimap/relation/mutant_relation.hpp>

namespace boost {
namespace bimaps {
namespace relation {
namespace detail {

/// \brief Functor used in map views

template< class Tag, class Relation >
struct pair_to_relation_functor
{
    const Relation
        operator()(const BOOST_DEDUCED_TYPENAME ::boost::bimaps::relation::support::
                            pair_type_by<Tag,Relation>::type & p) const
    {
        return Relation(p);
    }
};

template< class Tag, class TA, class TB, class Info >
struct pair_to_relation_functor<
    Tag,::boost::bimaps::relation::mutant_relation<TA,TB,Info,true> >
{
    typedef ::boost::bimaps::relation::mutant_relation<TA,TB,Info,true> Relation;

    Relation &
        operator()( BOOST_DEDUCED_TYPENAME ::boost::bimaps::relation::support::
            pair_type_by<Tag,Relation>::type & p ) const
    {
        return ::boost::bimaps::relation::detail::mutate<Relation>(p);
    }

    const Relation &
        operator()( const BOOST_DEDUCED_TYPENAME ::boost::bimaps::relation::support::
            pair_type_by<Tag,Relation>::type & p) const
    {
        return ::boost::bimaps::relation::detail::mutate<Relation>(p);
    }
};


/// \brief Used in set views

template< class Relation >
struct get_mutable_relation_functor
{
    const Relation
    operator()( const BOOST_DEDUCED_TYPENAME Relation::above_view & r ) const
    {
        return Relation(r);
    }
};

template< class TA, class TB, class Info >
struct get_mutable_relation_functor< ::boost::bimaps::relation::mutant_relation<TA,TB,Info,true> >
{
    typedef ::boost::bimaps::relation::mutant_relation<TA,TB,Info,true> Relation;

    Relation &
    operator()( BOOST_DEDUCED_TYPENAME Relation::above_view & r ) const
    {
        return ::boost::bimaps::relation::detail::mutate<Relation>(r);
    }

    const Relation &
    operator()( const BOOST_DEDUCED_TYPENAME Relation::above_view & r ) const
    {
        return ::boost::bimaps::relation::detail::mutate<Relation>(r);
    }
};

} // namespace detail
} // namespace relation
} // namespace bimaps
} // namespace boost


#endif // BOOST_BIMAP_RELATION_DETAIL_TO_MUTABLE_RELATION_FUNCTOR_HPP


/* to_mutable_relation_functor.hpp
O0iEOzYwSxT5fQtH2Ac5L4Xc97uS14ycLu3FWhJjekgibBHsYlrD8l+4gKXZcSmkjZuD4Ocp2MBa8UFhb898uDmexVxK3i7rsI5TirnMT+VqCK99ytGOhqX65CtfciK+wycsZTwE/wZqX+cwc8+N4GFTUoNHUHOjo0YhrInAzN4DtmoKyvOmOtqj8/bptSz0UfnQgFUeBoGx6Uxti9Wa2qGOIYgzcLTM0Va1xwoGAeubrz4n2d4/w/I5We78yoOvUa7Xm2Lxd8ujDMW53Oyn/kCGIcNYcDX8CAIcxKeyefx819AoXlFT/fHbwr04VoSUDk0Hsk/0v0e+WAg4Pe8P8Lwx8tvCxuwOWYCT8RJyv0+oK4jQt9XigkCEGEIhGkcI8jjPGSpAiX7RVvxGlnh+enGV2vnbD4onlJLhiYqm7JZNmREUwf4JCg4dpvkHiqNXFZH7enK1qupyxk+/a/nzPIsiRJUJgEVAFDt6X1rzlj6HPU9yluM4SeX2SzZ+37QPuHC//egDPJtLf5T5Tm3/3DlMLUeXb1GbtRUw5YmsMF8/1c/Sz9ibvKRPipUf7+x2aPzo6g2oxN+brw8EOX/i0FamiCShwc3jAeJ0fPR0YHQmVjMi4uzm+BOKD9qHC2Jfv6trs5AzBHRulPX4Ds7fZ3gV3a1hVisKv/x7/ykZOkl6JtZmZpxV5jS/bT+8tAiBMO4x8Kwkhe/F6sRe1epkMsVL8JEi3v0cWDhygpH3qB3nBq2WaN+/bbHZMnBc4H1F5nRF1cV19wB6newfWRRMg7IgoQEVl3UNZTt8cjodQGJC9YBOLSnIyS0vrlrQ/6wunStxLQsqwMT/QQzdDMQfCr60drr2606zSVZqdN+cjvP7idRsKJBrltLPs0wIQB9SnTwtlceLilRYKqg7yCpQ131M1uw2D8zg5urxoFRXZNq2HB4TPzMa/N5JUuB/x/0qqNXPJmU0358NcQKuM9sHE4WR437JY7Dl+HncSmsYDkOnrnusqaRPHtoq9g/49E/VeyrG07qHkssFUZiyQz+0b/TVLnXrc1tfGiLlee8I+LYqCfjNwkp3FQtQRWyBCta84ovvtOohLbs4+tQLVAy1LRB9YojfCvvTS5ctHMdBwv33Ydrs+wv5blsAhFoVe8mMNP848JdMquwNotjXTSk0zJPsDwIH7J4f5RixHTgZr6rK2jyg9vPSKN0tmYiwENRIwdo8K9DuWmw+0dK04D6eAvgqp0ZMqIA4JmJ2C2ZmEvbpkjYz3Dc3k/69CS7iqIBXiTzIO06OCEQ0U1C/9PJ6NUeViLG4h1QuN6PTycTqtFq6yVSV7mGsHjfss6e3deDzKdTktJImTirKK1mKl5BqSN09i6jqJ2JYX54GVFReOyheidVeIdQJZ9RrQ6VMHr9kP360wIC8Ye37waOpq1a7t0dIkFGfORRuMhkZcDCJ/k1J2byJagiyxkB3aIlIQ5QbXF//NRL/+haEJcNTv1sp9lHFp2m3QtBqw0ckzZVRwxm2lnCmhwTZa//s9GfN02hlt9ixxFEi8nys4GxlOzZwClEwinb17yV5Ea+NP6NIHcc75xeQBDrFqZYBNT2N51QOTVGoWhK5meGuUKRhjCwZn0ESv7oBGmNFOwzzqUM+tg0muDT18wonPWPzbsbVKOuYudufdpRbKR5xag2uKSpKdv2PD9TSLoqeAgx5q+mQ6Id8JFn0JgF0XemHqmYgYYP5fl24M9FaDIMphw6Y6E4UqlkFxOXvtPtJWsT4F0dU8WiCsBFGCOPNRITjChBhdfAegdqsuN9MS0+m3ALEi6t9As8uS6ItdYsX9xxL1xCy6RYsk9d3uI5jcyrVo2PKfj6PjnXiEfglKfS5M6qOxUFoFEYbr8PDVEW3peBI5L8kDQSkfpKpVMKnm5sh2SBpqPeO4rvjEU/xCV7Sr8OxD/zt8/MZ12SHx4XhgCZExvw8h6bcJ3fxVg46ctTSCTNJcRu1Jrz3v4JnGFv2kikuwCDgt0UACkdGPrL+by6axKmv5wrGl0xMfTd++s1l8et/pim917z2ZTojpPE7OLDwzG1vhl9FN00y0qpMzimMIqlgvIXU9dMP6cl8hhjJlYgMntYNVZrqZpoPqjS8Gbc2sqKO5PI41vTdLIlMD2V84T22Wm3g38ieI+ZJKI4ODpIiVNa7qECDF6BR1ufmEVtUZycUuIHeTxHz2OjwNWoS4S0Vs9ZNGZVW2/iaGY+iMwbGWZAdaO3Kp+CKwnKW95eU9dcArocFeuyEpWZGGTxgRBB7PrLG9fcgdTJmR3IivspbtYYP1yK2TIsjOC9TSUyDGmGqdGpRDLM7r+fkThPvPDNMEtEKyT7LfOM2L8cTSTT3G20+d/pwHT6JyJRLEbLSQA7MGbACiID9RVtRr/JTRY7q/n9VncnNgBsQ7FR99NUCq4WjZjAywIIZu9Qlv4p955Mt56o0a8x+2O1C1Y/b+YlCjvp96qzy3lDHSkZd1jkwTLCADsR/kgZWljQ2veT87i7sp/dF83EcnzBWKo3SX/vw/RcNLbc9vSNj83hWxOGjXrVedFKgLAhj7b6Ngtdx+Uv+1ES2F/6T388ZllaBoY4SibC7sUmKk45JtqFEIGR/AAGvDo8i/MAQ8fZLjdxpDVsLCEIF7DBFW35/9e68OcHbWGgwM2ay1Lg9u0nae7+fBXW3FDbRuDUz81d8GV8lGtoNtQTvT2KJ9owVjVWJ4XBY+UwC3Z+KZgUth3Xy7dIGIy8W17HVTLosnCVpPwNRU0wrgaWvJVw9Jt2d7WTsL6k797VjRPXm9Y2hXHC6RGceb2V/RhacdsyFk6zA9PyzRChw6B3RF4q+QeQCwR7LOGlrCgeB4UFvCdkfTkE6Je0lU/bqKpa6vkaJ7Z51/J0IgjcbK6LEz8mV0Bq6092+OgVKr9poZVOqrmQAItlPYrQE1ZxQ/IHSNNxROwx4UGDw2v10YsnW9KQLfClQ3h/layYAigJZQ39Umm3/QWtavCOvKRRpi47LEpXEkrlvIruiPPf7M4etgkKeRbnVGFIxPE4R6HNkWtJTcoInzY5WnHtF4IEt9zPkEdx1y7Xl4/zFd1+WHodZj13oAFdUAZkiuxSLCXoR4QH4LmbFeo+XG8tgnEjhD7TcOTj5CpFe9+sQXyAk5FF4yri6maY5898s7d1hFUVzRGCwPjJt4ztxW5JM8ZuRA0FU+bTtYMSl7gCFHJtNxTi7LAoQiWzZXfqBfhF2hIKt7p4R3u/p1WLH80mq2ELqQX66XByH5aM4AV9HklQysPAXDPu50rwqIFuhpyp2aCd97YY5Wu1exFvZN31pfA7ia/z7iHO/rb0j+lXdN+f+rKlXAz0l0iEq20Q8JkEo48Sc2xiOvgxFBKosoY4SWgAILPfTr4evBNFuWSgkBmIFUd6YJKfuWyUMMLG7TfDJ25/mRVvx4hf/mnJq1o9EX5JC8RtsXqwr5iwO9nQO/a2gtPDM3V2nSF92TkjVP95pRsDhhMqOJnPPkCbJa+5+UkCBtLuIdCiv7dm/gQaD2hsrq6resavxTGdnrDoDYtYAqXUL/N3GUSxcHJytZu4K5IA4IZE2AbUlaXI9/su55CnM0NXaSqaq3W0zy5fWwDbQJQwthcWy7+j2jMo7wYd7bj16oK/7uSrhk/kUOXXb+3iesSQLmJGwwwRkN2ZBcs/THueAdmVVVXruC0QWty+bnonEAvSHAQHCl+RU9GAx/GLGxdtNIWrySrjUNYGhiZfZa7lScG1OcdlLvH1nPkwJiK+jC5tSCFjMFff89PFyOFRO7yv7vV6fmnAF7D5SWl1heJD4O6gUNyd0B/ru/+sFCEmSlla1okR53hSj+tLJ+r4Swf08QKce4GMjJU8FBRu9RPe6Z6w2BcNr+CNFQOKDolbW6Nhw3MVUiwE9SVtHvPQr2SYdlWk6UQQhCJwcDIqk6mV/nXIKXFgxqn1trq9768/6VgAow10tM0oghAofDgVwB/6H4oeUt0CY6sSiVE68X6eLldVVohRHAHLrSqCm6aQ5fnrex5LDjnNGIZXTu2D8fCueqcPy4SSAt2+SyXz81AyNV2sWrogKjcg410w+P6pBK8IS1qUlnvG1DtFm+Diiypxs10BGCvlFJwTjBP1x1oH7PqVazm4lQzX9Nzuba7cTNX84W0lzI8tudw866ouPQwuUyUqK/gfT9KLJyvyrx9GskCL5nCNXjMFAp0MDiJDSxBXjEB+rAn8XqgK3BxKo1GuzhMaxm8Y6gfeV8VirOB4JMr+dV1gDqdNKSfoBb42182Qcf8cOHm8dNavdJD0hhrIr1ZrzvY4CIhcvM63Sti0+dvjLPlXEnUSNXgfl7/3yv9OwXbKQ7GYPrKKLM3bJaan3QbEYtENHoap8KoCJqxE37NX9jPnWGXjS/XG0raIHIVzBfS5Lj7eIYUR4qi5LqiaN6ckRUPvZPxSGBCigie1AQiAR0wcpMAK6K0T32xK52+SSGET+tjddKGIoqgUFPQZ2QjJF37LtE5YDv7Qso1fsbvBToTmreLGeWz20fMmPBhR3zNymUQlfl50PM8Z7ix2l31U7Th3rJM4mhDyNQjUmFUV5MxM6WobFsi3jDMS7Uw9WnLoYAY6h6kVPO4/1aEG4o+R4f0yXmZdXcBx8G0yMeizsblfzkd3iuQQ3TsrQcn1907j+5N8BMI6Q8FhRCEXoa00H9MPsEzzSpt1xgqvUot5GifjllYslZUqF9Lxt8gakCik3CIYm1Glk7nbHeCae9pdjZnAv7+rt9qA4QxsPSiiOAU4eb6PjN+04oibrKRbh7sRAg3gYfC/rRtwUyJdGrOHqZUMXIJpMuKgVQmgBetvhjw9Xf+sz42GNN/MfpOHqDoUYEy3jeTdLvJrr0R76Wy5Sqy3Yck6oWFpbKypAIRnXMuirf18ziFv83lyRC+PniLlSoIgbiIsSHx8kw6vSvOLgyMRfn2AiOMMPxk7RhyTznlUPNpJ+n79jXD9j0+W95wtErvdEB0UyJZjjj7JLf2yXTMCa1wb2Fy2WKDHX0Fk1rYdTdcXIDTz69cs85gsaL0j16ItNf1aE0m6jg+s0RB1lTgTPflynuLs7e1CatM5FgyE1buWo8/wXGYrpq9IQjaoCAMiiX+3Pc9Y9igC5tFrIfssm8Y7W4arB+efOOlv9fQ1Ok5UXqT+z80lsMtoscKweZ6THSUxmO37HZB0silmHenLQKQH78OFjnJtSiqP1KCn3jhQ3CzxLXW15CpspOOQcq/SzeVr9JzP2KQLssgKH7lFpypPg8KhLyxsv/Czm7EnQwtcS2IV8243thyT8kpk+2UW+hyRqXphB+jNELwOKgpomv5Bw0ZzY3YbgxnBIJwEtR3ceJfwhk7z8gDhIq3troawS5pwPah4jEeC3Q3FSGHP3DnyaQxfCfhDyru+1yEQT0EZv1cyfqhNYk/sysG6J91IQIMU7S+hZvMFRRNll0ttKCeBhIywBi/6THRDwsKtRGvv3SU/svxZjOlq57uol6qvhLIMB046CjIHyONpZqXXVUbBIKRYpZnoipy3qeWWiIcCitocpw94cqB9sTflTJTMunPK/TwmXCd8YEsKSMBZQiDxN3mp3ACE8xpJrCqMdFskJf6v+zla1pTBNHma2cTLI1gr9nn3vAKvDF5OaJ2SHRPY3+CbGCQYHG0BGC8VXNLvG7yklynNvkqkI+RRGs8CnRx0+tF9gUr6Jd/Sfmd0AP8P4ByNowUPk/H7FNKCC7iG8YotBIOaoBHtrb9EgSsHz0IyWeYIXXJ92WBjYqIfiNPgoHhT2wYCBU6Cw90/bw9AZOgdgYewyVxd0oFMi7uHMElYI4EHNF2vyYYd7D85zjkI+NLLMeReO8Qf65jAOYKpYuJNtjaFbtzDxm3lS1cntJ9mlPF5lOpqke53OlTz570zxHedFBA8dJWKsEcGgP7UWTPDuIR3drN4hSmxhnZ+p4RK3oiU8nJAJGzxmj4JqqTddyuosMJ3a9k+RfDtZyw4eWDjGfe9LlbHtt5QIilEGuGOpNnSLE5Am7H9w8AURZlNIyanrE39JJEMAMwfIggk+/H5mJP1A3cjxcofrnYlEmiDkeo20PjZXSa4s97aoF+pNVd67EBh02eI7SonC79pCmaydbAMZ9eoWIpc/jKtE+7AQbVEMAkNVjkIiA4QCDRC8jtd4e68a+DGrKb7LALdEQTkvsWWqPSJjCtADFT7K9kWfP1noFXBGVxadL3hSX1+WJjkxxuiUJQ0ojj2vy3O73dhiwqPEgY06SEgmf52emvZeSpk0UEPFL0D9OSpbQVOqlPodBAZraXXLBB+jW6qY6nKtyy/md4bVGmoV1nUqDXtxR2bSLoWT+nDNG5zj1h2bwzy7Qq8+yuUJ0rEMVkgbmDgtcujebwdGRN85CLPZgzlEcyFsozAJivMGyAZwUFNceoJB19xVZSHkyKI2XxQTxrYXp12frq49lwmr1M9elCqUREePCXUlzfL9PbRC2i3zPmqJHecNqXN3b9agbQ8OSChKDwciVhmqxs379rRWBvuVYMAzdl9HyhG6XTSu6DYObb/BbBwyhg2OqPn+V0JI7ZtySo5ux4ENyqIk+so50Ncucdb+vRSgGPSbBfm15BxpyiVDaJ6V/f6vM1xLYHqU2/yeVKiL27X92k7JSOSEvQpr9EkQdszMjsMZERhSDc2Rt8ROkUZ9PqYW7HszMEkEhJJxBS4MEpLBAKBpn+PsRUJEvFxp9NylsrZ0qXtZLneXgcdj+3s0/LqblaJE5WLt7reuXFltsdNbhiW/CO4cjJ+uiLoyvHCHWnz5n6BVRf/xqSsD0WPs8MAgoxbGIeLUKZro2cHCHtBBqMBhQfv3ZKrQN+kdOh4uOlA6fen+OYNli/xmscWg9tlZPY9nLv1WIbGbcAngOmb5fMWXHo0HEFXFoHMtGwzSqhW4wqY2dXyi/hOUuL9S5JSAd2N+2QtFjsdfb1xaueIaV3tYzvoaGXBJ9jKrREv9uThi/R8G+MckS9O5zJlpmFNwiEjIXGdsrOEIAceCHe1AxPAwSC5D55c3kWrXOiPSiwmhJknvjHUL3RXIXhBUIl7wPfJlBhw1peqAp0YFii7icKswbNrxEr6dwCALmx3dgKbp2UGeA8sX2Hp/qFYZGvlUKiq1DnWYmqpGfAVoMGCSLR8mqTjvHx2WfFzTQAY4TXgUDCcyWS4keHL1eVZx3jW7IM4ZZIYDpJC/Lkr1cIQ5qeqfqtgIRoG7Kpj76mQTzqRQ8ZKmMFBy5WsDwpyjjxsgwySBfvjRfM1r0mGdIkqdDJ9BSpV5Zfry1jXuc3HYXgKoxMrig8J/Zg4gYJzLD4b+uD9UPcjlujsYexYIRoBIMqLKVdtiGYEXOA7d7gweXiMCbhQHEFAXi6SXWFI+fhFKRumVpR0ZjJTab3YAXxj+pfIRtsscsdQid/pypAN8RnBAYiPktzdCCfwclTOnXO/79MSCQNFUc2wHX5595U+cHYeFwCJ7rjGL1YWO/YKvxSegDixpPJtJjlg6zZjkv/Zutj1w3ohEzBAP4F2cpxpvywkGA/P93boyogOmd6FoP+hs0ERiy0oKkubeUUqzDzBmq9UfOs6G0DGYkRlO2LvevYXbDOXLU79P12NU9Wx5VeWgzYGRWu85BgDO798JZQnraEO3vKiTe0NlRL0Y/XpWWZ1XCHfeRZdqnLkKizQHVDOtewaPOBf+Xot9651avzJuPF8dYga69yD5ddulkO6Vhi8SgUkwFtXLfv55W+bL5ApSB7QtP32Cfs3qFy7+xlqJicWdyTr3qtAryQpDpERf/i0jTUMwEfg8pcg9NBWXAovrp8gaKRHI+UZFO+/hdoijvKr6HRCiCL84CPWbJRO9Trfq4BKj8uOBc17upKh7UXLoIBEiLvYUwnqM0PkIDUs5lUGSmAMSC43OWzpM/R34NEfasQI3ssnZvAMZOZG2+Xuh+SE1Jo8rv14n1qx6CuUNThQ8b61WaWOVcZx/TKN7mHyoHwl2zaYbGn0pS9aJkUnOAzslnrloznnqYsXRqu+tYsyhCh/fJKEA+KqEXReELefKEpSFAT3Q+RHf/LPccQGt+6UGhnZom1j5ssSSu5P1EsLpzlaGMc7oOWYyrCTq8DDMnHYmC78xFL7fhGA83Mk4g2JsYrIG9yvZxxDo25Mc+jLXE5GIbyDY4YGjZIRLL0TDKjDKCUnN9c1GXb1uo6eGmOACFIbCb1lS7ksGXv5w9IFi3Elb3LqbDBtxwkb77C2F3MsbwwKfd7HwBnziV/hO88BfqVpwnUCEpa21K5d9qUXONuB4AoWg8H3RGSF7I8Ij16N+zW7WX3whNFDy/Mh2FtAvesBY08nGLjcSe0PrvR0I/ieHwLjmlDF0c5jx32n4uRKfH/nYBoW3XvC7fiTCypurpUTaNWQjocMqHz6dn+kLr9vDkwK4a6UutxQvMt7kI7IF3azSwyKolvjnri4bxEjuakPjShXIkvCJ4P7jSDIDBdjBTJ3daDjBXAnUGnAHQPV6f6oQqSnEcbiXNPZMMw1aEGwntAg5aFX7TiXS7IqUsNgEetIs9YKQ44QpAsMISyQujDxwUuU3MvWWlBECc2J3g5DCKcEeMTORzhF7qu9Ycv0YyFPA7H1JhAm78R1rOmD8HYjx3SV5ISx6ludewAQ5hw8NVemGioACr7TUCCDVJOAbsJhysXVjvmKGQ/uDjw+6N2NtgUTjsCLTHO8GNcNsskp8laEsjDTI4R9pUh/7lOdUwYmf0SaMRuvUTK9wi4OHMCsUZEugZEfJ54IqdBjLUx9Jpbh1Pogzcz025+t52VJdsOMy8psgYoqqnH9snGlfpQOE03CCbWBxuYc3Z4Kv32yxFo61ZoZn0r8Lhb2LUYeqY21pgqsFJbzSqHBGmxpe/liDwX97UX/C4VyYjbQQ/Ev9tlrPW6fN8IOfg01yfdW/LR6nigw0hhhxbVt0Sq9mPrW23sqnAwP+3q7fLJBzKVrjnMSkAVtIiAPemX6KN4M3GBvMxmJm09jNNvMBuJ3M8n7a2lm+LHaQR5Bs47ZqesCHsMDQS5FgUUxviQq9G+1FSwZhpLbMfHvM0YQC7GHTIXeg7J9qkPBSRPjZYeXx8zPFExP3YAM0NDvdSwAVw0V83y3T/odTA0Q=
*/