// Boost.Bimap
//
// Copyright (c) 2006-2007 Matias Capeletto
//
// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

/// \file relation/detail/mutant.hpp
/// \brief Mutate functions to extract views of mutant classes.

#ifndef BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP
#define BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP

#if defined(_MSC_VER)
#pragma once
#endif

#include <boost/config.hpp>

#include <boost/bimap/detail/debug/static_error.hpp>
#include <boost/mpl/contains.hpp>
#include <boost/mpl/assert.hpp>
#include <boost/static_assert.hpp>
#include <boost/type_traits/is_const.hpp>
#include <boost/utility/addressof.hpp>
#include <boost/mpl/not.hpp>
#include <boost/utility/enable_if.hpp>

namespace boost {
namespace bimaps {
namespace relation {

/// \brief Relation details, mutant idiom and symmetrical metafunctions builders.

namespace detail {

//@{
/// \brief Converts a mutant class to a view with zero overhead.
/**

This function is a safe wrapper around reinterpret_cast. It checks at
compile time that the desired view is supported by the mutant class.
See also mutant, can_mutate_in.
\ingroup mutant_group
                                                                            **/


template< class View, class Type >
BOOST_DEDUCED_TYPENAME enable_if< mpl::not_< is_const< Type > >,

View&

>::type mutate( Type & m )
{
    BOOST_MPL_ASSERT((
        ::boost::mpl::contains<BOOST_DEDUCED_TYPENAME Type::mutant_views,View>
    ));
    return *reinterpret_cast< View* >(boost::addressof(m));
}

template< class View, class Type >
BOOST_DEDUCED_TYPENAME enable_if< is_const< Type >,

const View&

>::type mutate( Type & m )
{
    BOOST_MPL_ASSERT((
        ::boost::mpl::contains<BOOST_DEDUCED_TYPENAME Type::mutant_views,View> 
    ));
    return *reinterpret_cast< const View* >(boost::addressof(m));
}

//@}

} // namespace detail
} // namespace relation
} // namespace bimaps
} // namespace boost

#endif // BOOST_BIMAP_RELATION_DETAIL_MUTANT_HPP


/* mutant.hpp
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
*/