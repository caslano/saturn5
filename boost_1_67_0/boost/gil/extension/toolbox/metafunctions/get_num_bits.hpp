//
// Copyright 2012 Christian Henning, Andreas Pokorny, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_NUM_BITS_HPP
#define BOOST_GIL_EXTENSION_TOOLBOX_METAFUNCTIONS_GET_NUM_BITS_HPP

#include <boost/gil/channel.hpp>
#include <boost/gil/detail/is_channel_integral.hpp>
#include <boost/gil/detail/mp11.hpp>

#include <type_traits>

namespace boost{ namespace gil {

/// get_num_bits metafunctions
/// \brief Determines the numbers of bits for the given channel type.

template <typename T, class = void>
struct get_num_bits;

template<typename B, int I, int S, bool M>
struct get_num_bits<packed_channel_reference<B, I, S, M>>
    : std::integral_constant<int, S>
{};

template<typename B, int I, int S, bool M>
struct get_num_bits<packed_channel_reference<B, I, S, M> const>
    : std::integral_constant<int, S>
{};

template<typename B, int I, bool M>
struct get_num_bits<packed_dynamic_channel_reference<B, I, M>>
    : std::integral_constant<int, I>
{};

template<typename B, int I, bool M>
struct get_num_bits<packed_dynamic_channel_reference<B, I, M> const>
    : std::integral_constant<int, I>
{};

template<int N>
struct get_num_bits<packed_channel_value<N>> : std::integral_constant<int, N>
{};

template<int N>
struct get_num_bits<packed_channel_value<N> const> : std::integral_constant<int, N>
{};

template <typename T>
struct get_num_bits
    <
        T,
        typename std::enable_if
        <
            mp11::mp_and
            <
                detail::is_channel_integral<T>,
                mp11::mp_not<std::is_class<T>>
           >::value
       >::type
    >
    : std::integral_constant<std::size_t, sizeof(T) * 8>
{};

}} // namespace boost::gil

#endif

/* get_num_bits.hpp
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
*/