//
// Copyright 2005-2007 Adobe Systems Incorporated
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_DYNAMIC_IMAGE_APPLY_OPERATION_HPP
#define BOOST_GIL_EXTENSION_DYNAMIC_IMAGE_APPLY_OPERATION_HPP

#include <boost/gil/detail/mp11.hpp>

#include <boost/variant/apply_visitor.hpp>

namespace boost { namespace gil {

/// \ingroup Variant
/// \brief Invokes a generic mutable operation (represented as a unary function object) on a variant
template <typename Types, typename UnaryOp>
BOOST_FORCEINLINE
auto apply_operation(variant<Types>& arg, UnaryOp op)
#if defined(BOOST_NO_CXX14_DECLTYPE_AUTO) || defined(BOOST_NO_CXX11_DECLTYPE_N3276)
    -> typename UnaryOp::result_type
#endif
{
    return apply_visitor(op, arg);
}

/// \ingroup Variant
/// \brief Invokes a generic constant operation (represented as a unary function object) on a variant
template <typename Types, typename UnaryOp>
BOOST_FORCEINLINE
auto apply_operation(variant<Types> const& arg, UnaryOp op)
#if defined(BOOST_NO_CXX14_DECLTYPE_AUTO) || defined(BOOST_NO_CXX11_DECLTYPE_N3276)
    -> typename UnaryOp::result_type
#endif
{
    return apply_visitor(op, arg);
}

/// \ingroup Variant
/// \brief Invokes a generic constant operation (represented as a binary function object) on two variants
template <typename Types1, typename Types2, typename BinaryOp>
BOOST_FORCEINLINE
auto apply_operation(
    variant<Types1> const& arg1,
    variant<Types2> const& arg2,
    BinaryOp op)
#if defined(BOOST_NO_CXX14_DECLTYPE_AUTO) || defined(BOOST_NO_CXX11_DECLTYPE_N3276)
    -> typename BinaryOp::result_type
#endif
{
    return apply_visitor(op, arg1, arg2);
}

}}  // namespace boost::gil

#endif

/* apply_operation.hpp
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
*/