//
// Copyright 2009 Christian Henning
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_PNM_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_PNM_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/pnm/tags.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< pnm_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    pnm_image_type::type asc_type = is_read_supported< typename get_pixel_type< View >::type
                                                     , pnm_tag
                                                     >::_asc_type;

    pnm_image_type::type bin_type = is_read_supported< typename get_pixel_type< View >::type
                                                     , pnm_tag
                                                     >::_bin_type;
    if( info._type == pnm_image_type::mono_asc_t::value )
    {
        // ascii mono images are read gray8_image_t
        return (  asc_type == pnm_image_type::gray_asc_t::value );
    }


    return (  asc_type == info._type
           || bin_type == info._type
           );
}

template< typename View >
bool is_allowed( const image_read_info< pnm_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/