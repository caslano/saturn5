//
// Copyright 2008 Christian Henning, Lubomir Bourdev
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_PNG_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_PNG_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/png/tags.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< png_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    using pixel_t = typename get_pixel_type<View>::type;

    using channel_t = typename channel_traits<typename element_type<pixel_t>::type>::value_type;

    const png_num_channels::type dst_num_channels = num_channels< pixel_t >::value;
    const png_bitdepth::type     dst_bit_depth    = detail::unsigned_integral_num_bits< channel_t >::value;

    return   dst_num_channels == info._num_channels
          && dst_bit_depth    == info._bit_depth;
}

template< typename View >
bool is_allowed( const image_read_info< png_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/