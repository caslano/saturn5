//
// Copyright 2009 Christian Henning
//
// Distributed under the Boost Software License, Version 1.0
// See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt
//
#ifndef BOOST_GIL_EXTENSION_IO_RAW_DETAIL_IS_ALLOWED_HPP
#define BOOST_GIL_EXTENSION_IO_RAW_DETAIL_IS_ALLOWED_HPP

#include <boost/gil/extension/io/raw/tags.hpp>
#include <boost/gil/io/base.hpp>

#include <type_traits>

namespace boost { namespace gil { namespace detail {

template< typename View >
bool is_allowed( const image_read_info< raw_tag >& info
               , std::true_type   // is read_and_no_convert
               )
{
    using pixel_t = typename get_pixel_type<View>::type;
    using num_channel_t = typename num_channels<pixel_t>::value_type;
    using channel_t = typename channel_traits<typename element_type<typename View::value_type>::type>::value_type;

    constexpr num_channel_t dst_samples_per_pixel = num_channels<pixel_t>::value;
    constexpr unsigned int dst_bits_per_pixel = detail::unsigned_integral_num_bits<channel_t>::value;
    constexpr bool is_type_signed = std::is_signed<channel_t>::value;

    return (dst_samples_per_pixel == info._samples_per_pixel &&
            dst_bits_per_pixel == static_cast<unsigned int>(info._bits_per_pixel) &&
            !is_type_signed);
}

template< typename View >
bool is_allowed( const image_read_info< raw_tag >& /* info */
               , std::false_type  // is read_and_convert
               )
{
    return true;
}

} // namespace detail
} // namespace gil
} // namespace boost

#endif

/* is_allowed.hpp
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
*/