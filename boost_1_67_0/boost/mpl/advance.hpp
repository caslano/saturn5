
#ifndef BOOST_MPL_ADVANCE_HPP_INCLUDED
#define BOOST_MPL_ADVANCE_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2000-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/advance_fwd.hpp>
#include <boost/mpl/less.hpp>
#include <boost/mpl/negate.hpp>
#include <boost/mpl/long.hpp>
#include <boost/mpl/if.hpp>
#include <boost/mpl/tag.hpp>
#include <boost/mpl/apply_wrap.hpp>
#include <boost/mpl/aux_/advance_forward.hpp>
#include <boost/mpl/aux_/advance_backward.hpp>
#include <boost/mpl/aux_/value_wknd.hpp>
#include <boost/mpl/aux_/na_spec.hpp>
#include <boost/mpl/aux_/nttp_decl.hpp>

namespace boost { namespace mpl {

// default implementation for forward/bidirectional iterators
template< typename Tag >
struct advance_impl
{
    template< typename Iterator, typename N > struct apply
    {
        typedef typename less< N,long_<0> >::type backward_;
        typedef typename if_< backward_, negate<N>, N >::type offset_;

        typedef typename if_<
              backward_
            , aux::advance_backward< BOOST_MPL_AUX_VALUE_WKND(offset_)::value >
            , aux::advance_forward< BOOST_MPL_AUX_VALUE_WKND(offset_)::value >
            >::type f_;

        typedef typename apply_wrap1<f_,Iterator>::type type;
    };
};


template<
      typename BOOST_MPL_AUX_NA_PARAM(Iterator)
    , typename BOOST_MPL_AUX_NA_PARAM(N)
    >
struct advance
    : advance_impl< typename tag<Iterator>::type >
        ::template apply<Iterator,N>
{
};

template<
      typename Iterator
    , BOOST_MPL_AUX_NTTP_DECL(long, N)
    >
struct advance_c
    : advance_impl< typename tag<Iterator>::type >
        ::template apply<Iterator,long_<N> >
{
};

BOOST_MPL_AUX_NA_SPEC(2, advance)

}}

#endif // BOOST_MPL_ADVANCE_HPP_INCLUDED

/* advance.hpp
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
*/