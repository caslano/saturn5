
#ifndef BOOST_MPL_SET_AUX_ITERATOR_HPP_INCLUDED
#define BOOST_MPL_SET_AUX_ITERATOR_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2007
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/set/aux_/set0.hpp>
#include <boost/mpl/has_key.hpp>
#include <boost/mpl/iterator_tags.hpp>
#include <boost/mpl/next.hpp>
#include <boost/mpl/eval_if.hpp>
#include <boost/mpl/if.hpp>
#include <boost/mpl/identity.hpp>
#include <boost/mpl/aux_/config/ctps.hpp>

namespace boost { namespace mpl {

// used by 's_iter_get'
template< typename Set, typename Tail > struct s_iter;

template< typename Set, typename Tail > struct s_iter_get
    : eval_if< 
          has_key< Set,typename Tail::item_type_ >
        , identity< s_iter<Set,Tail> >
        , next< s_iter<Set,Tail> >
        >
{
};

template< typename Set, typename Tail > struct s_iter_impl
{
    typedef Tail                        tail_;
    typedef forward_iterator_tag        category;
    typedef typename Tail::item_type_   type;

#if defined(BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION)
    typedef typename s_iter_get< Set,typename Tail::base >::type next;
#endif
};

#if !defined(BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION)

template< typename Set, typename Tail > 
struct next< s_iter<Set,Tail> >
    : s_iter_get< Set,typename Tail::base >
{
};

template< typename Set > 
struct next< s_iter<Set,set0<> > >
{
    typedef s_iter<Set,set0<> > type;
};

template< typename Set, typename Tail > struct s_iter
    : s_iter_impl<Set,Tail>
{
};

template< typename Set > struct s_iter<Set, set0<> >
{
    typedef forward_iterator_tag category;
};

#else

template< typename Set >
struct s_end_iter
{
    typedef forward_iterator_tag    category;
    typedef s_iter<Set,set0<> >     next;
};

template< typename Set, typename Tail > struct s_iter
    : if_< 
          is_same< Tail,set0<> >
        , s_end_iter<Set>
        , s_iter_impl<Set,Tail>
        >::type
{
};

#endif // BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION

}}

#endif // BOOST_MPL_SET_AUX_ITERATOR_HPP_INCLUDED

/* iterator.hpp
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
*/