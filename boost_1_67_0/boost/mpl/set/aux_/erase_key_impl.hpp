
#ifndef BOOST_MPL_SET_AUX_ERASE_KEY_IMPL_HPP_INCLUDED
#define BOOST_MPL_SET_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2007
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/erase_key_fwd.hpp>
#include <boost/mpl/set/aux_/has_key_impl.hpp>
#include <boost/mpl/set/aux_/item.hpp>
#include <boost/mpl/set/aux_/tag.hpp>
#include <boost/mpl/identity.hpp>
#include <boost/mpl/base.hpp>
#include <boost/mpl/eval_if.hpp>

#include <boost/type_traits/is_same.hpp>

namespace boost { namespace mpl {

template<>
struct erase_key_impl< aux::set_tag >
{
    template< 
          typename Set
        , typename T
        > 
    struct apply
        : eval_if< 
              has_key_impl<aux::set_tag>::apply<Set,T>
            , eval_if< 
                  is_same< T,typename Set::item_type_ > 
                , base<Set>
                , identity< s_mask<T,typename Set::item_> >
                >
            , identity<Set>
            >
    {
    };
};

}}

#endif // BOOST_MPL_SET_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

/* erase_key_impl.hpp
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
*/