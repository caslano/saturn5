
#ifndef BOOST_MPL_MAX_ELEMENT_HPP_INCLUDED
#define BOOST_MPL_MAX_ELEMENT_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2000-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/less.hpp>
#include <boost/mpl/iter_fold.hpp>
#include <boost/mpl/begin_end.hpp>
#include <boost/mpl/if.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/mpl/apply.hpp>
#include <boost/mpl/aux_/common_name_wknd.hpp>
#include <boost/mpl/aux_/na_spec.hpp>

namespace boost { namespace mpl {

BOOST_MPL_AUX_COMMON_NAME_WKND(max_element)

namespace aux {

template< typename Predicate >
struct select_max
{
    template< typename OldIterator, typename Iterator >
    struct apply
    {
        typedef typename apply2<
              Predicate
            , typename deref<OldIterator>::type
            , typename deref<Iterator>::type
            >::type condition_;

        typedef typename if_<
              condition_
            , Iterator
            , OldIterator
            >::type type;
    };
};

} // namespace aux 


template<
      typename BOOST_MPL_AUX_NA_PARAM(Sequence)
    , typename Predicate = less<_,_>
    >
struct max_element
    : iter_fold<
          Sequence
        , typename begin<Sequence>::type
        , protect< aux::select_max<Predicate> >
        >
{
};

BOOST_MPL_AUX_NA_SPEC(1, max_element)

}}

#endif // BOOST_MPL_MAX_ELEMENT_HPP_INCLUDED

/* max_element.hpp
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
*/