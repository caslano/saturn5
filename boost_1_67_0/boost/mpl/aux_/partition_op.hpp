
#ifndef BOOST_MPL_AUX_PARTITION_OP_HPP_INCLUDED
#define BOOST_MPL_AUX_PARTITION_OP_HPP_INCLUDED

// Copyright Eric Friedman 2003
// Copyright Aleksey Gurtovoy 2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/apply.hpp>
#include <boost/mpl/eval_if.hpp>
#include <boost/mpl/if.hpp>
#include <boost/mpl/pair.hpp>
#include <boost/mpl/aux_/lambda_spec.hpp>

namespace boost { namespace mpl { 

namespace aux {

template< typename Pred, typename In1Op, typename In2Op >
struct partition_op
{
    template< typename State, typename T >
    struct apply
    {
        typedef typename State::first first_;
        typedef typename State::second second_;
        typedef typename apply1< Pred,T >::type pred_;

        typedef typename eval_if<
              pred_
            , apply2<In1Op,first_,T>
            , apply2<In2Op,second_,T>
            >::type result_;

        typedef typename if_<
              pred_
            , pair< result_,second_ >
            , pair< first_,result_ >
            >::type type;
    };
};

} // namespace aux

BOOST_MPL_AUX_PASS_THROUGH_LAMBDA_SPEC(3, aux::partition_op)

}}

#endif // BOOST_MPL_AUX_PARTITION_OP_HPP_INCLUDED

/* partition_op.hpp
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
*/