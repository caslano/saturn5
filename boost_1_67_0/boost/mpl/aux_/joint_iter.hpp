
#ifndef BOOST_MPL_AUX_JOINT_ITER_HPP_INCLUDED
#define BOOST_MPL_AUX_JOINT_ITER_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2000-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/next_prior.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/mpl/iterator_tags.hpp>
#include <boost/mpl/aux_/lambda_spec.hpp>
#include <boost/mpl/aux_/config/ctps.hpp>

#if defined(BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION)
#   include <boost/type_traits/is_same.hpp>
#endif

namespace boost { namespace mpl {

#if !defined(BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION)

template<
      typename Iterator1
    , typename LastIterator1
    , typename Iterator2
    >
struct joint_iter
{
    typedef Iterator1 base;
    typedef forward_iterator_tag category;
};

template<
      typename LastIterator1
    , typename Iterator2
    >
struct joint_iter<LastIterator1,LastIterator1,Iterator2>
{
    typedef Iterator2 base;
    typedef forward_iterator_tag category;
};


template< typename I1, typename L1, typename I2 >
struct deref< joint_iter<I1,L1,I2> >
{
    typedef typename joint_iter<I1,L1,I2>::base base_;
    typedef typename deref<base_>::type type;
};

template< typename I1, typename L1, typename I2 >
struct next< joint_iter<I1,L1,I2> >
{
    typedef joint_iter< typename mpl::next<I1>::type,L1,I2 > type;
};

template< typename L1, typename I2 >
struct next< joint_iter<L1,L1,I2> >
{
    typedef joint_iter< L1,L1,typename mpl::next<I2>::type > type;
};

#else // BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION

template<
      typename Iterator1
    , typename LastIterator1
    , typename Iterator2
    >
struct joint_iter;

template< bool > struct joint_iter_impl
{
    template< typename I1, typename L1, typename I2 > struct result_
    {
        typedef I1 base;
        typedef forward_iterator_tag category;
        typedef joint_iter< typename mpl::next<I1>::type,L1,I2 > next;
        typedef typename deref<I1>::type type;
    };
};

template<> struct joint_iter_impl<true>
{
    template< typename I1, typename L1, typename I2 > struct result_
    {
        typedef I2 base;
        typedef forward_iterator_tag category;
        typedef joint_iter< L1,L1,typename mpl::next<I2>::type > next;
        typedef typename deref<I2>::type type;
    };
};

template<
      typename Iterator1
    , typename LastIterator1
    , typename Iterator2
    >
struct joint_iter
    : joint_iter_impl< is_same<Iterator1,LastIterator1>::value >
        ::template result_<Iterator1,LastIterator1,Iterator2>
{
};

#endif // BOOST_NO_TEMPLATE_PARTIAL_SPECIALIZATION

BOOST_MPL_AUX_PASS_THROUGH_LAMBDA_SPEC(3, joint_iter)

}}

#endif // BOOST_MPL_AUX_JOINT_ITER_HPP_INCLUDED

/* joint_iter.hpp
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
*/