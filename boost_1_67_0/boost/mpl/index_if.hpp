
#ifndef BOOST_MPL_INDEX_IF_HPP_INCLUDED
#define BOOST_MPL_INDEX_IF_HPP_INCLUDED

// Copyright Eric Friedman 2003
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/aux_/find_if_pred.hpp>
#include <boost/mpl/begin_end.hpp>
#include <boost/mpl/if.hpp>
#include <boost/mpl/int.hpp>
#include <boost/mpl/iter_fold_if.hpp>
#include <boost/mpl/next.hpp>
#include <boost/mpl/void.hpp>
#include <boost/mpl/aux_/na_spec.hpp>
#include <boost/mpl/aux_/lambda_support.hpp>
#include <boost/type_traits/is_same.hpp>

namespace boost { namespace mpl {

template<
      typename BOOST_MPL_AUX_NA_PARAM(Sequence)
    , typename BOOST_MPL_AUX_NA_PARAM(Predicate)
    >
struct index_if
{
    typedef typename iter_fold_if<
          Sequence
        , int_<0>
        , next<>
        , aux::find_if_pred<Predicate>
        >::type result_;

    typedef typename end<Sequence>::type not_found_;
    typedef typename first<result_>::type result_index_;
    typedef typename second<result_>::type result_iterator_;

    typedef typename if_<
          is_same< result_iterator_,not_found_ >
        , void_
        , result_index_
        >::type type;

    BOOST_MPL_AUX_LAMBDA_SUPPORT(2,index_if,(Sequence,Predicate))
};

BOOST_MPL_AUX_NA_SPEC(2, index_if)

}}

#endif // BOOST_MPL_INDEX_IF_HPP_INCLUDED

/* index_if.hpp
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
*/