
#ifndef BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED
#define BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/insert_fwd.hpp>
#include <boost/mpl/next_prior.hpp>
#include <boost/mpl/map/aux_/contains_impl.hpp>
#include <boost/mpl/map/aux_/item.hpp>
#include <boost/mpl/map/aux_/tag.hpp>
#include <boost/mpl/aux_/na.hpp>
#include <boost/mpl/aux_/config/typeof.hpp>

namespace boost { namespace mpl {

namespace aux {
template< typename Map, typename Pair > 
struct map_insert_impl
    : if_< 
          contains_impl<aux::map_tag>::apply<Map,Pair>
        , Map
#if defined(BOOST_MPL_CFG_TYPEOF_BASED_SEQUENCES)
        , m_item<
              typename Pair::first
            , typename Pair::second
            , Map
            >
#else
        , m_item<
              Map::order::value
            , typename Pair::first
            , typename Pair::second
            , Map
            >
#endif
        >
{
};
}

template<>
struct insert_impl< aux::map_tag >
{
    template< 
          typename Map
        , typename PosOrKey
        , typename KeyOrNA
        > 
    struct apply
        : aux::map_insert_impl<
              Map
            , typename if_na<KeyOrNA,PosOrKey>::type
            >
    {
    };
};

}}

#endif // BOOST_MPL_MAP_AUX_INSERT_IMPL_HPP_INCLUDED

/* insert_impl.hpp
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
*/