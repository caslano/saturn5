
#ifndef BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED
#define BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
// Copyright David Abrahams 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/erase_key_fwd.hpp>
#include <boost/mpl/map/aux_/has_key_impl.hpp>
#include <boost/mpl/map/aux_/item.hpp>
#include <boost/mpl/map/aux_/tag.hpp>
#include <boost/mpl/identity.hpp>
#include <boost/mpl/base.hpp>
#include <boost/mpl/eval_if.hpp>

#include <boost/type_traits/is_same.hpp>

namespace boost { namespace mpl {

template<>
struct erase_key_impl< aux::map_tag >
{
    template< 
          typename Map
        , typename Key
        > 
    struct apply
        : eval_if< 
              has_key_impl<aux::map_tag>::apply<Map,Key>
            , eval_if< 
                  is_same< Key,typename Map::key_ > 
                , base<Map>
                , identity< m_mask<Key,Map> >
                >
            , identity<Map>
            >
    {
    };
};

}}

#endif // BOOST_MPL_MAP_AUX_ERASE_KEY_IMPL_HPP_INCLUDED

/* erase_key_impl.hpp
+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
*/