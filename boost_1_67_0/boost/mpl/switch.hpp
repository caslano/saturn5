
#ifndef BOOST_MPL_SWITCH_HPP_INCLUDED
#define BOOST_MPL_SWITCH_HPP_INCLUDED

// Copyright Aleksey Gurtovoy 2003-2004
//
// Distributed under the Boost Software License, Version 1.0. 
// (See accompanying file LICENSE_1_0.txt or copy at 
// http://www.boost.org/LICENSE_1_0.txt)
//
// See http://www.boost.org/libs/mpl for documentation.

// $Id$
// $Date$
// $Revision$

#include <boost/mpl/find_if.hpp>
#include <boost/mpl/deref.hpp>
#include <boost/mpl/lambda.hpp>
#include <boost/mpl/apply.hpp>
#include <boost/mpl/pair.hpp>
#include <boost/mpl/aux_/na_spec.hpp>
#include <boost/mpl/aux_/lambda_support.hpp>

namespace boost { namespace mpl {

template< 
      typename BOOST_MPL_AUX_NA_PARAM(Body)
    , typename BOOST_MPL_AUX_NA_PARAM(T)
    >
struct switch_
{
    typedef typename find_if<
          Body
        , apply1< lambda< first<_1> >, T >
        >::type iter_;
        
    typedef typename deref<iter_>::type pair_;
    typedef typename lambda< typename second<pair_>::type >::type f_;
    typedef typename apply1<f_,T>::type type;

    BOOST_MPL_AUX_LAMBDA_SUPPORT(2,switch_,(Body,T))
};

BOOST_MPL_AUX_NA_SPEC(2, switch_)

}}

#endif // BOOST_MPL_SWITCH_HPP_INCLUDED

/* switch.hpp
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
*/