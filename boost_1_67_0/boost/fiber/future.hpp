
//          Copyright Oliver Kowalke 2013.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#include <boost/fiber/future/async.hpp>
#include <boost/fiber/future/future.hpp>
#include <boost/fiber/future/packaged_task.hpp>
#include <boost/fiber/future/promise.hpp>

/* future.hpp
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
*/