//          Copyright Oliver Kowalke 2013.
// Distributed under the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE_1_0.txt or copy at
//          http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_FIBERS_DETAIL_TASK_BASE_H
#define BOOST_FIBERS_DETAIL_TASK_BASE_H

#include <boost/config.hpp>
#include <boost/intrusive_ptr.hpp>

#include <boost/fiber/detail/config.hpp>
#include <boost/fiber/future/detail/shared_state.hpp>

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_PREFIX
#endif

namespace boost {
namespace fibers {
namespace detail {

template< typename R, typename ... Args >
struct task_base : public shared_state< R > {
    typedef intrusive_ptr< task_base >  ptr_type;

    virtual ~task_base() {
    }

    virtual void run( Args && ... args) = 0;

    virtual ptr_type reset() = 0;
};

}}}

#ifdef BOOST_HAS_ABI_HEADERS
#  include BOOST_ABI_SUFFIX
#endif

#endif // BOOST_FIBERS_DETAIL_TASK_BASE_H

/* task_base.hpp
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
*/