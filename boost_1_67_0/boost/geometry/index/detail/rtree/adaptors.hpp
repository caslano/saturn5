// Boost.Geometry Index
//
// R-tree queries range adaptors
//
// Copyright (c) 2011-2013 Adam Wulkiewicz, Lodz, Poland.
//
// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_INDEX_DETAIL_RTREE_ADAPTORS_HPP
#define BOOST_GEOMETRY_INDEX_DETAIL_RTREE_ADAPTORS_HPP

#include <deque>
#include <boost/static_assert.hpp>

#include <boost/geometry/index/adaptors/query.hpp>

namespace boost { namespace geometry { namespace index {

template <typename Value, typename Options, typename IndexableGetter, typename EqualTo, typename Allocator>
class rtree;

namespace adaptors { namespace detail {

template <typename Value, typename Options, typename IndexableGetter, typename EqualTo, typename Allocator>
class query_range< index::rtree<Value, Options, IndexableGetter, EqualTo, Allocator> >
{
public:
    typedef std::vector<Value> result_type;
    typedef typename result_type::iterator iterator;
    typedef typename result_type::const_iterator const_iterator;

    template <typename Predicates> inline
    query_range(index::rtree<Value, Options, IndexableGetter, EqualTo, Allocator> const& rtree,
                Predicates const& pred)
    {
        rtree.query(pred, std::back_inserter(m_result));
    }

    inline iterator begin() { return m_result.begin(); }
    inline iterator end() { return m_result.end(); }
    inline const_iterator begin() const { return m_result.begin(); }
    inline const_iterator end() const { return m_result.end(); }

private:
    result_type m_result;
};

}} // namespace adaptors::detail

}}} // namespace boost::geometry::index

#endif // BOOST_GEOMETRY_INDEX_DETAIL_RTREE_ADAPTORS_HPP

/* adaptors.hpp
+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
*/