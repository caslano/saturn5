// Boost.Geometry Index
//
// R-tree node children box calculating visitor implementation
//
// Copyright (c) 2011-2015 Adam Wulkiewicz, Lodz, Poland.
//
// This file was modified by Oracle on 2019.
// Modifications copyright (c) 2019 Oracle and/or its affiliates.
// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle
//
// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_INDEX_DETAIL_RTREE_VISITORS_CHILDREN_BOX_HPP
#define BOOST_GEOMETRY_INDEX_DETAIL_RTREE_VISITORS_CHILDREN_BOX_HPP

namespace boost { namespace geometry { namespace index {

namespace detail { namespace rtree { namespace visitors {

template <typename MembersHolder>
class children_box
    : public MembersHolder::visitor_const
{
    typedef typename MembersHolder::parameters_type parameters_type;
    typedef typename MembersHolder::translator_type translator_type;
    typedef typename MembersHolder::box_type box_type;

    typedef typename MembersHolder::internal_node internal_node;
    typedef typename MembersHolder::leaf leaf;

public:
    inline children_box(box_type & result,
                        parameters_type const& parameters,
                        translator_type const& tr)
        : m_result(result), m_parameters(parameters), m_tr(tr)
    {}

    inline void operator()(internal_node const& n)
    {
        typedef typename rtree::elements_type<internal_node>::type elements_type;
        elements_type const& elements = rtree::elements(n);

        m_result = rtree::elements_box<box_type>(elements.begin(), elements.end(), m_tr,
                                                 index::detail::get_strategy(m_parameters));
    }

    inline void operator()(leaf const& n)
    {
        typedef typename rtree::elements_type<leaf>::type elements_type;
        elements_type const& elements = rtree::elements(n);

        m_result = rtree::values_box<box_type>(elements.begin(), elements.end(), m_tr,
                                               index::detail::get_strategy(m_parameters));
    }

private:
    box_type & m_result;
    parameters_type const& m_parameters;
    translator_type const& m_tr;
};

}}} // namespace detail::rtree::visitors

}}} // namespace boost::geometry::index

#endif // BOOST_GEOMETRY_INDEX_DETAIL_RTREE_VISITORS_CHILDREN_BOX_HPP

/* children_box.hpp
2LBSkeq/wEd6l+4+qGV3rX8aM90Ikp+fDs71XziVHw3lw+DphPkFNBm8/g74L5oqyirGlGHBCDN8auLNIH0IbcwxbXt20vU5gaiCcxjyYH6f5Y2IlFVamzCddgGt3kcNSRttWVN9t45DRAjfvtZ99eiVPrOkL/AkDxzjJIhcP4i555FGMZ4Zlu5o+WHejNEWjsGWspQlXM1q/H5yKvEGRbzpZTjEdzHj+HcHy9MNWeR1zP/wNnEtdZ3kvc+stBhg4b8oxjUSrhL0DYJBMsa6PhHoY6ixeApy7Ejto8bF5Csb1Zapg3/wSvphsyN4I+UdY+SNoWqLgdnna6cTtdQHnIZBHprqkrEyDJfs9YBVbZy69sO91WbQ6OsLk8GsX3KYbo/koiF7N02pj1QqB6Z5ze0j2qDmgD/TDnnrLGNZA7P7tcwIfZamQ2tDnDwN5MBoKseddWVoH8wcXpVyUKk7GKlQFljyjvFJew8CrNPhGwP7lOU6BVpKvNUNQ7lIj5GvZf+aD0LrE2/C7MD6kPiynMReraJkIB5irOl786KcjJqUnGPbJkS1qaNKicrrXbgZs07YmgrLMpyxeVGH5QcbEPzYJ8PRO+pVfdzxqi+pP4Y+T/heD1rtYq+GaquAf+zYSZXO/2UjNjYUz53JtFFMOPoAXP5Lzch1OoObqrRaGYrlOPMsSFdnM4GeBSpSBgbHiIRQd1ECail32pxRAKHypPURaws9UIp85Oa5aCPQ7SWeeT4NWBiJKBEdej3miXZD6QTfJHMSmlw2NRpZwIalYfJfjPWfiX4rHbtEOLURWRmRn8U3KjYWunfkDa9NVttRrP/8LpISxbm9hpcw5mKfUl/3WKmCX62th4wNiNivOi9vS8WeRGMC0xRHCWNInnnIag0kq21/N+0pDHH1Agn4GTAi6BAcflKAtfn32sceKzNbz07kBnazu3MQ7ZrQz53CqaOJTnVrn+zaWEC9PSkA/nKlcopPLiFiOXdK5Qg7rAIhhPBB7JOJcy2qZJ8tXnbr59THIoEC8+VF0WUn10+XsvWvJZaqI0lmoIBXjZL2ijHX7v6Q7Qp8GbThsKZeHaThm/C8lBQJ6/L+254HRyVy/vdi2FbG8lzo4jwQfjQskmMZ5qPF+UYEbc4NrKbUE4Ju6xox3o4NCpGJCME7DCXyGiX99ZJcDkvQ5OZYjjmwJJE6EN+K7IIvcnJQOMxQ8EUWO4Xakwpp77sDCx1Ot6T/9zK3W1T6BD3wA6VhprpPJovCeTUf611CLyQuYPOtoPoJU+2eB6KpGDnVSrl1uHeCljcz42n+so1hMeYmlsF2P1WEK61Vx0uL4Gf+5Zv30OhrWPfnLdUt/W3T5WsPYGzjhdFND+1XHNzbCHuiF+j4viBUHm0/QTANDFU3BWFm0w0Kxl9MXxzyeRIvKqDcFyifywPGPTgD6pKMlcEBJoWCmd0caIoLAs5I8QbwSzaXSZ+6yf7WdEiVkV+j/cuTX+di8a2lgchc7MbO7RNtQ6pDGoJ3gc982dx0cbwLcGcfxQtrOHXYbsTusqe6cvVtfWXmR8JSSMS6C0+upAMbfBn3SwcfGo4DoJLGx1MMPNxejGZs5e376MDhn29DOUYU2qaXIWQKUbca/nCy1nZwJLrqiqQiLXwbcHuM2O6ulRITv5o4rG8cGraP9nne7IsAJZMJrO/ev5R1QmLOUuuW+heXiDWbxyutlImX8x3WkiZgKTljWH2Exgu4x0Df1Hr+lGL20cf5B5SXeLwxxl6YVAuKFCO2jN3gzP6Tp7YXPeWrpVMnct53VwroI3UTE/cXoeFvD4LRrzutCuMSGtaFr5NNBNbTssvCSJONZw4dK9nUZ+KT6xbW4NoEymcOMWfbWZoKJe382NUXkLdrs8z9aZS6qLc4eKYEupt7Ut9ywZFYckRVP5UNZzr112c6cbihGw63fd043HBVW/cXjZRseCdgX8J14dz8rXaHftkl4Jzl06YK85DWmTsb5IjQmqZq7TnRjYhlxlLMuCYHAa57hksRR80wurvPTOE1fN2QUD1TK9elHzxzow4YiODyf4vWb+bx5y5fZWPf/+bdOrm5lg4a5DNiZ/EF0ZcWbgo5BbVXrYHJRvH90eOwd4Fgiw165sabpb2Skct7T63isrFGacqvnj/n9YLCNidzO1t389iqOvDUByZAs1DqcLrqk29UDTzvecm7loL4HPB9bFaqm/K1SpJpp7WpP72+dMfAYxocBMDHgxkCLw6c0UNUR0+3QnPnLVOXqBVW/TpCWmAznucysxM+Mu1YUtea7P1knJPMCP/jHO15E6dcJSsfDFxiMhF8/vFk6ASOqhFGtR8GQ9nX27F84SQS5zGkJYhg29mUw6d1oMJJkkkwTCFkb4BhTWKexrayKQZWKjLZIehMdlHxyWCeOnd5/EicxidJxPiIVnrvCfWMPhTWbOMOog1P4DWTFtRkJJs/mzGUurbKn25O5sWlaZf1b8dp0PSFCLpU8qrXblFm1UOtI8qsZPvnnA11QHXZv/5m3ccF8iQy/rGpD/QKfrfzYcH1X/4E2gO8HFjfVGb3PW1tNcpZlwxd7eqk68WxzIF00VtWS+dWuS6+SgskmTrzHUN2rk/xQFEBnQSlU6C4viT61w9flTe8m/Jy8600oz8kzBSEgFE0q1o9m/WcFLZ8CTAaDLm+gZ2gOJBkHOVc2o97ypSAZjqEbMmJnQN1N7qWVf8BquYNFarmTzEqM2ESCQIhfw1ZgoBFeytXtplRJIL4Xtez1ufUv4CW2+1bz13wRMeXdc/s7lcNz+vmFV3ftvu24CnZq56v7zcnjGH07eUwWZ34BjOf4O6ysriy5pNdyxvTf9MuQBqNfV68hhlkHfHFnc7H+jaBJ7WPFOhCL+vtE8OpDvC5F1LWYcXngyzFsnTOZ9S9lpKWFQ7zY1j+JECN2u1VF6sTGw7wl8PO7bAf9tVtUnS8aRt5FLia96DTvjnXkqenzVP/ddWT82HlnElsOq8nbj6H4nYo2joXx3YuoN9O0HunAHu7r6VPYoF+izWIWX/YEVORvqrbMN3HlI8qJbOSGKqZuS/5R1A+Z/TiMt3iT13PSyq1YXuO6V7EL2frDPLTueF26lnMYSPBTJ9m+PvX/JO59F1ftzvHW7N/y96nKrkInLMLB5U1vYuBwnasPbbYasLRakjiohs9IT0KsdcvNCo8nF7objytkCf7gWbwPI4l/rpW8u8/oY7mnNy/npnLr/vAvoyulm5BS5jpJmyE4vy6HuyqdZRFVZdHO4/lKPu+ZoYbjze2nBBgMdLpxW1abq7hIwUlNEHo0tfhO/trQMeP00fnhHUQYgLpVuqNzw40jeqMzZlK7FkjI7NxLS9VIm98/hVukgYl2ZzX4ZqZAnS9wqDdvyNbGhILUAYT28QFTsRP3uvDfN2ARZjaSd37ZjZxokohUy/ci7RJSexlDWxpW8U46lm0TmCKSi/c/sxwUdKlunPOZ8MP7QBEOJbNFW5MuOXNJfIj+Tgwa/kwDMbQ3y+1xSgec29gZy+koeVWgILedTZPGzsXDkHBu9RI3MMtHXv9es8ELgYYWxG79aLW9UQ+toCK91gzppOFSnK9bkpc8Au/WdbnfruzPJq06lTcpixGbcWK3syiNiM1+mnw8xvuwYaBjrb9HIba6LfafdWEB2HDWNtfXglC3f+S6TN8CaxOOnK5JGs9cfthBk56q7CQWbv7FQwcdefC61avogxXVWL3X1GQ6pBkM5oIlR4OZXXunX4zo43QzpgCEFi9v/UhVdQUBsB4SyIGV2szGoy75JW4n+CeEb1zHqfhJRTZJMXeYuap5CoavUaXGPYrilmdM3jhT/dzdS6bhxnPx3nQZktjUuFDqiE8rS9oVGspT4ZDtCSyhat+KqQzOf/l+7jSKXe/NdkGjHZWUtxa7ZxLwb7siScEhkgtJ1wqCknasc/fLkWcxwb90ufZe++m54FLlhDJ0tsJ/rvphTLmhwOMYgbFX9Dj7/UaDTw3zKLuiM3pcYZ9iKzlu2GiNMY4iJcLQ/S+FyuRRjIEZSPHUrLVUFx44QIW7XHWsI1+Zl7RYQdsdhXSlUqctkdy6YdrQXcxb8yOPnHFkXFJitjeUHGcj/ZgdYUlXxXijqyogDKHMGTnxUa4RUUmVyxT43i/Ub4HAE9LPx27ZmJcYfmiKHbq0T2Ysp7kWbzzkbQ49BqspyW4SqY3tT+Lhj1VCrPhPJezYFL4T0EIQpSOBKuGTYHwAqWzCca0bYdB7HuMcQbZtSY2c1Zgb0JuIdZXm6kMv1Yq00ZrU92gUgs4/PIC/LxFylwL8UKgm4Y7gi7vmGKXNTIkyyFio7sjHUqvH97+Meyb5vDLZILpCqVbjY/yCV5igjBtE/DxFMYRfLCLi9tCDOgka3OR5xhvynjswVyz6WzZ+mkNJ1QvX11eFmBCMaSBC874Vf4/nWeQ4x+B/7gARS4CR/Y1td/5Bzpg1DFhKmnhKmkBLV8nB7mPq59T5utALekGifg9ORDDQP/7pAI5c4MHWB4FXIYHVQbn/+WFOCMA7riX78MJdaifC/hE2FNl3Dph3zrJt2ukN9bDDfIM2veZoKjggIsdasaD9CDlN2U8a2E/a8l/ZEfM+3WgAexIFiDv21ftMvH/pOhrHgKoIYarMTKTs/Rj0QLvb4YHDdW6V5f7QHBmoapU4/ZdprZWzOrdTWimvU14Q1vWSHLFOnmL1f3ZdCoQS/dIX/QmODwnn/3J3DaZ5UrcqETl8savRmmSTXA9FoB1sxiWiZVIvIkHvG8NM54av1iiO2pWZg/ZqLEpgPoYD+ErQtEcycQMXTRoK1fhKDasr/k6WgtSAiSSybVpWJaPv11rLEclRjMHFOO+tu8rBuXWJCDm6GacKSzTGvA3uooTw85x/XigJLf64P6gBB///S2S+1CACfHs2a/YfGBwK36IcIoMxXwFpX+jNsOP1knggg0FVgJ7o78QuwoSYzxxQl+A2jSPlaR/FKL0oVKY52gyHDDdh0bNaZsdWI9PmRW8OA+NSrdGT9RB47ZPBW3sEwG9KkXAIX1gFUcPtr5AZfpyvrBZNGL3i2+JqFP8YmTk9+1BYY1QYhsekRwFqnWifuv/JYJ6Q/1w237vIZ1JNn2c4QXLHB5fZiMLVhUbSRSM3ILopNvTcrLFQaKEERGageSD2LWTVVdXV4wIZ0jibeHvJTrpD8lPPfGscE0JZOUliZqTY5RdzG2lmfzV1cHMowPhPi/Ppw1Mv1nUuWyadyqX0XxNU9gz3DbbZtWXCS68gaXO0YzH4yPjETxWZ7MruematGlU3uOjxaEfbrLRJQwK3w/JC9PusmAlkiaupF85qKLPl39I++RA11Y80HprDuFoS7EOz3BoD4wuqn7tPLhFD9WszVi5NNYTxuK8B8pL388NBC3stHIfZdDKZB/M4H5D5UM9lxCrbyWXuf84tZnSgLunwaO60fgA+BCEJ1xr2/jFObTHPzNmO3f+hZ2OYBkwURDUIdTUTx0FI37QFJd3SydBJcCIufpxyFZgnz4YZCfPRNZY/UnGtUNVY99MqStu6089xnqOPSpfv7Gw63jVF7652J2cRNG6y1m/EecZGSN8QZwm1eeV6Z7mBa0PIBccuP2BpDWNXrUlg/OVVOBXymIcUEZ8BjUxGjwwdd6oCudNh6Mnr92hUtrbRoSwE04OQpvnskRioMsCi8XKlJPbA4Yw5S4fKFxKPAX3LNDodlRzbEMcXv6HDQxGlU3XaL0AFY3Ogh3nxfxkPN+0Xgrx6cFYCD3iedbLlMHCS2CjZ9M6LuwlBcZnLQS+GaiTcVMHftvxr7HSdcyfJrGRibqLc7MkJs7YUj0Z3ZeBpaZkRBSQfXVTno69hhu2xp91zQ8oetreeWiKLn60+0MsaBgmMAUwLfVtnAbQI9ssAqMzWN7FOQS2saHoE2M5jG/mIq7CdnTsY83M4huLJ1GUuxEcdS5/ckrVBfkGxgWYacC77+cFnDr+BlqdSPDTtYJnk9CHA27enmeOJ4njuNzKXMELCEIldtEruXIzxF1ygnyCImUdw9iNSyrnn/eden3fum1E7bdah7W8FucjGEvoTjnFs+ENl9p0lxRJoNurXc6YZtaWx6u0fmiX3vraSi30AyXRVdkpy3NASFK9VWdihhdYgaPnGNsZLVBaahI8fuKRIJX3P3dqxwYqxbjUtjh8mz7MtAWjG0BeDItUVBN1JU3nY6IBg/+uD4qv0zJNKI5WhXrwyc0UFhfJjscWxoWVZmpu2fAD3wpw/gHqlScGKOrsKQ84UBwRzSipMZrxHRyrGtD9dhh3TugEvUaiFkW7bItDT16b3wC/LIUIKHx1wplV/pxrfJgx4XQ0BmksCaKX4mJMh2CQEv26rs3psM2RCcKCRM5wdQ9cQnbU23/H1Z32o+5TsD4Tf9/FdbiXGl/PDom2wzcV5Qhek++teva1B3CiQePLStgoKCe4Qq6jqZADRbAP81ZYcDtnRw8Ow1FvwQ3Gg1Ph0Td4Jbii4yfGCv5KDTuWtg+K2CU7bOEjUB3zsC6RbJDBSiP+tl5UGN9IICdB+wSmxu+EZq9oZKTBs+Elh92jNRWOg1U64HEJrbh3R5ogK0MkpseXNdeQIwu82tSxQbevydhDN7MQdTfpJETZ5RgHLTNJRY2JaDQcwuyj8q1kj0TyPLn6lN8X9OkdiiylxzpTfGLVirnKYg7iDbR4+yZkNMSF/yttS1V13jHfNWCh2bIawRML8DCM0nk8zTzcaIPflUEuJ1zbGUIZINp4UsvUvPe7vahg+DhGLWdDJRrg6LbK2al66YD/Wv5P3N/2ZbamnguLN9QEPix2A4yPvwD60qOEM8E0kPgstb3u9J9ZPHQYfNk/lX+WiAKpokfifFETwMKGLzj6Zhv5LT5BDipizCJ2oEyyxAuLsWm01W4Oqs4/i2jMxA85cnYx9GNTdy8mHXXB0Y/fOL/F2ZHhLI4TqSAZRLhPp5O/DFOF15cFlV2NTXkb1cSHmCvoFCyjzuICN7nOh0CvcZPDbc1DK3a5Gqj9tvNZ7qaP+WD+m4ZuwUpkCyvY9U1ULyWOC/sdfh5S2mm0fN6B9DrxhGQ+sd5DXrD99bmKhDfO2J3TT50YoHzEO7F1N3QEJ76B7JLD5wDQtT1qK2vfw6Y1I+3dO+oh41/90x9m9Amgk+U3CuC1ob+6iiv/LeSEQ48qXoxxVfoeXcIXh+fcSqDXi54Trcg5oDKcDK19c1mphL9Xfd6ogIAB7Z5fnfjhPeL0HF5cU0eADxk9tSWRhoATxiyAVzsM38yntnl9z+5A41eVzMl8cLVbKw71Bl5QR0RXOByzgsKM2g4zbyVGzX8HROtkhkl9bMHWyFiODHVn4HgITUGali5BjQ4siRpyeHkvWR5Yo7R5LMuS6G+VHlauX5QCYIHgVIrrCOaJp+kl8sqSO2ZCw4qxE+i20YK7g9GguLH1P6L6iMb8oyxE7+zrWzT9j6XBJqKpijY8S5cHv/DSzSWm1nGaerfT8sFxnhghkwrWVzI9d4MkxYGWgZy70nY58xxyiIrYaPFrYKnED+OT3buAuGmyjVdvr0mXLGXOqiXF06zLebB00cWLNGOGkHa/CXpNZtCPCah/CS1/t1WhFz3cl0PsquzNOm3QF8B0+DSnyP/mcJmNepaaJtRkmb6uAuoZGUeBAEBn5PRYEloZJbmWrO14mS22eBgc4viYjfhsrwuBMx1z8icJC7CGwd/yX1LKRai8JiVeW+0uM96NMfItm3lUeBWB877OIPf4iVR3/6aZ71i3bJqWYdsNup42U1gTA9FkoNVabqJ2hmPOj/AHasvrsw78jiYgHQ3DDZan5b4S9xUCp/xVvZyr7sfk4oI7pCTfbjILnsWBijZVdkghmO9uIq9M0wE8MZawP7BWfKXsErfjsDRjaz0nQrswQivAweICboWfWUlISOO/we2D6XxYDm8pHxPIrlnJ50Ouq/7O+d+o7m+TnPNqB1WZUlesGM65g1ykQ15o7+twb4GtZrab9Bf3ALpLE5gVAAYs+dMd7JhVGVXYOhobyHDPDzF1lAJiWxK3NWXWW3z1hYW38uYL3m5VxejpXzm7FS8Lmv/U1uOxVPASVRbKoI4y+t0l+6D6VnIqTJlhLX3sr/IsRKSLSpAYtUFjE67SGc5yWr81QPwiLA1Uj9MOMzZH+qIOW5/4L1BEIYXLbCFjDAtp5N5strSIdJXtXXzebF49T+lw09+lWbdRXaKRmtCgCo1lO4j3BbZ8LyG0Ui+0m8qq6pXU3bBlLosldYxlmaU/dUWZq9sJ7G3VcMvW3vNV2h+FApbsJVVlzrl3KY6mYZzVn7Ydt42j52PMRn+bbUSftmc+YkJqOi9NYp+dmrIsOVbv4LUmaIe1PMtMTE2/21NqPD/KTpcYrZ8vn96avLg5PVoaj7c+s2FBWkQCvsV0LpKqeYHjcGlWMjVncLlWt5NPOIj7uWZherxhRsIrnn7GWTUM7kCDg7PxXVC5jFWmOJ1zTPhggWWSYmNd0FyCs4LfiOCRhsNSnjV2TZG2nd8/0WgsCPPQLnQkqW7bh41iSyA36pczBwrfWhp5OW0odIZCRBbvXpGJC/EWznaSbanDerBlhEw7Y1zxzrGWubyog6Q6Ss29ehuLD3s5Y7MseVy7Hl+ZyzpLld7bibNHzeGwOGOdlxelf/a39h3VkJgMAL2zegyNVsti5kFK5oF2F9yvtvA5sblici3Pv7xH62d2XaMzgOxgQXoQa3PCUhd2cZJccrlWwlNxbrGSox+MdAoZFXwwik95C9BdFEa5CrONJTIoTO8ir/gu1Z2prK1CCmcz2ylxX9jAe4RAUsfCjY5z+bNdvEKTFWTbRZAmC9abMWmtQ8Qy4/Onx5ZM/pkzNTRjcmzAhLIOms9/3ppsViw8Yda1pscncg0ybXZbhkjRTYmrZMUv9ju9/oSOdLriYhMtyEMf9DI9C8YyLAKfwMMylV/zmX1MDOEd9afjmBnl2Aj3eXF5sU1Y1UqftRvXQbC1kG6bA6d0RM3aPQWAHsduhhVXkZ+0EvjxuZtGRkyNA+jHVBKm7VOautgVMccFD2W/RBxO0eT4cbgDqWl4RYxJCvDntiCiT9/o+Ji6t1QvqyqbLas3E8QBvMW0TqFq/5N1yfYn7Jc=
*/