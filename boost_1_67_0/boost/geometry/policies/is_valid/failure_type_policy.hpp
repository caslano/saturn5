// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2015, Oracle and/or its affiliates.

// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle

// Licensed under the Boost Software License version 1.0.
// http://www.boost.org/users/license.html

#ifndef BOOST_GEOMETRY_POLICIES_IS_VALID_FAILURE_TYPE_POLICY_HPP
#define BOOST_GEOMETRY_POLICIES_IS_VALID_FAILURE_TYPE_POLICY_HPP

#include <boost/geometry/algorithms/validity_failure_type.hpp>


namespace boost { namespace geometry
{


// policy that simply keeps (and can return) the failure type
template <bool AllowDuplicates = true, bool AllowSpikes = true>
class failure_type_policy
{
private:
    static inline
    validity_failure_type transform_failure_type(validity_failure_type failure)
    {
        if (AllowDuplicates && failure == failure_duplicate_points)
        {
            return no_failure;
        }
        return failure;
    }

    static inline
    validity_failure_type transform_failure_type(validity_failure_type failure,
                                                 bool is_linear)
    {
        if (is_linear && AllowSpikes && failure == failure_spikes)
        {
            return no_failure;
        }
        return transform_failure_type(failure);
    }

public:
    failure_type_policy()
        : m_failure(no_failure)
    {}

    template <validity_failure_type Failure>
    inline bool apply()
    {
        m_failure = transform_failure_type(Failure);
        return m_failure == no_failure;
    }

    template <validity_failure_type Failure, typename Data>
    inline bool apply(Data const&)
    {
        return apply<Failure>();
    }

    template <validity_failure_type Failure, typename Data1, typename Data2>
    inline bool apply(Data1 const& data1, Data2 const&)
    {
        m_failure = transform_failure_type(Failure, data1);
        return m_failure == no_failure;
    }

    validity_failure_type failure() const
    {
        return m_failure;
    }

private:
    validity_failure_type m_failure;
};


}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_POLICIES_IS_VALID_FAILURE_TYPE_POLICY_HPP

/* failure_type_policy.hpp
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
*/