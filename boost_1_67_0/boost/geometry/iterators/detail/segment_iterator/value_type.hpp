// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2014-2015, Oracle and/or its affiliates.

// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle

// Licensed under the Boost Software License version 1.0.
// http://www.boost.org/users/license.html

#ifndef BOOST_GEOMETRY_ITERATORS_DETAIL_SEGMENT_ITERATOR_VALUE_TYPE_HPP
#define BOOST_GEOMETRY_ITERATORS_DETAIL_SEGMENT_ITERATOR_VALUE_TYPE_HPP

#include <iterator>

#include <boost/mpl/if.hpp>
#include <boost/type_traits/is_reference.hpp>

#include <boost/geometry/iterators/point_iterator.hpp>
#include <boost/geometry/util/bare_type.hpp>
#include <boost/geometry/geometries/segment.hpp>
#include <boost/geometry/geometries/pointing_segment.hpp>


namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail { namespace segment_iterator
{

template <typename Geometry>
struct value_type
{
    typedef typename std::iterator_traits
        <
            geometry::point_iterator<Geometry>
        >::reference point_iterator_reference_type;

    typedef typename detail::point_iterator::value_type
        <
            Geometry
        >::type point_iterator_value_type;

    // If the reference type of the point iterator is not really a
    // reference, then dereferencing a point iterator would create
    // a temporary object.
    // In this case using a pointing_segment to represent the
    // dereferenced value of the segment iterator cannot be used, as
    // it would store pointers to temporary objects. Instead we use a
    // segment, which does a full copy of the temporary objects
    // returned by the point iterator.
    typedef typename boost::mpl::if_
        <
            boost::is_reference<point_iterator_reference_type>,
            geometry::model::pointing_segment<point_iterator_value_type>,
            geometry::model::segment
                <
                    typename geometry::util::bare_type
                        <
                            point_iterator_value_type
                        >::type
                >
        >::type type;
};

}} // namespace detail::segment_iterator
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ITERATORS_DETAIL_SEGMENT_ITERATOR_VALUE_TYPE_HPP

/* value_type.hpp
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
*/