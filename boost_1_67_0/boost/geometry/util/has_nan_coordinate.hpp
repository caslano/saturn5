// Boost.Geometry

// Copyright (c) 2015 Oracle and/or its affiliates.

// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle
// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_UTIL_HAS_NAN_COORDINATE_HPP
#define BOOST_GEOMETRY_UTIL_HAS_NAN_COORDINATE_HPP

#include <cstddef>

#include <boost/type_traits/is_floating_point.hpp>

#include <boost/geometry/core/access.hpp>
#include <boost/geometry/core/coordinate_dimension.hpp>
#include <boost/geometry/core/coordinate_type.hpp>

#include <boost/math/special_functions/fpclassify.hpp>


namespace boost { namespace geometry
{
    
#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

struct isnan
{
    template <typename T>
    static inline bool apply(T const& t)
    {
        return boost::math::isnan(t);
    }
};

template
<
    typename Point,
    typename Predicate,
    bool Enable,
    std::size_t I = 0,
    std::size_t N = geometry::dimension<Point>::value
>
struct has_coordinate_with_property
{
    static bool apply(Point const& point)
    {
        return Predicate::apply(geometry::get<I>(point))
            || has_coordinate_with_property
                <
                    Point, Predicate, Enable, I+1, N
                >::apply(point);
    }
};

template <typename Point, typename Predicate, std::size_t I, std::size_t N>
struct has_coordinate_with_property<Point, Predicate, false, I, N>
{
    static inline bool apply(Point const&)
    {
        return false;
    }
};

template <typename Point, typename Predicate, std::size_t N>
struct has_coordinate_with_property<Point, Predicate, true, N, N>
{
    static bool apply(Point const& )
    {
        return false;
    }
};

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

template <typename Point>
bool has_nan_coordinate(Point const& point)
{
    return detail::has_coordinate_with_property
        <
            Point,
            detail::isnan,
            boost::is_floating_point
                <
                    typename coordinate_type<Point>::type
                >::value
        >::apply(point);
}

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_UTIL_HAS_NAN_COORDINATE_HPP

/* has_nan_coordinate.hpp
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
*/