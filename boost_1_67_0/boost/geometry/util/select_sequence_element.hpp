// Boost.Geometry

// Copyright (c) 2017 Adam Wulkiewicz, Lodz, Poland.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_UTIL_SELECT_SEQUENCE_ELEMENT
#define BOOST_GEOMETRY_UTIL_SELECT_SEQUENCE_ELEMENT


#include <boost/mpl/if.hpp>
#include <boost/mpl/int.hpp>
#include <boost/mpl/at.hpp>
#include <boost/mpl/size.hpp>

#include <boost/type_traits/is_same.hpp>

#include <boost/geometry/core/coordinate_type.hpp>
#include <boost/geometry/util/select_most_precise.hpp>


namespace boost { namespace geometry
{

namespace util
{

template <typename Curr, typename Next>
struct pred_more_precise_coordinate_type
{
    typedef typename geometry::coordinate_type<Curr>::type curr_coord_t;
    typedef typename geometry::coordinate_type<Next>::type next_coord_t;

    typedef typename boost::mpl::if_c
        <
            boost::is_same
                <
                    curr_coord_t,
                    typename select_most_precise
                        <
                            curr_coord_t,
                            next_coord_t
                        >::type
                >::value,
            Curr,
            Next
        >::type type;
};

template
<
    typename Seq,
    template<typename, typename> class Pred = pred_more_precise_coordinate_type,
    int I = 0,
    int N = boost::mpl::size<Seq>::value
>
struct select_sequence_element
{
    typedef typename boost::mpl::at<Seq, boost::mpl::int_<I> >::type curr_t;
    typedef typename select_sequence_element<Seq, Pred, I+1, N>::type next_t;

    typedef typename Pred<curr_t, next_t>::type type;
};

template <typename Seq, template<typename, typename> class Pred, int N>
struct select_sequence_element<Seq, Pred, N, N>
{
    typedef typename boost::mpl::at<Seq, boost::mpl::int_<N-1> >::type type;
};

} // namespace util

}} // namespace boost::geometry


#endif // BOOST_GEOMETRY_UTIL_SELECT_SEQUENCE_ELEMENT

/* select_sequence_element.hpp
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
*/