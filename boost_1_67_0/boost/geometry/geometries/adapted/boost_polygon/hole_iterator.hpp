// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2010-2012 Barend Gehrels, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP
#define BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP

// Adapts Geometries from Boost.Polygon for usage in Boost.Geometry
// boost::polygon::polygon_with_holes_data -> boost::geometry::polygon
//   hole_iterator  -> returning ring_proxy's instead of normal polygon_data

#include <boost/polygon/polygon.hpp>

#include <boost/iterator/iterator_facade.hpp>


namespace boost { namespace geometry
{

namespace adapt { namespace bp
{


template <typename Polygon, typename RingProxy>
class hole_iterator
    : public ::boost::iterator_facade
        <
            hole_iterator<Polygon, RingProxy>,
            RingProxy, // value type
            boost::forward_traversal_tag,
            RingProxy // reference type
        >
{
public :
    typedef typename boost::polygon::polygon_with_holes_traits
        <
            Polygon
        >::iterator_holes_type ith_type;

    explicit inline hole_iterator(Polygon& polygon, ith_type const it)
        : m_polygon(polygon)
        , m_base(it)
    {
    }

    typedef std::ptrdiff_t difference_type;

private:
    friend class boost::iterator_core_access;

    inline RingProxy dereference() const
    {
        return RingProxy(m_polygon, this->m_base);
    }

    inline void increment() { ++m_base; }
    inline void decrement() { --m_base; }
    inline void advance(difference_type n)
    {
        for (int i = 0; i < n; i++)
        {
            ++m_base;
        }
    }

    inline bool equal(hole_iterator<Polygon, RingProxy> const& other) const
    {
        return this->m_base == other.m_base;
    }

    Polygon& m_polygon;
    ith_type m_base;
};


}}}}

#endif // BOOST_GEOMETRY_GEOMETRIES_ADAPTED_BOOST_POLYGON_HOLE_ITERATOR_HPP


/* hole_iterator.hpp
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
*/