// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2016, Oracle and/or its affiliates.
// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP
#define BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP


#include <boost/geometry/core/coordinate_type.hpp>

#include <boost/geometry/arithmetic/arithmetic.hpp>
#include <boost/geometry/arithmetic/dot_product.hpp>
#include <boost/geometry/util/math.hpp>


namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename Point>
inline typename coordinate_type<Point>::type vec_length_sqr(Point const& pt)
{
    return dot_product(pt, pt);
}

template <typename Point>
inline typename coordinate_type<Point>::type vec_length(Point const& pt)
{
    // NOTE: hypot() could be used instead of sqrt()
    return math::sqrt(dot_product(pt, pt));
}

template <typename Point>
inline bool vec_normalize(Point & pt, typename coordinate_type<Point>::type & len)
{
    typedef typename coordinate_type<Point>::type coord_t;

    coord_t const c0 = 0;
    len = vec_length(pt);
    
    if (math::equals(len, c0))
    {
        return false;
    }

    divide_value(pt, len);
    return true;
}

template <typename Point>
inline bool vec_normalize(Point & pt)
{
    typedef typename coordinate_type<Point>::type coord_t;
    coord_t len;
    return vec_normalize(pt, len);
}

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ARITHMETIC_NORMALIZE_HPP

/* normalize.hpp
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
*/