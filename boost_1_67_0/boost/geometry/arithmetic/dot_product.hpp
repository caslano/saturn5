// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2008-2012 Bruno Lalande, Paris, France.
// Copyright (c) 2008-2012 Barend Gehrels, Amsterdam, the Netherlands.
// Copyright (c) 2009-2012 Mateusz Loskot, London, UK.

// Parts of Boost.Geometry are redesigned from Geodan's Geographic Library
// (geolib/GGL), copyright (c) 1995-2010 Geodan, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ARITHMETIC_DOT_PRODUCT_HPP
#define BOOST_GEOMETRY_ARITHMETIC_DOT_PRODUCT_HPP


#include <cstddef>

#include <boost/concept/requires.hpp>

#include <boost/geometry/geometries/concepts/point_concept.hpp>
#include <boost/geometry/util/select_coordinate_type.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename P1, typename P2, std::size_t Dimension, std::size_t DimensionCount>
struct dot_product_maker
{
    typedef typename select_coordinate_type<P1, P2>::type coordinate_type;

    static inline coordinate_type apply(P1 const& p1, P2 const& p2)
    {
        return get<Dimension>(p1) * get<Dimension>(p2)
            + dot_product_maker<P1, P2, Dimension+1, DimensionCount>::apply(p1, p2);
    }
};

template <typename P1, typename P2, std::size_t DimensionCount>
struct dot_product_maker<P1, P2, DimensionCount, DimensionCount>
{
    typedef typename select_coordinate_type<P1, P2>::type coordinate_type;

    static inline coordinate_type apply(P1 const& p1, P2 const& p2)
    {
        return get<DimensionCount>(p1) * get<DimensionCount>(p2);
    }
};

} // namespace detail
#endif // DOXYGEN_NO_DETAIL


/*!
    \brief Computes the dot product (or scalar product) of 2 vectors (points).
    \ingroup arithmetic
    \tparam Point1 \tparam_point
    \tparam Point2 \tparam_point
    \param p1 first point
    \param p2 second point
    \return the dot product
    
    \qbk{[heading Examples]}
    \qbk{[dot_product] [dot_product_output]}

 */
template <typename Point1, typename Point2>
inline typename select_coordinate_type<Point1, Point2>::type dot_product(
        Point1 const& p1, Point2 const& p2)
{
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<Point1>) );
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<Point2>) );

    return detail::dot_product_maker
        <
            Point1, Point2,
            0, dimension<Point1>::type::value - 1
        >::apply(p1, p2);
}

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ARITHMETIC_DOT_PRODUCT_HPP

/* dot_product.hpp
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
*/