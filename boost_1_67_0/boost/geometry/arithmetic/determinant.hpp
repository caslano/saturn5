// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2009-2012 Mateusz Loskot, London, UK.
// Copyright (c) 2008-2012 Barend Gehrels, Amsterdam, the Netherlands.
// Copyright (c) 2008-2012 Bruno Lalande, Paris, France.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP
#define BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP


#include <cstddef>

#include <boost/geometry/core/access.hpp>
#include <boost/geometry/geometries/concepts/point_concept.hpp>
#include <boost/geometry/util/select_coordinate_type.hpp>

#include <boost/numeric/conversion/cast.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename ReturnType, typename U, typename V>
class calculate_determinant
{
    template <typename T>
    static inline ReturnType rt(T const& v)
    {
        return boost::numeric_cast<ReturnType>(v);
    }

public :

    static inline ReturnType apply(U const& ux, U const& uy
                                 , V const& vx, V const& vy)
    {
        return rt(ux) * rt(vy) - rt(uy) * rt(vx);
    }
};

template <typename ReturnType, typename U, typename V>
inline ReturnType determinant(U const& ux, U const& uy
                            , V const& vx, V const& vy)
{
    return calculate_determinant
        <
            ReturnType, U, V
        >::apply(ux, uy, vx, vy);
}


template <typename ReturnType, typename U, typename V>
inline ReturnType determinant(U const& u, V const& v)
{
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<U>) );
    BOOST_CONCEPT_ASSERT( (concepts::ConstPoint<V>) );

    return calculate_determinant
        <
            ReturnType,
            typename geometry::coordinate_type<U>::type,
            typename geometry::coordinate_type<V>::type
        >::apply(get<0>(u), get<1>(u), get<0>(v), get<1>(v));
}

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ARITHMETIC_DETERMINANT_HPP

/* determinant.hpp
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
*/