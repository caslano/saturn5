// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2007-2015 Barend Gehrels, Amsterdam, the Netherlands.
// Copyright (c) 2008-2015 Bruno Lalande, Paris, France.
// Copyright (c) 2009-2015 Mateusz Loskot, London, UK.
// Copyright (c) 2014-2015 Samuel Debionne, Grenoble, France.

// This file was modified by Oracle on 2015, 2016, 2017, 2018.
// Modifications copyright (c) 2015-2018, Oracle and/or its affiliates.

// Contributed and/or modified by Vissarion Fysikopoulos, on behalf of Oracle
// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle
// Contributed and/or modified by Adam Wulkiewicz, on behalf of Oracle

// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_STRATEGIES_GEOGRAPHIC_EXPAND_SEGMENT_HPP
#define BOOST_GEOMETRY_STRATEGIES_GEOGRAPHIC_EXPAND_SEGMENT_HPP

#include <cstddef>
#include <functional>

#include <boost/geometry/core/access.hpp>
#include <boost/geometry/core/tags.hpp>

#include <boost/geometry/algorithms/detail/envelope/box.hpp>
#include <boost/geometry/algorithms/detail/envelope/range_of_boxes.hpp>
#include <boost/geometry/algorithms/detail/envelope/segment.hpp>

#include <boost/geometry/srs/spheroid.hpp>

#include <boost/geometry/strategies/expand.hpp>
#include <boost/geometry/strategies/geographic/envelope_segment.hpp>
#include <boost/geometry/strategies/geographic/parameters.hpp>
#include <boost/geometry/strategies/spherical/expand_segment.hpp>


namespace boost { namespace geometry
{

namespace strategy { namespace expand
{

template
<
    typename FormulaPolicy = strategy::andoyer,
    typename Spheroid = geometry::srs::spheroid<double>,
    typename CalculationType = void
>
class geographic_segment
{
public:
    inline geographic_segment()
        : m_envelope_strategy()
    {}

    explicit inline geographic_segment(Spheroid const& spheroid)
        : m_envelope_strategy(spheroid)
    {}

    template <typename Box, typename Segment>
    inline void apply(Box& box, Segment const& segment) const
    {
        detail::segment_on_spheroid::apply(box, segment, m_envelope_strategy);
    }

private:
    strategy::envelope::geographic_segment
        <
            FormulaPolicy, Spheroid, CalculationType
        > m_envelope_strategy;
};


#ifndef DOXYGEN_NO_STRATEGY_SPECIALIZATIONS

namespace services
{

template <typename CalculationType>
struct default_strategy<segment_tag, geographic_tag, CalculationType>
{
    typedef geographic_segment
        <
            strategy::andoyer,
            geometry::srs::spheroid<double>,
            CalculationType
        > type;
};

} // namespace services

#endif // DOXYGEN_NO_STRATEGY_SPECIALIZATIONS


}} // namespace strategy::expand

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_STRATEGIES_GEOGRAPHIC_EXPAND_SEGMENT_HPP

/* expand_segment.hpp
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
*/