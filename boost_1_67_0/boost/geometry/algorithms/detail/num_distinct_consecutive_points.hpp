// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2014, Oracle and/or its affiliates.

// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle

// Licensed under the Boost Software License version 1.0.
// http://www.boost.org/users/license.html

#ifndef BOOST_GEOMETRY_ALGORITHMS_DETAIL_NUM_DISTINCT_CONSECUTIVE_POINTS_HPP
#define BOOST_GEOMETRY_ALGORITHMS_DETAIL_NUM_DISTINCT_CONSECUTIVE_POINTS_HPP

#include <cstddef>

#include <algorithm>

#include <boost/range.hpp>



namespace boost { namespace geometry
{


#ifndef DOXYGEN_NO_DETAIL
namespace detail
{


// returns the number of distinct values in the range;
// return values are 0u through MaximumNumber, where MaximumNumber
// corresponds to MaximumNumber or more distinct values
//
// FUTURE: take into account topologically closed ranges;
//         add appropriate template parameter(s) to control whether
//         the closing point for topologically closed ranges is to be
//         accounted for separately or not
template
<
    typename Range,
    std::size_t MaximumNumber,
    bool AllowDuplicates /* true */,
    typename NotEqualTo
>
struct num_distinct_consecutive_points
{
    static inline std::size_t apply(Range const& range)
    {
        typedef typename boost::range_iterator<Range const>::type iterator;

        std::size_t const size = boost::size(range);

        if ( size < 2u )
        {
            return (size < MaximumNumber) ? size : MaximumNumber;
        }

        iterator current = boost::begin(range);
        std::size_t counter(0);
        do
        {
            ++counter;
            iterator next = std::find_if(current,
                                         boost::end(range),
                                         NotEqualTo(*current));
            current = next;
        }
        while ( current != boost::end(range) && counter <= MaximumNumber );

        return counter;
    }
};


template <typename Range, std::size_t MaximumNumber, typename NotEqualTo>
struct num_distinct_consecutive_points<Range, MaximumNumber, false, NotEqualTo>
{
    static inline std::size_t apply(Range const& range)
    {
        std::size_t const size = boost::size(range);
        return (size < MaximumNumber) ? size : MaximumNumber;
    }
};


} // namespace detail
#endif // DOXYGEN_NO_DETAIL


}} // namespace boost::geometry


#endif // BOOST_GEOMETRY_ALGORITHMS_DETAIL_NUM_DISTINCT_CONSECUTIVE_POINTS_HPP

/* num_distinct_consecutive_points.hpp
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
*/