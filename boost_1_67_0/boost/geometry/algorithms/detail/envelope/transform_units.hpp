// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2015, Oracle and/or its affiliates.

// Contributed and/or modified by Menelaos Karavelas, on behalf of Oracle

// Distributed under the Boost Software License, Version 1.0.
// (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ALGORITHMS_DETAIL_ENVELOPE_TRANSFORM_UNITS_HPP
#define BOOST_GEOMETRY_ALGORITHMS_DETAIL_ENVELOPE_TRANSFORM_UNITS_HPP

#include <cstddef>

#include <boost/geometry/core/tag.hpp>
#include <boost/geometry/core/tags.hpp>

#include <boost/geometry/strategies/strategy_transform.hpp>

#include <boost/geometry/views/detail/indexed_point_view.hpp>
#include <boost/geometry/views/detail/two_dimensional_view.hpp>

#include <boost/geometry/algorithms/not_implemented.hpp>
#include <boost/geometry/algorithms/transform.hpp>


namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail { namespace envelope
{


template
<
    typename GeometryIn,
    typename GeometryOut,
    typename TagIn = typename tag<GeometryIn>::type,
    typename TagOut = typename tag<GeometryOut>::type
>
struct transform_units_impl
    : not_implemented<TagIn, TagOut>
{};

template <typename PointIn, typename PointOut>
struct transform_units_impl<PointIn, PointOut, point_tag, point_tag>
{
    static inline void apply(PointIn const& point_in, PointOut& point_out)
    {
        detail::two_dimensional_view<PointIn const> view_in(point_in);
        detail::two_dimensional_view<PointOut> view_out(point_out);

        geometry::transform(view_in, view_out);
    }
};

template <typename BoxIn, typename BoxOut>
struct transform_units_impl<BoxIn, BoxOut, box_tag, box_tag>
{
    template <std::size_t Index>
    static inline void apply(BoxIn const& box_in, BoxOut& box_out)
    {
        typedef detail::indexed_point_view<BoxIn const, Index> view_in_type;
        typedef detail::indexed_point_view<BoxOut, Index> view_out_type;

        view_in_type view_in(box_in);
        view_out_type view_out(box_out);

        transform_units_impl
            <
                view_in_type, view_out_type
            >::apply(view_in, view_out);
    }

    static inline void apply(BoxIn const& box_in, BoxOut& box_out)
    {
        apply<min_corner>(box_in, box_out);
        apply<max_corner>(box_in, box_out);
    }
};


// Short utility to transform the units of the first two coordinates of
// geometry_in to the units of geometry_out
template <typename GeometryIn, typename GeometryOut>
inline void transform_units(GeometryIn const& geometry_in,
                            GeometryOut& geometry_out)
{
    transform_units_impl
        <
            GeometryIn, GeometryOut
        >::apply(geometry_in, geometry_out);
}


}} // namespace detail::envelope
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost:geometry

#endif // BOOST_GEOMETRY_ALGORITHMS_DETAIL_ENVELOPE_TRANSFORM_UNITS_HPP

/* transform_units.hpp
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
*/