// Boost.Geometry (aka GGL, Generic Geometry Library)

// Copyright (c) 2019-2019 Barend Gehrels, Amsterdam, the Netherlands.

// Use, modification and distribution is subject to the Boost Software License,
// Version 1.0. (See accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)

#ifndef BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP
#define BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP


#include <cstddef>
#include <map>

#include <boost/geometry/core/access.hpp>

namespace boost { namespace geometry
{

#ifndef DOXYGEN_NO_DETAIL
namespace detail
{

template <typename Segment>
struct segment_as_subrange
{
    segment_as_subrange(Segment const& s)
        : m_segment(s)
    {
        geometry::set<0>(m_p1, geometry::get<0, 0>(m_segment));
        geometry::set<1>(m_p1, geometry::get<0, 1>(m_segment));
        geometry::set<0>(m_p2, geometry::get<1, 0>(m_segment));
        geometry::set<1>(m_p2, geometry::get<1, 1>(m_segment));
    }

    typedef typename geometry::point_type<Segment>::type point_type;

    point_type const& at(std::size_t index) const
    {
        return index == 0 ? m_p1 : m_p2;
    }

    static inline bool is_last_segment()
    {
        return true;
    }

    point_type m_p1, m_p2;

    Segment const& m_segment;
};

} // namespace detail
#endif // DOXYGEN_NO_DETAIL

}} // namespace boost::geometry

#endif // BOOST_GEOMETRY_ALGORITHMS_DETAIL_OVERLAY_SEGMENT_AS_SUBRANGE_HPP

/* segment_as_subrange.hpp
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
*/