// Copyright David Abrahams 2006. Distributed under the Boost
// Software License, Version 1.0. (See accompanying
// file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)
#ifndef BOOST_ARCHIVE_DETAIL_REGISTER_ARCHIVE_DWA2006521_HPP
# define BOOST_ARCHIVE_DETAIL_REGISTER_ARCHIVE_DWA2006521_HPP

namespace boost { namespace archive { namespace detail {

// No instantiate_ptr_serialization overloads generated by
// BOOST_SERIALIZATION_REGISTER_ARCHIVE that lexically follow the call
// will be seen *unless* they are in an associated namespace of one of
// the arguments, so we pass one of these along to make sure this
// namespace is considered.  See temp.dep.candidate (14.6.4.2) in the
// standard.
struct adl_tag {};

template <class Archive, class Serializable>
struct ptr_serialization_support;

// We could've just used ptr_serialization_support, above, but using
// it with only a forward declaration causes vc6/7 to complain about a
// missing instantiate member, even if it has one.  This is just a
// friendly layer of indirection.
template <class Archive, class Serializable>
struct _ptr_serialization_support
  : ptr_serialization_support<Archive,Serializable>
{
    typedef int type;
};

#if defined(__SUNPRO_CC) && (__SUNPRO_CC < 0x5130)

template<int N>
struct counter : counter<N-1> {};
template<>
struct counter<0> {};

template<class Serializable>
void instantiate_ptr_serialization(Serializable* s, int, adl_tag) {
    instantiate_ptr_serialization(s, counter<20>());
}

template<class Archive>
struct get_counter {
    static const int value = sizeof(adjust_counter(counter<20>()));
    typedef counter<value> type;
    typedef counter<value - 1> prior;
    typedef char (&next)[value+1];
};

char adjust_counter(counter<0>);
template<class Serializable>
void instantiate_ptr_serialization(Serializable*, counter<0>) {}

#define BOOST_SERIALIZATION_REGISTER_ARCHIVE(Archive)                     \
namespace boost { namespace archive { namespace detail {                  \
    get_counter<Archive >::next adjust_counter(get_counter<Archive >::type);\
    template<class Serializable>                                          \
    void instantiate_ptr_serialization(Serializable* s,                   \
        get_counter<Archive >::type) {                                    \
        ptr_serialization_support<Archive, Serializable> x;               \
        instantiate_ptr_serialization(s, get_counter<Archive >::prior()); \
    }\
}}}


#else

// This function gets called, but its only purpose is to participate
// in overload resolution with the functions declared by
// BOOST_SERIALIZATION_REGISTER_ARCHIVE, below.
template <class Serializable>
void instantiate_ptr_serialization(Serializable*, int, adl_tag ) {}

// The function declaration generated by this macro never actually
// gets called, but its return type gets instantiated, and that's
// enough to cause registration of serialization functions between
// Archive and any exported Serializable type.  See also:
// boost/serialization/export.hpp
# define BOOST_SERIALIZATION_REGISTER_ARCHIVE(Archive)                  \
namespace boost { namespace archive { namespace detail {                \
                                                                        \
template <class Serializable>                                           \
typename _ptr_serialization_support<Archive, Serializable>::type  \
instantiate_ptr_serialization( Serializable*, Archive*, adl_tag );              \
                                                                        \
}}}
#endif
}}} // namespace boost::archive::detail

#endif // BOOST_ARCHIVE_DETAIL_INSTANTIATE_SERIALIZE_DWA2006521_HPP

/* register_archive.hpp
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
*/